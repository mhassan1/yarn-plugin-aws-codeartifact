/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@yarnpkg/plugin-aws-codeartifact",
factory: function (require) {
"use strict";var plugin=(()=>{var TU=Object.create;var hc=Object.defineProperty;var vU=Object.getOwnPropertyDescriptor;var xU=Object.getOwnPropertyNames;var IU=Object.getPrototypeOf,OU=Object.prototype.hasOwnProperty;var Y=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var R=(e,t)=>()=>(e&&(t=e(e=0)),t);var N=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ot=(e,t)=>{for(var r in t)hc(e,r,{get:t[r],enumerable:!0})},GS=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of xU(t))!OU.call(e,o)&&o!==r&&hc(e,o,{get:()=>t[o],enumerable:!(n=vU(t,o))||n.enumerable});return e};var T=(e,t,r)=>(r=e!=null?TU(IU(e)):{},GS(t||!e||!e.__esModule?hc(r,"default",{value:e,enumerable:!0}):r,e)),Se=e=>GS(hc({},"__esModule",{value:!0}),e);var D_=N((mi,Jo)=>{var LU=200,d_="__lodash_hash_undefined__",MU=800,UU=16,f_=9007199254740991,p_="[object Arguments]",FU="[object Array]",qU="[object AsyncFunction]",jU="[object Boolean]",HU="[object Date]",BU="[object Error]",m_="[object Function]",VU="[object GeneratorFunction]",GU="[object Map]",zU="[object Number]",WU="[object Null]",h_="[object Object]",KU="[object Proxy]",YU="[object RegExp]",XU="[object Set]",QU="[object String]",JU="[object Undefined]",ZU="[object WeakMap]",eF="[object ArrayBuffer]",tF="[object DataView]",rF="[object Float32Array]",nF="[object Float64Array]",oF="[object Int8Array]",sF="[object Int16Array]",iF="[object Int32Array]",aF="[object Uint8Array]",cF="[object Uint8ClampedArray]",uF="[object Uint16Array]",lF="[object Uint32Array]",dF=/[\\^$.*+?()[\]{}|]/g,fF=/^\[object .+?Constructor\]$/,pF=/^(?:0|[1-9]\d*)$/,Me={};Me[rF]=Me[nF]=Me[oF]=Me[sF]=Me[iF]=Me[aF]=Me[cF]=Me[uF]=Me[lF]=!0;Me[p_]=Me[FU]=Me[eF]=Me[jU]=Me[tF]=Me[HU]=Me[BU]=Me[m_]=Me[GU]=Me[zU]=Me[h_]=Me[YU]=Me[XU]=Me[QU]=Me[ZU]=!1;var g_=typeof global=="object"&&global&&global.Object===Object&&global,mF=typeof self=="object"&&self&&self.Object===Object&&self,yi=g_||mF||Function("return this")(),y_=typeof mi=="object"&&mi&&!mi.nodeType&&mi,hi=y_&&typeof Jo=="object"&&Jo&&!Jo.nodeType&&Jo,E_=hi&&hi.exports===y_,Gp=E_&&g_.process,r_=function(){try{var e=hi&&hi.require&&hi.require("util").types;return e||Gp&&Gp.binding&&Gp.binding("util")}catch{}}(),n_=r_&&r_.isTypedArray;function S_(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function hF(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function gF(e){return function(t){return e(t)}}function yF(e,t){return e?.[t]}function EF(e,t){return function(r){return e(t(r))}}var SF=Array.prototype,_F=Function.prototype,Pc=Object.prototype,zp=yi["__core-js_shared__"],Rc=_F.toString,Nr=Pc.hasOwnProperty,o_=function(){var e=/[^.]+$/.exec(zp&&zp.keys&&zp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),__=Pc.toString,bF=Rc.call(Object),wF=RegExp("^"+Rc.call(Nr).replace(dF,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bc=E_?yi.Buffer:void 0,s_=yi.Symbol,i_=yi.Uint8Array,a_=bc?bc.allocUnsafe:void 0,b_=EF(Object.getPrototypeOf,Object),c_=Object.create,PF=Pc.propertyIsEnumerable,RF=SF.splice,oo=s_?s_.toStringTag:void 0,wc=function(){try{var e=Zp(Object,"defineProperty");return e({},"",{}),e}catch{}}(),CF=bc?bc.isBuffer:void 0,u_=Math.max,AF=Date.now,w_=Zp(yi,"Map"),gi=Zp(Object,"create"),TF=function(){function e(){}return function(t){if(!Dr(t))return{};if(c_)return c_(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function so(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function vF(){this.__data__=gi?gi(null):{},this.size=0}function xF(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function IF(e){var t=this.__data__;if(gi){var r=t[e];return r===d_?void 0:r}return Nr.call(t,e)?t[e]:void 0}function OF(e){var t=this.__data__;return gi?t[e]!==void 0:Nr.call(t,e)}function DF(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=gi&&t===void 0?d_:t,this}so.prototype.clear=vF;so.prototype.delete=xF;so.prototype.get=IF;so.prototype.has=OF;so.prototype.set=DF;function kr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function NF(){this.__data__=[],this.size=0}function kF(e){var t=this.__data__,r=Cc(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():RF.call(t,r,1),--this.size,!0}function $F(e){var t=this.__data__,r=Cc(t,e);return r<0?void 0:t[r][1]}function LF(e){return Cc(this.__data__,e)>-1}function MF(e,t){var r=this.__data__,n=Cc(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}kr.prototype.clear=NF;kr.prototype.delete=kF;kr.prototype.get=$F;kr.prototype.has=LF;kr.prototype.set=MF;function Zo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function UF(){this.size=0,this.__data__={hash:new so,map:new(w_||kr),string:new so}}function FF(e){var t=Tc(this,e).delete(e);return this.size-=t?1:0,t}function qF(e){return Tc(this,e).get(e)}function jF(e){return Tc(this,e).has(e)}function HF(e,t){var r=Tc(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}Zo.prototype.clear=UF;Zo.prototype.delete=FF;Zo.prototype.get=qF;Zo.prototype.has=jF;Zo.prototype.set=HF;function es(e){var t=this.__data__=new kr(e);this.size=t.size}function BF(){this.__data__=new kr,this.size=0}function VF(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function GF(e){return this.__data__.get(e)}function zF(e){return this.__data__.has(e)}function WF(e,t){var r=this.__data__;if(r instanceof kr){var n=r.__data__;if(!w_||n.length<LU-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Zo(n)}return r.set(e,t),this.size=r.size,this}es.prototype.clear=BF;es.prototype.delete=VF;es.prototype.get=GF;es.prototype.has=zF;es.prototype.set=WF;function KF(e,t){var r=Xp(e),n=!r&&Yp(e),o=!r&&!n&&T_(e),s=!r&&!n&&!o&&x_(e),i=r||n||o||s,a=i?hF(e.length,String):[],c=a.length;for(var u in e)(t||Nr.call(e,u))&&!(i&&(u=="length"||o&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||C_(u,c)))&&a.push(u);return a}function Wp(e,t,r){(r!==void 0&&!vc(e[t],r)||r===void 0&&!(t in e))&&Qp(e,t,r)}function YF(e,t,r){var n=e[t];(!(Nr.call(e,t)&&vc(n,r))||r===void 0&&!(t in e))&&Qp(e,t,r)}function Cc(e,t){for(var r=e.length;r--;)if(vc(e[r][0],t))return r;return-1}function Qp(e,t,r){t=="__proto__"&&wc?wc(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var XF=cq();function Ac(e){return e==null?e===void 0?JU:WU:oo&&oo in Object(e)?uq(e):hq(e)}function l_(e){return Ei(e)&&Ac(e)==p_}function QF(e){if(!Dr(e)||pq(e))return!1;var t=tm(e)?wF:fF;return t.test(Sq(e))}function JF(e){return Ei(e)&&v_(e.length)&&!!Me[Ac(e)]}function ZF(e){if(!Dr(e))return mq(e);var t=A_(e),r=[];for(var n in e)n=="constructor"&&(t||!Nr.call(e,n))||r.push(n);return r}function Jp(e,t,r,n,o){e!==t&&XF(t,function(s,i){if(o||(o=new es),Dr(s))eq(e,t,i,r,Jp,n,o);else{var a=n?n(Kp(e,i),s,i+"",e,t,o):void 0;a===void 0&&(a=s),Wp(e,i,a)}},I_)}function eq(e,t,r,n,o,s,i){var a=Kp(e,r),c=Kp(t,r),u=i.get(c);if(u){Wp(e,r,u);return}var d=s?s(a,c,r+"",e,t,i):void 0,l=d===void 0;if(l){var h=Xp(c),g=!h&&T_(c),S=!h&&!g&&x_(c);d=c,h||g||S?Xp(a)?d=a:_q(a)?d=sq(a):g?(l=!1,d=rq(c,!0)):S?(l=!1,d=oq(c,!0)):d=[]:bq(c)||Yp(c)?(d=a,Yp(a)?d=wq(a):(!Dr(a)||tm(a))&&(d=lq(c))):l=!1}l&&(i.set(c,d),o(d,c,n,s,i),i.delete(c)),Wp(e,r,d)}function P_(e,t){return yq(gq(e,t,O_),e+"")}var tq=wc?function(e,t){return wc(e,"toString",{configurable:!0,enumerable:!1,value:Cq(t),writable:!0})}:O_;function rq(e,t){if(t)return e.slice();var r=e.length,n=a_?a_(r):new e.constructor(r);return e.copy(n),n}function nq(e){var t=new e.constructor(e.byteLength);return new i_(t).set(new i_(e)),t}function oq(e,t){var r=t?nq(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function sq(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function iq(e,t,r,n){var o=!r;r||(r={});for(var s=-1,i=t.length;++s<i;){var a=t[s],c=n?n(r[a],e[a],a,r,e):void 0;c===void 0&&(c=e[a]),o?Qp(r,a,c):YF(r,a,c)}return r}function aq(e){return P_(function(t,r){var n=-1,o=r.length,s=o>1?r[o-1]:void 0,i=o>2?r[2]:void 0;for(s=e.length>3&&typeof s=="function"?(o--,s):void 0,i&&dq(r[0],r[1],i)&&(s=o<3?void 0:s,o=1),t=Object(t);++n<o;){var a=r[n];a&&e(t,a,n,s)}return t})}function cq(e){return function(t,r,n){for(var o=-1,s=Object(t),i=n(t),a=i.length;a--;){var c=i[e?a:++o];if(r(s[c],c,s)===!1)break}return t}}function R_(e,t,r,n,o,s){return Dr(e)&&Dr(t)&&(s.set(t,e),Jp(e,t,void 0,R_,s),s.delete(t)),e}function Tc(e,t){var r=e.__data__;return fq(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Zp(e,t){var r=yF(e,t);return QF(r)?r:void 0}function uq(e){var t=Nr.call(e,oo),r=e[oo];try{e[oo]=void 0;var n=!0}catch{}var o=__.call(e);return n&&(t?e[oo]=r:delete e[oo]),o}function lq(e){return typeof e.constructor=="function"&&!A_(e)?TF(b_(e)):{}}function C_(e,t){var r=typeof e;return t=t??f_,!!t&&(r=="number"||r!="symbol"&&pF.test(e))&&e>-1&&e%1==0&&e<t}function dq(e,t,r){if(!Dr(r))return!1;var n=typeof t;return(n=="number"?em(r)&&C_(t,r.length):n=="string"&&t in r)?vc(r[t],e):!1}function fq(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function pq(e){return!!o_&&o_ in e}function A_(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Pc;return e===r}function mq(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}function hq(e){return __.call(e)}function gq(e,t,r){return t=u_(t===void 0?e.length-1:t,0),function(){for(var n=arguments,o=-1,s=u_(n.length-t,0),i=Array(s);++o<s;)i[o]=n[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=n[o];return a[t]=r(i),S_(e,this,a)}}function Kp(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var yq=Eq(tq);function Eq(e){var t=0,r=0;return function(){var n=AF(),o=UU-(n-r);if(r=n,o>0){if(++t>=MU)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Sq(e){if(e!=null){try{return Rc.call(e)}catch{}try{return e+""}catch{}}return""}function vc(e,t){return e===t||e!==e&&t!==t}var Yp=l_(function(){return arguments}())?l_:function(e){return Ei(e)&&Nr.call(e,"callee")&&!PF.call(e,"callee")},Xp=Array.isArray;function em(e){return e!=null&&v_(e.length)&&!tm(e)}function _q(e){return Ei(e)&&em(e)}var T_=CF||Aq;function tm(e){if(!Dr(e))return!1;var t=Ac(e);return t==m_||t==VU||t==qU||t==KU}function v_(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=f_}function Dr(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Ei(e){return e!=null&&typeof e=="object"}function bq(e){if(!Ei(e)||Ac(e)!=h_)return!1;var t=b_(e);if(t===null)return!0;var r=Nr.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Rc.call(r)==bF}var x_=n_?gF(n_):JF;function wq(e){return iq(e,I_(e))}var Pq=P_(function(e){return e.push(void 0,R_),S_(Rq,void 0,e)});function I_(e){return em(e)?KF(e,!0):ZF(e)}var Rq=aq(function(e,t,r,n){Jp(e,t,r,n)});function Cq(e){return function(){return e}}function O_(e){return e}function Aq(){return!1}Jo.exports=Pq});var z_=N((nee,G_)=>{var Tq="Expected a function",M_="__lodash_hash_undefined__",U_=1/0,vq="[object Function]",xq="[object GeneratorFunction]",Iq="[object Symbol]",Oq=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Dq=/^\w*$/,Nq=/^\./,kq=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$q=/[\\^$.*+?()[\]{}|]/g,Lq=/\\(\\)?/g,Mq=/^\[object .+?Constructor\]$/,Uq=typeof global=="object"&&global&&global.Object===Object&&global,Fq=typeof self=="object"&&self&&self.Object===Object&&self,nm=Uq||Fq||Function("return this")();function qq(e,t){return e?.[t]}function jq(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}var Hq=Array.prototype,Bq=Function.prototype,F_=Object.prototype,rm=nm["__core-js_shared__"],N_=function(){var e=/[^.]+$/.exec(rm&&rm.keys&&rm.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),q_=Bq.toString,om=F_.hasOwnProperty,j_=F_.toString,Vq=RegExp("^"+q_.call(om).replace($q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k_=nm.Symbol,Gq=Hq.splice,zq=H_(nm,"Map"),Si=H_(Object,"create"),$_=k_?k_.prototype:void 0,L_=$_?$_.toString:void 0;function io(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Wq(){this.__data__=Si?Si(null):{}}function Kq(e){return this.has(e)&&delete this.__data__[e]}function Yq(e){var t=this.__data__;if(Si){var r=t[e];return r===M_?void 0:r}return om.call(t,e)?t[e]:void 0}function Xq(e){var t=this.__data__;return Si?t[e]!==void 0:om.call(t,e)}function Qq(e,t){var r=this.__data__;return r[e]=Si&&t===void 0?M_:t,this}io.prototype.clear=Wq;io.prototype.delete=Kq;io.prototype.get=Yq;io.prototype.has=Xq;io.prototype.set=Qq;function ts(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Jq(){this.__data__=[]}function Zq(e){var t=this.__data__,r=xc(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Gq.call(t,r,1),!0}function ej(e){var t=this.__data__,r=xc(t,e);return r<0?void 0:t[r][1]}function tj(e){return xc(this.__data__,e)>-1}function rj(e,t){var r=this.__data__,n=xc(r,e);return n<0?r.push([e,t]):r[n][1]=t,this}ts.prototype.clear=Jq;ts.prototype.delete=Zq;ts.prototype.get=ej;ts.prototype.has=tj;ts.prototype.set=rj;function ao(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function nj(){this.__data__={hash:new io,map:new(zq||ts),string:new io}}function oj(e){return Ic(this,e).delete(e)}function sj(e){return Ic(this,e).get(e)}function ij(e){return Ic(this,e).has(e)}function aj(e,t){return Ic(this,e).set(e,t),this}ao.prototype.clear=nj;ao.prototype.delete=oj;ao.prototype.get=sj;ao.prototype.has=ij;ao.prototype.set=aj;function xc(e,t){for(var r=e.length;r--;)if(Ej(e[r][0],t))return r;return-1}function cj(e,t){t=fj(t,e)?[t]:dj(t);for(var r=0,n=t.length;e!=null&&r<n;)e=e[gj(t[r++])];return r&&r==n?e:void 0}function uj(e){if(!V_(e)||mj(e))return!1;var t=Sj(e)||jq(e)?Vq:Mq;return t.test(yj(e))}function lj(e){if(typeof e=="string")return e;if(im(e))return L_?L_.call(e):"";var t=e+"";return t=="0"&&1/e==-U_?"-0":t}function dj(e){return B_(e)?e:hj(e)}function Ic(e,t){var r=e.__data__;return pj(t)?r[typeof t=="string"?"string":"hash"]:r.map}function H_(e,t){var r=qq(e,t);return uj(r)?r:void 0}function fj(e,t){if(B_(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||im(e)?!0:Dq.test(e)||!Oq.test(e)||t!=null&&e in Object(t)}function pj(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function mj(e){return!!N_&&N_ in e}var hj=sm(function(e){e=bj(e);var t=[];return Nq.test(e)&&t.push(""),e.replace(kq,function(r,n,o,s){t.push(o?s.replace(Lq,"$1"):n||r)}),t});function gj(e){if(typeof e=="string"||im(e))return e;var t=e+"";return t=="0"&&1/e==-U_?"-0":t}function yj(e){if(e!=null){try{return q_.call(e)}catch{}try{return e+""}catch{}}return""}function sm(e,t){if(typeof e!="function"||t&&typeof t!="function")throw new TypeError(Tq);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],s=r.cache;if(s.has(o))return s.get(o);var i=e.apply(this,n);return r.cache=s.set(o,i),i};return r.cache=new(sm.Cache||ao),r}sm.Cache=ao;function Ej(e,t){return e===t||e!==e&&t!==t}var B_=Array.isArray;function Sj(e){var t=V_(e)?j_.call(e):"";return t==vq||t==xq}function V_(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function _j(e){return!!e&&typeof e=="object"}function im(e){return typeof e=="symbol"||_j(e)&&j_.call(e)==Iq}function bj(e){return e==null?"":lj(e)}function wj(e,t,r){var n=e==null?void 0:cj(e,t);return n===void 0?r:n}G_.exports=wj});var dn=N(ke=>{"use strict";ke.HttpAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(ke.HttpAuthLocation||(ke.HttpAuthLocation={}));ke.HttpApiKeyAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(ke.HttpApiKeyAuthLocation||(ke.HttpApiKeyAuthLocation={}));ke.EndpointURLScheme=void 0;(function(e){e.HTTP="http",e.HTTPS="https"})(ke.EndpointURLScheme||(ke.EndpointURLScheme={}));ke.AlgorithmId=void 0;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(ke.AlgorithmId||(ke.AlgorithmId={}));var Tj=e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>ke.AlgorithmId.SHA256,checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>ke.AlgorithmId.MD5,checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},vj=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},xj=e=>Tj(e),Ij=e=>vj(e);ke.FieldPosition=void 0;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(ke.FieldPosition||(ke.FieldPosition={}));var Oj="__smithy_context";ke.IniSectionType=void 0;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(ke.IniSectionType||(ke.IniSectionType={}));ke.RequestHandlerProtocol=void 0;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(ke.RequestHandlerProtocol||(ke.RequestHandlerProtocol={}));ke.SMITHY_CONTEXT_KEY=Oj;ke.getDefaultClientConfiguration=xj;ke.resolveDefaultRuntimeConfig=Ij});var Ie=N(fn=>{"use strict";var Dj=dn(),Nj=e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),kj=e=>({httpHandler:e.httpHandler()}),um=class{name;kind;values;constructor({name:t,kind:r=Dj.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}},lm=class{entries={};encoding;constructor({fields:t=[],encoding:r="utf-8"}){t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}},dm=class e{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=$j(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}};function $j(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var fm=class{statusCode;reason;headers;body;constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};function Lj(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}fn.Field=um;fn.Fields=lm;fn.HttpRequest=dm;fn.HttpResponse=fm;fn.getHttpHandlerExtensionConfiguration=Nj;fn.isValidHostname=Lj;fn.resolveHttpHandlerRuntimeConfig=kj});var rs=N(_i=>{"use strict";var Mj=Ie();function Uj(e){return e}var nb=e=>t=>async r=>{if(!Mj.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},ob={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Fj=e=>({applyToStack:t=>{t.add(nb(e),ob)}});_i.getHostHeaderPlugin=Fj;_i.hostHeaderMiddleware=nb;_i.hostHeaderMiddlewareOptions=ob;_i.resolveHostHeaderConfig=Uj});var ns=N(Nc=>{"use strict";var sb=()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:u}=a,d=c??t.inputFilterSensitiveLog,l=u??t.outputFilterSensitiveLog,{$metadata:h,...g}=n.output;return i?.info?.({clientName:o,commandName:s,input:d(r.input),output:l(g),metadata:h}),n}catch(n){let{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c}=a,u=c??t.inputFilterSensitiveLog;throw i?.error?.({clientName:o,commandName:s,input:u(r.input),error:n,metadata:n.$metadata}),n}},ib={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},qj=e=>({applyToStack:t=>{t.add(sb(),ib)}});Nc.getLoggerPlugin=qj;Nc.loggerMiddleware=sb;Nc.loggerMiddlewareOptions=ib});var ab={};ot(ab,{InvokeStore:()=>gm,InvokeStoreBase:()=>wi});var bi,pm,wi,mm,hm,gm,cb=R(()=>{bi={REQUEST_ID:Symbol.for("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol.for("_AWS_LAMBDA_X_RAY_TRACE_ID"),TENANT_ID:Symbol.for("_AWS_LAMBDA_TENANT_ID")},pm=["true","1"].includes(process.env?.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA??"");pm||(globalThis.awslambda=globalThis.awslambda||{});wi=class{static PROTECTED_KEYS=bi;isProtectedKey(t){return Object.values(bi).includes(t)}getRequestId(){return this.get(bi.REQUEST_ID)??"-"}getXRayTraceId(){return this.get(bi.X_RAY_TRACE_ID)}getTenantId(){return this.get(bi.TENANT_ID)}},mm=class extends wi{currentContext;getContext(){return this.currentContext}hasContext(){return this.currentContext!==void 0}get(t){return this.currentContext?.[t]}set(t,r){if(this.isProtectedKey(t))throw new Error(`Cannot modify protected Lambda context field: ${String(t)}`);this.currentContext=this.currentContext||{},this.currentContext[t]=r}run(t,r){return this.currentContext=t,r()}},hm=class e extends wi{als;static async create(){let t=new e,r=await import("async_hooks");return t.als=new r.AsyncLocalStorage,t}getContext(){return this.als.getStore()}hasContext(){return this.als.getStore()!==void 0}get(t){return this.als.getStore()?.[t]}set(t,r){if(this.isProtectedKey(t))throw new Error(`Cannot modify protected Lambda context field: ${String(t)}`);let n=this.als.getStore();if(!n)throw new Error("No context available");n[t]=r}run(t,r){return this.als.run(t,r)}};(function(e){let t=null;async function r(){return t||(t=(async()=>{let o="AWS_LAMBDA_MAX_CONCURRENCY"in process.env?await hm.create():new mm;return!pm&&globalThis.awslambda?.InvokeStore?globalThis.awslambda.InvokeStore:(!pm&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=o),o)})()),t}e.getInstanceAsync=r,e._testing=process.env.AWS_LAMBDA_BENCHMARK_MODE==="1"?{reset:()=>{t=null,globalThis.awslambda?.InvokeStore&&delete globalThis.awslambda.InvokeStore,globalThis.awslambda={InvokeStore:void 0}}}:void 0})(gm||(gm={}))});var ub=N(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});kc.recursionDetectionMiddleware=void 0;var jj=(cb(),Se(ab)),Hj=Ie(),ym="X-Amzn-Trace-Id",Bj="AWS_LAMBDA_FUNCTION_NAME",Vj="_X_AMZN_TRACE_ID",Gj=()=>e=>async t=>{let{request:r}=t;if(!Hj.HttpRequest.isInstance(r))return e(t);let n=Object.keys(r.headers??{}).find(d=>d.toLowerCase()===ym.toLowerCase())??ym;if(r.headers.hasOwnProperty(n))return e(t);let o=process.env[Bj],s=process.env[Vj],c=(await jj.InvokeStore.getInstanceAsync())?.getXRayTraceId()??s,u=d=>typeof d=="string"&&d.length>0;return u(o)&&u(c)&&(r.headers[ym]=c),e({...t,request:r})};kc.recursionDetectionMiddleware=Gj});var os=N($c=>{"use strict";var Em=ub(),zj={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Wj=e=>({applyToStack:t=>{t.add(Em.recursionDetectionMiddleware(),zj)}});$c.getRecursionDetectionPlugin=Wj;Object.keys(Em).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call($c,e)&&Object.defineProperty($c,e,{enumerable:!0,get:function(){return Em[e]}})})});var Sm,Kj,lb=R(()=>{Sm=T(dn()),Kj=e=>e[Sm.SMITHY_CONTEXT_KEY]||(e[Sm.SMITHY_CONTEXT_KEY]={})});var ht=N(_m=>{"use strict";var db=dn(),Yj=e=>e[db.SMITHY_CONTEXT_KEY]||(e[db.SMITHY_CONTEXT_KEY]={}),Xj=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};_m.getSmithyContext=Yj;_m.normalizeProvider=Xj});var fb,pb=R(()=>{fb=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let o of e)o.schemeId.split("#")[1]===n&&r.push(o);for(let n of e)r.find(({schemeId:o})=>o===n.schemeId)||r.push(n);return r}});function Qj(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var mb,Pi,Lc=R(()=>{mb=T(ht());pb();Pi=(e,t)=>(r,n)=>async o=>{let s=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=fb(s,i),c=Qj(e.httpAuthSchemes),u=(0,mb.getSmithyContext)(n),d=[];for(let l of a){let h=c.get(l.schemeId);if(!h){d.push(`HttpAuthScheme \`${l.schemeId}\` was not enabled for this service.`);continue}let g=h.identityProvider(await t.identityProviderConfigProvider(e));if(!g){d.push(`HttpAuthScheme \`${l.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:S={},signingProperties:C={}}=l.propertiesExtractor?.(e,n)||{};l.identityProperties=Object.assign(l.identityProperties||{},S),l.signingProperties=Object.assign(l.signingProperties||{},C),u.selectedHttpAuthScheme={httpAuthOption:l,identity:await g(l.identityProperties),signer:h.signer};break}if(!u.selectedHttpAuthScheme)throw new Error(d.join(`
`));return r(o)}});var hb,uo,gb=R(()=>{Lc();hb={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},uo=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Pi(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),hb)}})});var wm=N(ss=>{"use strict";var Jj=Ie(),yb=(e,t)=>(r,n)=>async o=>{let{response:s}=await r(o);try{let i=await t(s,e);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(Jj.HttpResponse.isInstance(s)){let{headers:c={}}=s,u=Object.entries(c);i.$metadata={httpStatusCode:s.statusCode,requestId:bm(/^x-[\w-]+-request-?id$/,u),extendedRequestId:bm(/^x-[\w-]+-id-2$/,u),cfId:bm(/^x-[\w-]+-cf-id$/,u)}}}catch{}}throw i}},bm=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],Eb=(e,t)=>(r,n)=>async o=>{let s=e,i=n.endpointV2?.url&&s.urlParser?async()=>s.urlParser(n.endpointV2.url):s.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(o.input,{...e,endpoint:i});return r({...o,request:a})},Sb={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},_b={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Zj(e,t,r){return{applyToStack:n=>{n.add(yb(e,r),Sb),n.add(Eb(e,t),_b)}}}ss.deserializerMiddleware=yb;ss.deserializerMiddlewareOption=Sb;ss.getSerdePlugin=Zj;ss.serializerMiddleware=Eb;ss.serializerMiddlewareOption=_b});var bb,wb,eH,Pb=R(()=>{bb=T(wm());Lc();wb={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:bb.serializerMiddlewareOption.name},eH=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Pi(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),wb)}})});var Rb=R(()=>{Lc();gb();Pb()});var Cb,Ab,tH,rH,Pm,Rm=R(()=>{Cb=T(Ie()),Ab=T(ht()),tH=e=>t=>{throw t},rH=(e,t)=>{},Pm=e=>(t,r)=>async n=>{if(!Cb.HttpRequest.isInstance(n.request))return t(n);let s=(0,Ab.getSmithyContext)(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:c}=s,u=await t({...n,request:await c.sign(n.request,a,i)}).catch((c.errorHandler||tH)(i));return(c.successHandler||rH)(u.response,i),u}});var Tb,lo,vb=R(()=>{Rm();Tb={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},lo=e=>({applyToStack:t=>{t.addRelativeTo(Pm(e),Tb)}})});var xb=R(()=>{Rm();vb()});var pn,Ib=R(()=>{pn=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function Ob(e,t,r,n,o){return async function*(i,a,...c){let u=a,d=i.startingToken??u[r],l=!0,h;for(;l;){if(u[r]=d,o&&(u[o]=u[o]??i.pageSize),i.client instanceof e)h=await nH(t,i.client,a,i.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield h;let g=d;d=oH(h,n),l=!!(d&&(!i.stopOnSameToken||d!==g))}return void 0}}var nH,oH,Db=R(()=>{nH=async(e,t,r,n=s=>s,...o)=>{let s=new e(r);return s=n(s)??s,await t.send(s,...o)};oH=(e,t)=>{let r=e,n=t.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r}});var Cm=N(Nb=>{"use strict";var sH=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";Nb.isArrayBuffer=sH});var fo=N(Tm=>{"use strict";var iH=Cm(),Am=Y("buffer"),aH=(e,t=0,r=e.byteLength-t)=>{if(!iH.isArrayBuffer(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return Am.Buffer.from(e,t,r)},cH=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?Am.Buffer.from(e,t):Am.Buffer.from(e)};Tm.fromArrayBuffer=aH;Tm.fromString=cH});var kb=N(Mc=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});Mc.fromBase64=void 0;var uH=fo(),lH=/^[A-Za-z0-9+/]*={0,2}$/,dH=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!lH.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,uH.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Mc.fromBase64=dH});var We=N(Uc=>{"use strict";var $b=fo(),Lb=e=>{let t=$b.fromString(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},fH=e=>typeof e=="string"?Lb(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),pH=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return $b.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength).toString("utf8")};Uc.fromUtf8=Lb;Uc.toUint8Array=fH;Uc.toUtf8=pH});var Mb=N(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.toBase64=void 0;var mH=fo(),hH=We(),gH=e=>{let t;if(typeof e=="string"?t=(0,hH.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,mH.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};Fc.toBase64=gH});var je=N(Ri=>{"use strict";var Ub=kb(),Fb=Mb();Object.keys(Ub).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ri,e)&&Object.defineProperty(Ri,e,{enumerable:!0,get:function(){return Ub[e]}})});Object.keys(Fb).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ri,e)&&Object.defineProperty(Ri,e,{enumerable:!0,get:function(){return Fb[e]}})})});var xm=N(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});qc.ChecksumStream=void 0;var yH=je(),EH=Y("stream"),vm=class extends EH.Duplex{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:o,base64Encoder:s}){if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${n?.constructor?.name??n} in ChecksumStream.`);this.base64Encoder=s??yH.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=o,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(o){return n(o)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};qc.ChecksumStream=vm});var $r=N(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.isBlob=is.isReadableStream=void 0;var SH=e=>typeof ReadableStream=="function"&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream);is.isReadableStream=SH;var _H=e=>typeof Blob=="function"&&(e?.constructor?.name===Blob.name||e instanceof Blob);is.isBlob=_H});var qb=N(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.ChecksumStream=void 0;var bH=typeof ReadableStream=="function"?ReadableStream:function(){},Im=class extends bH{};jc.ChecksumStream=Im});var jb=N(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});Hc.createChecksumStream=void 0;var wH=je(),PH=$r(),RH=qb(),CH=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:o})=>{if(!(0,PH.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${r?.constructor?.name??r} in ChecksumStream.`);let s=o??wH.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let i=new TransformStream({start(){},async transform(c,u){t.update(c),u.enqueue(c)},async flush(c){let u=await t.digest(),d=s(u);if(e!==d){let l=new Error(`Checksum mismatch: expected "${e}" but received "${d}" in response header "${n}".`);c.error(l)}else c.terminate()}});r.pipeThrough(i);let a=i.readable;return Object.setPrototypeOf(a,RH.ChecksumStream.prototype),a};Hc.createChecksumStream=CH});var Hb=N(Om=>{"use strict";Object.defineProperty(Om,"__esModule",{value:!0});Om.createChecksumStream=xH;var AH=$r(),TH=xm(),vH=jb();function xH(e){return typeof ReadableStream=="function"&&(0,AH.isReadableStream)(e.source)?(0,vH.createChecksumStream)(e):new TH.ChecksumStream(e)}});var Nm=N(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.ByteArrayCollector=void 0;var Dm=class{allocByteArray;byteLength=0;byteArrays=[];constructor(t){this.allocByteArray=t}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let o=this.byteArrays[n];t.set(o,r),r+=o.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};Bc.ByteArrayCollector=Dm});var zb=N(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.createBufferedReadable=void 0;Lr.createBufferedReadableStream=Bb;Lr.merge=Vb;Lr.flush=Vc;Lr.sizeOf=as;Lr.modeOf=Gb;var IH=Nm();function Bb(e,t,r){let n=e.getReader(),o=!1,s=0,i=["",new IH.ByteArrayCollector(u=>new Uint8Array(u))],a=-1,c=async u=>{let{value:d,done:l}=await n.read(),h=d;if(l){if(a!==-1){let g=Vc(i,a);as(g)>0&&u.enqueue(g)}u.close()}else{let g=Gb(h,!1);if(a!==g&&(a>=0&&u.enqueue(Vc(i,a)),a=g),a===-1){u.enqueue(h);return}let S=as(h);s+=S;let C=as(i[a]);if(S>=t&&C===0)u.enqueue(h);else{let E=Vb(i,a,h);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${S} is below threshold of ${t}, automatically buffering.`)),E>=t?u.enqueue(Vc(i,a)):await c(u)}}};return new ReadableStream({pull:c})}Lr.createBufferedReadable=Bb;function Vb(e,t,r){switch(t){case 0:return e[0]+=r,as(e[0]);case 1:case 2:return e[t].push(r),as(e[t])}}function Vc(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function as(e){return e?.byteLength??e?.length??0}function Gb(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var Kb=N(km=>{"use strict";Object.defineProperty(km,"__esModule",{value:!0});km.createBufferedReadable=NH;var OH=Y("stream"),Wb=Nm(),Mr=zb(),DH=$r();function NH(e,t,r){if((0,DH.isReadableStream)(e))return(0,Mr.createBufferedReadableStream)(e,t,r);let n=new OH.Readable({read(){}}),o=!1,s=0,i=["",new Wb.ByteArrayCollector(c=>new Uint8Array(c)),new Wb.ByteArrayCollector(c=>Buffer.from(new Uint8Array(c)))],a=-1;return e.on("data",c=>{let u=(0,Mr.modeOf)(c,!0);if(a!==u&&(a>=0&&n.push((0,Mr.flush)(i,a)),a=u),a===-1){n.push(c);return}let d=(0,Mr.sizeOf)(c);s+=d;let l=(0,Mr.sizeOf)(i[a]);if(d>=t&&l===0)n.push(c);else{let h=(0,Mr.merge)(i,a,c);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${d} is below threshold of ${t}, automatically buffering.`)),h>=t&&n.push((0,Mr.flush)(i,a))}}),e.on("end",()=>{if(a!==-1){let c=(0,Mr.flush)(i,a);(0,Mr.sizeOf)(c)>0&&n.push(c)}n.push(null)}),n}});var Yb=N(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.getAwsChunkedEncodingStream=void 0;var kH=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,a=r!==void 0&&n!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,c=a?i(o,e):void 0,u=e.getReader();return new ReadableStream({async pull(d){let{value:l,done:h}=await u.read();if(h){if(d.enqueue(`0\r
`),a){let g=r(await c);d.enqueue(`${s}:${g}\r
`),d.enqueue(`\r
`)}d.close()}else d.enqueue(`${(n(l)||0).toString(16)}\r
${l}\r
`)}})};Gc.getAwsChunkedEncodingStream=kH});var Xb=N($m=>{"use strict";Object.defineProperty($m,"__esModule",{value:!0});$m.getAwsChunkedEncodingStream=UH;var $H=Y("stream"),LH=Yb(),MH=$r();function UH(e,t){let r=e,n=e;if((0,MH.isReadableStream)(n))return(0,LH.getAwsChunkedEncodingStream)(n,t);let{base64Encoder:o,bodyLengthChecker:s,checksumAlgorithmFn:i,checksumLocationName:a,streamHasher:c}=t,u=o!==void 0&&i!==void 0&&a!==void 0&&c!==void 0,d=u?c(i,r):void 0,l=new $H.Readable({read:()=>{}});return r.on("data",h=>{let g=s(h)||0;g!==0&&(l.push(`${g.toString(16)}\r
`),l.push(h),l.push(`\r
`))}),r.on("end",async()=>{if(l.push(`0\r
`),u){let h=o(await d);l.push(`${a}:${h}\r
`),l.push(`\r
`)}l.push(null)}),l}});var Qb=N(Lm=>{"use strict";Object.defineProperty(Lm,"__esModule",{value:!0});Lm.headStream=FH;async function FH(e,t){let r=0,n=[],o=e.getReader(),s=!1;for(;!s;){let{done:c,value:u}=await o.read();if(u&&(n.push(u),r+=u?.byteLength??0),r>=t)break;s=c}o.releaseLock();let i=new Uint8Array(Math.min(t,r)),a=0;for(let c of n){if(c.byteLength>i.byteLength-a){i.set(c.subarray(0,i.byteLength-a),a);break}else i.set(c,a);a+=c.length}return i}});var Jb=N(zc=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});zc.headStream=void 0;var qH=Y("stream"),jH=Qb(),HH=$r(),BH=(e,t)=>(0,HH.isReadableStream)(e)?(0,jH.headStream)(e,t):new Promise((r,n)=>{let o=new Mm;o.limit=t,e.pipe(o),e.on("error",s=>{o.end(),n(s)}),o.on("error",n),o.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.buffers));r(s)})});zc.headStream=BH;var Mm=class extends qH.Writable{buffers=[];limit=1/0;bytesBuffered=0;_write(t,r,n){if(this.buffers.push(t),this.bytesBuffered+=t.byteLength??0,this.bytesBuffered>=this.limit){let o=this.bytesBuffered-this.limit,s=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=s.subarray(0,s.byteLength-o),this.emit("finish")}n()}}});var Fm=N(Um=>{"use strict";var Zb=e=>encodeURIComponent(e).replace(/[!'()*]/g,VH),VH=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,GH=e=>e.split("/").map(Zb).join("/");Um.escapeUri=Zb;Um.escapeUriPath=GH});var Wc=N(ew=>{"use strict";var qm=Fm();function zH(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=qm.escapeUri(r),Array.isArray(n))for(let o=0,s=n.length;o<s;o++)t.push(`${r}=${qm.escapeUri(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${qm.escapeUri(n)}`),t.push(o)}}return t.join("&")}ew.buildQueryString=zH});var uw=N(Ci=>{"use strict";var ow=Ie(),sw=Wc(),Kc=Y("http"),Yc=Y("https"),iw=Y("stream"),jm=Y("http2"),WH=["ECONNRESET","EPIPE","ETIMEDOUT"],aw=e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},gt={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},tw=1e3,KH=(e,t,r=0)=>{if(!r)return-1;let n=o=>{let s=gt.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${r} ms.`),{name:"TimeoutError"}))},r-o),i=a=>{a?.connecting?a.on("connect",()=>{gt.clearTimeout(s)}):gt.clearTimeout(s)};e.socket?i(e.socket):e.on("socket",i)};return r<2e3?(n(0),0):gt.setTimeout(n.bind(null,tw),tw)},YH=(e,t,r=0,n,o)=>r?gt.setTimeout(()=>{let s=`@smithy/node-http-handler - [${n?"ERROR":"WARN"}] a request has exceeded the configured ${r} ms requestTimeout.`;if(n){let i=Object.assign(new Error(s),{name:"TimeoutError",code:"ETIMEDOUT"});e.destroy(i),t(i)}else s+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",o?.warn?.(s)},r):-1,XH=3e3,QH=(e,{keepAlive:t,keepAliveMsecs:r},n=XH)=>{if(t!==!0)return-1;let o=()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",s=>{s.setKeepAlive(t,r||0)})};return n===0?(o(),0):gt.setTimeout(o,n)},rw=3e3,JH=(e,t,r=0)=>{let n=o=>{let s=r-o,i=()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${r} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(s,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(s,i)};return 0<r&&r<6e3?(n(0),0):gt.setTimeout(n.bind(null,r===0?0:rw),rw)},nw=6e3;async function cw(e,t,r=nw,n=!1){let o=t.headers??{},s=o.Expect||o.expect,i=-1,a=!0;!n&&s==="100-continue"&&(a=await Promise.race([new Promise(c=>{i=Number(gt.setTimeout(()=>c(!0),Math.max(nw,r)))}),new Promise(c=>{e.on("continue",()=>{gt.clearTimeout(i),c(!0)}),e.on("response",()=>{gt.clearTimeout(i),c(!1)}),e.on("error",()=>{gt.clearTimeout(i),c(!1)})})])),a&&ZH(e,t.body)}function ZH(e,t){if(t instanceof iw.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}var e2=0,Hm=class e{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(t){return typeof t?.handle=="function"?t:new e(t)}static checkSocketUsage(t,r,n=console){let{sockets:o,requests:s,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(o&&s)for(let c in o){let u=o[c]?.length??0,d=s[c]?.length??0;if(u>=i&&d>=2*i)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${u} and ${d} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,socketAcquisitionWarningTimeout:s,httpAgent:i,httpsAgent:a,throwOnRequestTimeout:c,logger:u}=t||{},d=!0,l=50;return{connectionTimeout:n,requestTimeout:r,socketTimeout:o,socketAcquisitionWarningTimeout:s,throwOnRequestTimeout:c,httpAgent:i instanceof Kc.Agent||typeof i?.destroy=="function"?(this.externalAgent=!0,i):new Kc.Agent({keepAlive:d,maxSockets:l,...i}),httpsAgent:a instanceof Yc.Agent||typeof a?.destroy=="function"?(this.externalAgent=!0,a):new Yc.Agent({keepAlive:d,maxSockets:l,...a}),logger:u}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((o,s)=>{let i=this.config,a,c=[],u=async V=>{await a,c.forEach(gt.clearTimeout),o(V)},d=async V=>{await a,c.forEach(gt.clearTimeout),s(V)};if(r?.aborted){let V=new Error("Request aborted");V.name="AbortError",d(V);return}let l=t.protocol==="https:",h=t.headers??{},g=(h.Expect??h.expect)==="100-continue",S=l?i.httpsAgent:i.httpAgent;g&&!this.externalAgent&&(S=new(l?Yc.Agent:Kc.Agent)({keepAlive:!1,maxSockets:1/0})),c.push(gt.setTimeout(()=>{this.socketWarningTimestamp=e.checkSocketUsage(S,this.socketWarningTimestamp,i.logger)},i.socketAcquisitionWarningTimeout??(i.requestTimeout??2e3)+(i.connectionTimeout??1e3)));let C=sw.buildQueryString(t.query||{}),E;if(t.username!=null||t.password!=null){let V=t.username??"",G=t.password??"";E=`${V}:${G}`}let D=t.path;C&&(D+=`?${C}`),t.fragment&&(D+=`#${t.fragment}`);let M=t.hostname??"";M[0]==="["&&M.endsWith("]")?M=t.hostname.slice(1,-1):M=t.hostname;let q={headers:t.headers,host:M,method:t.method,path:D,port:t.port,agent:S,auth:E},H=(l?Yc.request:Kc.request)(q,V=>{let G=new ow.HttpResponse({statusCode:V.statusCode||-1,reason:V.statusMessage,headers:aw(V.headers),body:V});u({response:G})});if(H.on("error",V=>{WH.includes(V.code)?d(Object.assign(V,{name:"TimeoutError"})):d(V)}),r){let V=()=>{H.destroy();let G=new Error("Request aborted");G.name="AbortError",d(G)};if(typeof r.addEventListener=="function"){let G=r;G.addEventListener("abort",V,{once:!0}),H.once("close",()=>G.removeEventListener("abort",V))}else r.onabort=V}let oe=n??i.requestTimeout;c.push(KH(H,d,i.connectionTimeout)),c.push(YH(H,d,oe,i.throwOnRequestTimeout,i.logger??console)),c.push(JH(H,d,i.socketTimeout));let Pe=q.agent;typeof Pe=="object"&&"keepAlive"in Pe&&c.push(QH(H,{keepAlive:Pe.keepAlive,keepAliveMsecs:Pe.keepAliveMsecs})),a=cw(H,t,oe,this.externalAgent).catch(V=>(c.forEach(gt.clearTimeout),s(V)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},Bm=class{sessions=[];constructor(t){this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}},Vm=class{constructor(t){if(this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(t,r){let n=this.getUrlString(t),o=this.sessionCache.get(n);if(o){let c=o.poll();if(c&&!this.config.disableConcurrency)return c}let s=jm.connect(n);this.config.maxConcurrency&&s.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),s.unref();let i=()=>{s.destroy(),this.deleteSession(n,s)};s.on("goaway",i),s.on("error",i),s.on("frameError",i),s.on("close",()=>this.deleteSession(n,s)),r.requestTimeout&&s.setTimeout(r.requestTimeout,i);let a=this.sessionCache.get(n)||new Bm;return a.offerLast(s),this.sessionCache.set(n,a),s}deleteSession(t,r){let n=this.sessionCache.get(t);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(t,n))}release(t,r){let n=this.getUrlString(t);this.sessionCache.get(n)?.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(t&&t<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}},Gm=class e{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new Vm({});static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:o,disableConcurrentStreams:s}=this.config,i=n??o;return new Promise((a,c)=>{let u=!1,d,l=async j=>{await d,a(j)},h=async j=>{await d,c(j)};if(r?.aborted){u=!0;let j=new Error("Request aborted");j.name="AbortError",h(j);return}let{hostname:g,method:S,port:C,protocol:E,query:D}=t,M="";if(t.username!=null||t.password!=null){let j=t.username??"",_e=t.password??"";M=`${j}:${_e}@`}let q=`${E}//${M}${g}${C?`:${C}`:""}`,z={destination:new URL(q)},H=this.connectionManager.lease(z,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:s||!1}),oe=j=>{s&&this.destroySession(H),u=!0,h(j)},Pe=sw.buildQueryString(D||{}),V=t.path;Pe&&(V+=`?${Pe}`),t.fragment&&(V+=`#${t.fragment}`);let G=H.request({...t.headers,[jm.constants.HTTP2_HEADER_PATH]:V,[jm.constants.HTTP2_HEADER_METHOD]:S});if(H.ref(),G.on("response",j=>{let _e=new ow.HttpResponse({statusCode:j[":status"]||-1,headers:aw(j),body:G});u=!0,l({response:_e}),s&&(H.close(),this.connectionManager.deleteSession(q,H))}),i&&G.setTimeout(i,()=>{G.close();let j=new Error(`Stream timed out because of no activity for ${i} ms`);j.name="TimeoutError",oe(j)}),r){let j=()=>{G.close();let _e=new Error("Request aborted");_e.name="AbortError",oe(_e)};if(typeof r.addEventListener=="function"){let _e=r;_e.addEventListener("abort",j,{once:!0}),G.once("close",()=>_e.removeEventListener("abort",j))}else r.onabort=j}G.on("frameError",(j,_e,Je)=>{oe(new Error(`Frame type id ${j} in stream id ${Je} has failed with code ${_e}.`))}),G.on("error",oe),G.on("aborted",()=>{oe(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${G.rstCode}.`))}),G.on("close",()=>{H.unref(),s&&H.destroy(),u||oe(new Error("Unexpected error: http2 request did not get a response"))}),d=cw(G,t,i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},zm=class extends iw.Writable{bufferedBytes=[];_write(t,r,n){this.bufferedBytes.push(t),n()}},t2=e=>r2(e)?n2(e):new Promise((t,r)=>{let n=new zm;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),r2=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream;async function n2(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}Ci.DEFAULT_REQUEST_TIMEOUT=e2;Ci.NodeHttp2Handler=Gm;Ci.NodeHttpHandler=Hm;Ci.streamCollector=t2});var Km=N(Qc=>{"use strict";var lw=Ie(),o2=Wc(),s2=je();function dw(e,t){return new Request(e,t)}function i2(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}var Xc={supported:void 0},Wm=class e{config;configProvider;static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),Xc.supported===void 0&&(Xc.supported=typeof Request<"u"&&"keepalive"in dw("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let o=n??this.config.requestTimeout,s=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let M=new Error("Request aborted");return M.name="AbortError",Promise.reject(M)}let a=t.path,c=o2.buildQueryString(t.query||{});c&&(a+=`?${c}`),t.fragment&&(a+=`#${t.fragment}`);let u="";if(t.username!=null||t.password!=null){let M=t.username??"",q=t.password??"";u=`${M}:${q}@`}let{port:d,method:l}=t,h=`${t.protocol}//${u}${t.hostname}${d?`:${d}`:""}${a}`,g=l==="GET"||l==="HEAD"?void 0:t.body,S={body:g,headers:new Headers(t.headers),method:l,credentials:i};this.config?.cache&&(S.cache=this.config.cache),g&&(S.duplex="half"),typeof AbortController<"u"&&(S.signal=r),Xc.supported&&(S.keepalive=s),typeof this.config.requestInit=="function"&&Object.assign(S,this.config.requestInit(t));let C=()=>{},E=dw(h,S),D=[fetch(E).then(M=>{let q=M.headers,z={};for(let oe of q.entries())z[oe[0]]=oe[1];return M.body!=null?{response:new lw.HttpResponse({headers:z,reason:M.statusText,statusCode:M.status,body:M.body})}:M.blob().then(oe=>({response:new lw.HttpResponse({headers:z,reason:M.statusText,statusCode:M.status,body:oe})}))}),i2(o)];return r&&D.push(new Promise((M,q)=>{let z=()=>{let H=new Error("Request aborted");H.name="AbortError",q(H)};if(typeof r.addEventListener=="function"){let H=r;H.addEventListener("abort",z,{once:!0}),C=()=>H.removeEventListener("abort",z)}else r.onabort=z})),Promise.race(D).finally(C)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},a2=async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):c2(e):u2(e);async function c2(e){let t=await l2(e),r=s2.fromBase64(t);return new Uint8Array(r)}async function u2(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}function l2(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let o=n.result??"",s=o.indexOf(","),i=s>-1?s+1:o.length;t(o.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}Qc.FetchHttpHandler=Wm;Qc.keepAliveSupport=Xc;Qc.streamCollector=a2});var Jc=N(Xm=>{"use strict";var fw={},Ym={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),fw[e]=t,Ym[t]=e}function d2(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in Ym)t[r/2]=Ym[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function f2(e){let t="";for(let r=0;r<e.byteLength;r++)t+=fw[e[r]];return t}Xm.fromHex=d2;Xm.toHex=f2});var gw=N(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});Zc.sdkStreamMixin=void 0;var p2=Km(),m2=je(),h2=Jc(),g2=We(),pw=$r(),mw="The stream has already been transformed.",y2=e=>{if(!hw(e)&&!(0,pw.isReadableStream)(e)){let o=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${o}`)}let t=!1,r=async()=>{if(t)throw new Error(mw);return t=!0,await(0,p2.streamCollector)(e)},n=o=>{if(typeof o.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return o.stream()};return Object.assign(e,{transformToByteArray:r,transformToString:async o=>{let s=await r();if(o==="base64")return(0,m2.toBase64)(s);if(o==="hex")return(0,h2.toHex)(s);if(o===void 0||o==="utf8"||o==="utf-8")return(0,g2.toUtf8)(s);if(typeof TextDecoder=="function")return new TextDecoder(o).decode(s);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(mw);if(t=!0,hw(e))return n(e);if((0,pw.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};Zc.sdkStreamMixin=y2;var hw=e=>typeof Blob=="function"&&e instanceof Blob});var Ew=N(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.sdkStreamMixin=void 0;var E2=uw(),S2=fo(),Qm=Y("stream"),_2=gw(),yw="The stream has already been transformed.",b2=e=>{if(!(e instanceof Qm.Readable))try{return(0,_2.sdkStreamMixin)(e)}catch{let o=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${o}`)}let t=!1,r=async()=>{if(t)throw new Error(yw);return t=!0,await(0,E2.streamCollector)(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async n=>{let o=await r();return n===void 0||Buffer.isEncoding(n)?(0,S2.fromArrayBuffer)(o.buffer,o.byteOffset,o.byteLength).toString(n):new TextDecoder(n).decode(o)},transformToWebStream:()=>{if(t)throw new Error(yw);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Qm.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return t=!0,Qm.Readable.toWeb(e)}})};eu.sdkStreamMixin=b2});var Sw=N(Jm=>{"use strict";Object.defineProperty(Jm,"__esModule",{value:!0});Jm.splitStream=w2;async function w2(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var ww=N(Zm=>{"use strict";Object.defineProperty(Zm,"__esModule",{value:!0});Zm.splitStream=R2;var _w=Y("stream"),P2=Sw(),bw=$r();async function R2(e){if((0,bw.isReadableStream)(e)||(0,bw.isBlob)(e))return(0,P2.splitStream)(e);let t=new _w.PassThrough,r=new _w.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var th=N(Ye=>{"use strict";var Pw=je(),Rw=We(),Cw=xm(),Aw=Hb(),Tw=Kb(),vw=Xb(),xw=Jb(),Iw=Ew(),Ow=ww(),Dw=$r(),eh=class e extends Uint8Array{static fromString(t,r="utf-8"){if(typeof t=="string")return r==="base64"?e.mutate(Pw.fromBase64(t)):e.mutate(Rw.fromUtf8(t));throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}static mutate(t){return Object.setPrototypeOf(t,e.prototype),t}transformToString(t="utf-8"){return t==="base64"?Pw.toBase64(this):Rw.toUtf8(this)}};Object.defineProperty(Ye,"isBlob",{enumerable:!0,get:function(){return Dw.isBlob}});Object.defineProperty(Ye,"isReadableStream",{enumerable:!0,get:function(){return Dw.isReadableStream}});Ye.Uint8ArrayBlobAdapter=eh;Object.keys(Cw).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ye,e)&&Object.defineProperty(Ye,e,{enumerable:!0,get:function(){return Cw[e]}})});Object.keys(Aw).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ye,e)&&Object.defineProperty(Ye,e,{enumerable:!0,get:function(){return Aw[e]}})});Object.keys(Tw).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ye,e)&&Object.defineProperty(Ye,e,{enumerable:!0,get:function(){return Tw[e]}})});Object.keys(vw).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ye,e)&&Object.defineProperty(Ye,e,{enumerable:!0,get:function(){return vw[e]}})});Object.keys(xw).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ye,e)&&Object.defineProperty(Ye,e,{enumerable:!0,get:function(){return xw[e]}})});Object.keys(Iw).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ye,e)&&Object.defineProperty(Ye,e,{enumerable:!0,get:function(){return Iw[e]}})});Object.keys(Ow).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ye,e)&&Object.defineProperty(Ye,e,{enumerable:!0,get:function(){return Ow[e]}})})});var tu,Ht,ru=R(()=>{tu=T(th()),Ht=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return tu.Uint8ArrayBlobAdapter.mutate(e);if(!e)return tu.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return tu.Uint8ArrayBlobAdapter.mutate(await r)}});function dr(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var nu=R(()=>{});var Zt,rh=R(()=>{Zt=e=>typeof e=="function"?e():e});var Ai,ou=R(()=>{Ai=(e,t,r,n,o)=>({name:t,namespace:e,traits:r,input:n,output:o})});var Nw,kw,$w,nh,Lw=R(()=>{Nw=T(Ie()),kw=T(ht());ou();$w=e=>(t,r)=>async n=>{let{response:o}=await t(n),{operationSchema:s}=(0,kw.getSmithyContext)(r),[,i,a,c,u,d]=s??[];try{let l=await e.protocol.deserializeResponse(Ai(i,a,c,u,d),{...e,...r},o);return{response:o,output:l}}catch(l){if(Object.defineProperty(l,"$response",{value:o,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in l)){let h="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{l.message+=`
  `+h}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(h):r.logger?.warn?.(h)}typeof l.$responseBodyText<"u"&&l.$response&&(l.$response.body=l.$responseBodyText);try{if(Nw.HttpResponse.isInstance(o)){let{headers:g={}}=o,S=Object.entries(g);l.$metadata={httpStatusCode:o.statusCode,requestId:nh(/^x-[\w-]+-request-?id$/,S),extendedRequestId:nh(/^x-[\w-]+-id-2$/,S),cfId:nh(/^x-[\w-]+-cf-id$/,S)}}}catch{}}throw l}},nh=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1]});var Mw,Uw,Fw=R(()=>{Mw=T(ht());ou();Uw=e=>(t,r)=>async n=>{let{operationSchema:o}=(0,Mw.getSmithyContext)(r),[,s,i,a,c,u]=o??[],d=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint,l=await e.protocol.serializeRequest(Ai(s,i,a,c,u),n.input,{...e,...r,endpoint:d});return t({...n,request:l})}});function po(e){return{applyToStack:t=>{t.add(Uw(e),jw),t.add($w(e),qw),e.protocol.setSerdeContext(e)}}}var qw,jw,Hw=R(()=>{Lw();Fw();qw={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},jw={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var ze,mn=R(()=>{ze=class{name;namespace;traits;static assign(t,r){return Object.assign(t,r)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}});var su,C2,Bw=R(()=>{mn();su=class e extends ze{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=e.symbol},C2=(e,t,r,n)=>ze.assign(new su,{name:t,namespace:e,traits:r,valueSchema:n})});var iu,A2,Vw=R(()=>{mn();iu=class e extends ze{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=e.symbol},A2=(e,t,r,n,o)=>ze.assign(new iu,{name:t,namespace:e,traits:r,keySchema:n,valueSchema:o})});var au,T2,Gw=R(()=>{mn();au=class e extends ze{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=e.symbol},T2=(e,t,r,n,o)=>ze.assign(new au,{name:t,namespace:e,traits:r,input:n,output:o})});var cs,v2,oh=R(()=>{mn();cs=class e extends ze{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=e.symbol},v2=(e,t,r,n,o)=>ze.assign(new cs,{name:t,namespace:e,traits:r,memberNames:n,memberList:o})});var cu,x2,zw=R(()=>{mn();oh();cu=class e extends cs{static symbol=Symbol.for("@smithy/err");ctor;symbol=e.symbol},x2=(e,t,r,n,o,s)=>ze.assign(new cu,{name:t,namespace:e,traits:r,memberNames:n,memberList:o,ctor:null})});function fr(e){if(typeof e=="object")return e;e=e|0;let t={},r=0;for(let n of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>r++&1)===1&&(t[n]=1);return t}var sh=R(()=>{});function Ti(e,t){if(e instanceof Z)return Object.assign(e,{memberName:t,_isMemberSchema:!0});let r=Z;return new r(e,t)}var Ww,Z,ih,Kw,Yw=R(()=>{rh();sh();Ww={it:Symbol.for("@smithy/nor-struct-it")},Z=class e{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=e.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(t,r){this.ref=t,this.memberName=r;let n=[],o=t,s=t;for(this._isMemberSchema=!1;ih(o);)n.push(o[1]),o=o[0],s=Zt(o),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let a=n[i];Object.assign(this.memberTraits,fr(a))}}else this.memberTraits=0;if(s instanceof e){let i=this.memberTraits;Object.assign(this,s),this.memberTraits=Object.assign({},i,s.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??s.memberName;return}if(this.schema=Zt(s),Kw(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(s),this.traits=0),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}static of(t){let r=Zt(t);if(r instanceof e)return r;if(ih(r)){let[n,o]=r;if(n instanceof e)return Object.assign(n.getMergedTraits(),fr(o)),n;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(t,null,2)}.`)}return new e(r)}getSchema(){let t=this.schema;return Array.isArray(t)&&t[0]===0?t[4]:t}getName(t=!1){let{name:r}=this;return!t&&r&&r.includes("#")?r.split("#")[1]:r||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=64&&t<128:t[0]===1}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=128&&t<=255:t[0]===2}isStructSchema(){let t=this.getSchema();if(typeof t!="object")return!1;let r=t[0];return r===3||r===-3||r===4}isUnionSchema(){let t=this.getSchema();return typeof t!="object"?!1:t[0]===4}isBlobSchema(){let t=this.getSchema();return t===21||t===42}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=4&&t<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:t}=this.getMergedTraits();return!!t||this.getSchema()===42}isIdempotencyToken(){return!!this.getMergedTraits().idempotencyToken}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return fr(this.memberTraits)}getOwnTraits(){return fr(this.traits)}getKeySchema(){let[t,r]=[this.isDocumentSchema(),this.isMapSchema()];if(!t&&!r)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let n=this.getSchema(),o=t?15:n[4]??0;return Ti([o,0],"key")}getValueSchema(){let t=this.getSchema(),[r,n,o]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],s=typeof t=="number"?63&t:t&&typeof t=="object"&&(n||o)?t[3+t[0]]:r?15:void 0;if(s!=null)return Ti([s,0],n?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(t){let r=this.getSchema();if(this.isStructSchema()&&r[4].includes(t)){let n=r[4].indexOf(t),o=r[5][n];return Ti(ih(o)?o:[o,0],t)}if(this.isDocumentSchema())return Ti([15,0],t);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${t}.`)}getMemberSchemas(){let t={};try{for(let[r,n]of this.structIterator())t[r]=n}catch{}return t}getEventStreamMember(){if(this.isStructSchema()){for(let[t,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return t}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let t=this.getSchema(),r=t[4].length,n=t[Ww.it];if(n&&r===n.length){yield*n;return}n=Array(r);for(let o=0;o<r;++o){let s=t[4][o],i=Ti([t[5][o],0],s);yield n[o]=[s,i]}t[Ww.it]=n}};ih=e=>Array.isArray(e)&&e.length===2,Kw=e=>Array.isArray(e)&&e.length>=5});var vi,I2,O2,Xw=R(()=>{mn();vi=class e extends ze{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=e.symbol},I2=(e,t,r,n)=>ze.assign(new vi,{name:t,namespace:e,traits:n,schemaRef:r}),O2=(e,t,r,n)=>ze.assign(new vi,{name:t,namespace:e,traits:r,schemaRef:n})});var D2,Qw=R(()=>{D2={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var ae,Jw=R(()=>{ae=class e{namespace;schemas;exceptions;static registries=new Map;constructor(t,r=new Map,n=new Map){this.namespace=t,this.schemas=r,this.exceptions=n}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(n.split("#")[0]).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}registerError(t,r){let n=t,o=e.for(n[1]);o.schemas.set(n[1]+"#"+n[2],n),o.exceptions.set(n,r)}getErrorCtor(t){let r=t;return e.for(r[1]).exceptions.get(r)}getBaseException(){for(let t of this.exceptions.keys())if(Array.isArray(t)){let[,r,n]=t,o=r+"#"+n;if(o.startsWith("smithy.ts.sdk.synthetic.")&&o.endsWith("ServiceException"))return t}}find(t){return[...this.schemas.values()].find(t)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}}});var uu={};ot(uu,{ErrorSchema:()=>cu,ListSchema:()=>su,MapSchema:()=>iu,NormalizedSchema:()=>Z,OperationSchema:()=>au,SCHEMA:()=>D2,Schema:()=>ze,SimpleSchema:()=>vi,StructureSchema:()=>cs,TypeRegistry:()=>ae,deref:()=>Zt,deserializerMiddlewareOption:()=>qw,error:()=>x2,getSchemaSerdePlugin:()=>po,isStaticSchema:()=>Kw,list:()=>C2,map:()=>A2,op:()=>T2,operation:()=>Ai,serializerMiddlewareOption:()=>jw,sim:()=>I2,simAdapter:()=>O2,struct:()=>v2,translateTraits:()=>fr});var Te=R(()=>{rh();Hw();Bw();Vw();Gw();ou();zw();Yw();mn();Xw();oh();Qw();sh();Jw()});var N2,Zw=R(()=>{N2=(e,t,r=n=>n)=>e});var k2,$2,xi,L2,lu,Ii,M2,ah,ch,uh,lh,U2,F2,eP,q2,j2,fu,H2,dh,B2,us,fh,V2,G2,z2,tP,rP,W2,K2,mo,ph,du,Oi,mh=R(()=>{k2=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},$2=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&Oi.warn(du(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&Oi.warn(du(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},xi=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Oi.warn(du(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},L2=Math.ceil(34028234663852886e22),lu=e=>{let t=xi(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>L2)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},Ii=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},M2=Ii,ah=e=>lh(e,32),ch=e=>lh(e,16),uh=e=>lh(e,8),lh=(e,t)=>{let r=Ii(e);if(r!==void 0&&U2(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},U2=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},F2=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},eP=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},q2=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Oi.warn(du(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},j2=e=>{if(e==null)return;let t=eP(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},fu=e=>xi(typeof e=="string"?us(e):e),H2=fu,dh=e=>lu(typeof e=="string"?us(e):e),B2=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,us=e=>{let t=e.match(B2);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},fh=e=>typeof e=="string"?tP(e):xi(e),V2=fh,G2=fh,z2=e=>typeof e=="string"?tP(e):lu(e),tP=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},rP=e=>Ii(typeof e=="string"?us(e):e),W2=rP,K2=e=>ah(typeof e=="string"?us(e):e),mo=e=>ch(typeof e=="string"?us(e):e),ph=e=>uh(typeof e=="string"?us(e):e),du=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),Oi={warn:console.warn}});function Ni(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,u=s<10?`0${s}`:`${s}`,d=i<10?`0${i}`:`${i}`,l=a<10?`0${a}`:`${a}`;return`${Y2[n]}, ${c} ${gh[r]} ${t} ${u}:${d}:${l} GMT`}var Y2,gh,X2,Q2,J2,yh,Z2,eB,tB,Eh,Sh,Di,rB,nB,oB,hh,sB,iB,aB,pr,cB,uB,ls,nP=R(()=>{mh();Y2=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],gh=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];X2=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),Q2=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=X2.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,u]=t,d=mo(ls(n)),l=pr(o,"month",1,12),h=pr(s,"day",1,31);return Di(d,l,h,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u})},J2=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),yh=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=J2.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,u,d]=t,l=mo(ls(n)),h=pr(o,"month",1,12),g=pr(s,"day",1,31),S=Di(l,h,g,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u});return d.toUpperCase()!="Z"&&S.setTime(S.getTime()-uB(d)),S},Z2=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),eB=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),tB=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Eh=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=Z2.exec(e);if(t){let[r,n,o,s,i,a,c,u]=t;return Di(mo(ls(s)),hh(o),pr(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u})}if(t=eB.exec(e),t){let[r,n,o,s,i,a,c,u]=t;return oB(Di(rB(s),hh(o),pr(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u}))}if(t=tB.exec(e),t){let[r,n,o,s,i,a,c,u]=t;return Di(mo(ls(u)),hh(n),pr(o.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},Sh=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=fu(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},Di=(e,t,r,n)=>{let o=t-1;return iB(e,o,r),new Date(Date.UTC(e,o,r,pr(n.hours,"hour",0,23),pr(n.minutes,"minute",0,59),pr(n.seconds,"seconds",0,60),cB(n.fractionalMilliseconds)))},rB=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+mo(ls(e));return r<t?r+100:r},nB=50*365*24*60*60*1e3,oB=e=>e.getTime()-new Date().getTime()>nB?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,hh=e=>{let t=gh.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},sB=[31,28,31,30,31,30,31,31,30,31,30,31],iB=(e,t,r)=>{let n=sB[t];if(t===1&&aB(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${gh[t]} in ${e}: ${r}`)},aB=e=>e%4===0&&(e%100!==0||e%400===0),pr=(e,t,r,n)=>{let o=ph(ls(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},cB=e=>e==null?0:dh("0."+e)*1e3,uB=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},ls=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var ki={};ot(ki,{__addDisposableResource:()=>RP,__assign:()=>pu,__asyncDelegator:()=>gP,__asyncGenerator:()=>hP,__asyncValues:()=>yP,__await:()=>ds,__awaiter:()=>uP,__classPrivateFieldGet:()=>bP,__classPrivateFieldIn:()=>PP,__classPrivateFieldSet:()=>wP,__createBinding:()=>hu,__decorate:()=>iP,__disposeResources:()=>CP,__esDecorate:()=>lB,__exportStar:()=>dP,__extends:()=>oP,__generator:()=>lP,__importDefault:()=>_P,__importStar:()=>SP,__makeTemplateObject:()=>EP,__metadata:()=>cP,__param:()=>aP,__propKey:()=>fB,__read:()=>bh,__rest:()=>sP,__runInitializers:()=>dB,__setFunctionName:()=>pB,__spread:()=>fP,__spreadArray:()=>mP,__spreadArrays:()=>pP,__values:()=>mu,default:()=>gB});function oP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");_h(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function sP(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function iP(e,t,r,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function aP(e,t){return function(r,n){t(r,n,e)}}function lB(e,t,r,n,o,s){function i(D){if(D!==void 0&&typeof D!="function")throw new TypeError("Function expected");return D}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),l,h=!1,g=r.length-1;g>=0;g--){var S={};for(var C in n)S[C]=C==="access"?{}:n[C];for(var C in n.access)S.access[C]=n.access[C];S.addInitializer=function(D){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(D||null))};var E=(0,r[g])(a==="accessor"?{get:d.get,set:d.set}:d[c],S);if(a==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(l=i(E.get))&&(d.get=l),(l=i(E.set))&&(d.set=l),(l=i(E.init))&&o.unshift(l)}else(l=i(E))&&(a==="field"?o.unshift(l):d[c]=l)}u&&Object.defineProperty(u,n.name,d),h=!0}function dB(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function fB(e){return typeof e=="symbol"?e:"".concat(e)}function pB(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function cP(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function uP(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(d){try{u(n.next(d))}catch(l){i(l)}}function c(d){try{u(n.throw(d))}catch(l){i(l)}}function u(d){d.done?s(d.value):o(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})}function lP(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(s=u[0]&2?o.return:u[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,u[1])).done)return s;switch(o=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],o=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function dP(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&hu(t,e,r)}function mu(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function bh(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function fP(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(bh(arguments[t]));return e}function pP(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n}function mP(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function ds(e){return this instanceof ds?(this.v=e,this):new ds(e)}function hP(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,s=[];return o={},a("next"),a("throw"),a("return",i),o[Symbol.asyncIterator]=function(){return this},o;function i(g){return function(S){return Promise.resolve(S).then(g,l)}}function a(g,S){n[g]&&(o[g]=function(C){return new Promise(function(E,D){s.push([g,C,E,D])>1||c(g,C)})},S&&(o[g]=S(o[g])))}function c(g,S){try{u(n[g](S))}catch(C){h(s[0][3],C)}}function u(g){g.value instanceof ds?Promise.resolve(g.value.v).then(d,l):h(s[0][2],g)}function d(g){c("next",g)}function l(g){c("throw",g)}function h(g,S){g(S),s.shift(),s.length&&c(s[0][0],s[0][1])}}function gP(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,s){t[o]=e[o]?function(i){return(r=!r)?{value:ds(e[o](i)),done:!1}:s?s(i):i}:s}}function yP(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof mu=="function"?mu(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(a,c){i=e[s](i),o(a,c,i.done,i.value)})}}function o(s,i,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},i)}}function EP(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function SP(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&hu(t,e,r);return mB(t,e),t}function _P(e){return e&&e.__esModule?e:{default:e}}function bP(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function wP(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function PP(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function RP(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function CP(e){function t(n){e.error=e.hasError?new hB(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}function r(){for(;e.stack.length;){var n=e.stack.pop();try{var o=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(o).then(r,function(s){return t(s),r()})}catch(s){t(s)}}if(e.hasError)throw e.error}return r()}var _h,pu,hu,mB,hB,gB,$i=R(()=>{_h=function(e,t){return _h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},_h(e,t)};pu=function(){return pu=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},pu.apply(this,arguments)};hu=Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};mB=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};hB=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};gB={__extends:oP,__assign:pu,__rest:sP,__decorate:iP,__param:aP,__metadata:cP,__awaiter:uP,__generator:lP,__createBinding:hu,__exportStar:dP,__values:mu,__read:bh,__spread:fP,__spreadArrays:pP,__spreadArray:mP,__await:ds,__asyncGenerator:hP,__asyncDelegator:gP,__asyncValues:yP,__makeTemplateObject:EP,__importStar:SP,__importDefault:_P,__classPrivateFieldGet:bP,__classPrivateFieldSet:wP,__classPrivateFieldIn:PP,__addDisposableResource:RP,__disposeResources:CP}});var TP=N(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.randomUUID=void 0;var yB=($i(),Se(ki)),AP=yB.__importDefault(Y("crypto"));gu.randomUUID=AP.default.randomUUID.bind(AP.default)});var wh=N(xP=>{"use strict";var vP=TP(),st=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),EB=()=>{if(vP.randomUUID)return vP.randomUUID();let e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128,st[e[0]]+st[e[1]]+st[e[2]]+st[e[3]]+"-"+st[e[4]]+st[e[5]]+"-"+st[e[6]]+st[e[7]]+"-"+st[e[8]]+st[e[9]]+"-"+st[e[10]]+st[e[11]]+st[e[12]]+st[e[13]]+st[e[14]]+st[e[15]]};xP.v4=EB});var Bt,IP=R(()=>{Bt=T(wh())});var yt,OP=R(()=>{yt=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};yt.from=e=>e&&typeof e=="object"&&(e instanceof yt||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?yt(String(e)):yt(JSON.stringify(e));yt.fromObject=yt.from});function Ph(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var DP=R(()=>{});function Ur(e,t,r){let n=Number(e);if(n<t||n>r)throw new Error(`Value ${n} out of range [${t}, ${r}]`)}var Rh,Ch,Ah,NP,kP,SB,_B,bB,wB,PB,fs,Th,vh,$P=R(()=>{Rh="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",Ch="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",Ah="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",NP="(\\d?\\d)",kP="(\\d{4})",SB=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),_B=new RegExp(`^${Rh}, ${NP} ${Ch} ${kP} ${Ah} GMT$`),bB=new RegExp(`^${Rh}, ${NP}-${Ch}-(\\d\\d) ${Ah} GMT$`),wB=new RegExp(`^${Rh} ${Ch} ( [1-9]|\\d\\d) ${Ah} ${kP}$`),PB=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fs=e=>{if(e==null)return;let t=NaN;if(typeof e=="number")t=e;else if(typeof e=="string"){if(!/^-?\d*\.?\d+$/.test(e))throw new TypeError("parseEpochTimestamp - numeric string invalid.");t=Number.parseFloat(e)}else typeof e=="object"&&e.tag===1&&(t=e.value);if(isNaN(t)||Math.abs(t)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(t*1e3))},Th=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC3339 timestamps must be strings");let t=SB.exec(e);if(!t)throw new TypeError(`Invalid RFC3339 timestamp format ${e}`);let[,r,n,o,s,i,a,,c,u]=t;Ur(n,1,12),Ur(o,1,31),Ur(s,0,23),Ur(i,0,59),Ur(a,0,60);let d=new Date(Date.UTC(Number(r),Number(n)-1,Number(o),Number(s),Number(i),Number(a),Number(c)?Math.round(parseFloat(`0.${c}`)*1e3):0));if(d.setUTCFullYear(Number(r)),u.toUpperCase()!="Z"){let[,l,h,g]=/([+-])(\d\d):(\d\d)/.exec(u)||[void 0,"+",0,0],S=l==="-"?1:-1;d.setTime(d.getTime()+S*(Number(h)*60*60*1e3+Number(g)*60*1e3))}return d},vh=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC7231 timestamps must be strings.");let t,r,n,o,s,i,a,c;if((c=_B.exec(e))?[,t,r,n,o,s,i,a]=c:(c=bB.exec(e))?([,t,r,n,o,s,i,a]=c,n=(Number(n)+1900).toString()):(c=wB.exec(e))&&([,r,t,o,s,i,a,n]=c),n&&i){let u=Date.UTC(Number(n),PB.indexOf(r),Number(t),Number(o),Number(s),Number(i),a?Math.round(parseFloat(`0.${a}`)*1e3):0);Ur(t,1,31),Ur(o,0,23),Ur(s,0,59),Ur(i,0,60);let d=new Date(u);return d.setUTCFullYear(Number(n)),d}throw new TypeError(`Invalid RFC7231 date-time value ${e}.`)}});function xh(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],s="";for(let i=0;i<n.length;i++)s===""?s=n[i]:s+=t+n[i],(i+1)%r===0&&(o.push(s),s="");return s!==""&&o.push(s),o}var LP=R(()=>{});var Li,MP=R(()=>{Li=e=>{let t=e.length,r=[],n=!1,o,s=0;for(let i=0;i<t;++i){let a=e[i];switch(a){case'"':o!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(s,i)),s=i+1);break;default:}o=a}return r.push(e.slice(s)),r.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});function Ih(e){return new Le(String(e),"bigDecimal")}var UP,Le,FP=R(()=>{UP=/^-?\d*(\.\d+)?$/,Le=class e{string;type;constructor(t,r){if(this.string=t,this.type=r,!UP.test(t))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t;return e.prototype.isPrototypeOf(t)||r.type==="bigDecimal"&&UP.test(r.string)}}});var qP={};ot(qP,{LazyJsonString:()=>yt,NumericValue:()=>Le,_parseEpochTimestamp:()=>fs,_parseRfc3339DateTimeWithOffset:()=>Th,_parseRfc7231DateTime:()=>vh,copyDocumentWithTransform:()=>N2,dateToUtcString:()=>Ni,expectBoolean:()=>$2,expectByte:()=>uh,expectFloat32:()=>lu,expectInt:()=>M2,expectInt32:()=>ah,expectLong:()=>Ii,expectNonNull:()=>F2,expectNumber:()=>xi,expectObject:()=>eP,expectShort:()=>ch,expectString:()=>q2,expectUnion:()=>j2,generateIdempotencyToken:()=>Bt.v4,handleFloat:()=>V2,limitedParseDouble:()=>fh,limitedParseFloat:()=>G2,limitedParseFloat32:()=>z2,logger:()=>Oi,nv:()=>Ih,parseBoolean:()=>k2,parseEpochTimestamp:()=>Sh,parseRfc3339DateTime:()=>Q2,parseRfc3339DateTimeWithOffset:()=>yh,parseRfc7231DateTime:()=>Eh,quoteHeader:()=>Ph,splitEvery:()=>xh,splitHeader:()=>Li,strictParseByte:()=>ph,strictParseDouble:()=>fu,strictParseFloat:()=>H2,strictParseFloat32:()=>dh,strictParseInt:()=>W2,strictParseInt32:()=>K2,strictParseLong:()=>rP,strictParseShort:()=>mo});var Et=R(()=>{Zw();nP();IP();OP();mh();DP();$P();LP();MP();FP()});var St,ps=R(()=>{St=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});var yu,Oh,jP=R(()=>{yu=T(We()),Oh=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:t,serializer:r,deserializer:n,serdeContext:o,defaultContentType:s}){this.marshaller=t,this.serializer=r,this.deserializer=n,this.serdeContext=o,this.defaultContentType=s}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){let o=this.marshaller,s=r.getEventStreamMember(),i=r.getMemberSchema(s),a=this.serializer,c=this.defaultContentType,u=Symbol("initialRequestMarker"),d={async*[Symbol.asyncIterator](){if(n){let l={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:c}};a.write(r,n);let h=a.flush();yield{[u]:!0,headers:l,body:h}}for await(let l of t)yield l}};return o.serialize(d,l=>{if(l[u])return{headers:l.headers,body:l.body};let h=Object.keys(l).find(M=>M!=="__type")??"",{additionalHeaders:g,body:S,eventType:C,explicitPayloadContentType:E}=this.writeEventBody(h,i,l);return{headers:{":event-type":{type:"string",value:C},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:E??c},...g},body:S}})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){let o=this.marshaller,s=r.getEventStreamMember(),a=r.getMemberSchema(s).getMemberSchemas(),c=Symbol("initialResponseMarker"),u=o.deserialize(t.body,async h=>{let g=Object.keys(h).find(C=>C!=="__type")??"",S=h[g].body;if(g==="initial-response"){let C=await this.deserializer.read(r,S);return delete C[s],{[c]:!0,...C}}else if(g in a){let C=a[g];if(C.isStructSchema()){let E={},D=!1;for(let[M,q]of C.structIterator()){let{eventHeader:z,eventPayload:H}=q.getMergedTraits();if(D=D||!!(z||H),H)q.isBlobSchema()?E[M]=S:q.isStringSchema()?E[M]=(this.serdeContext?.utf8Encoder??yu.toUtf8)(S):q.isStructSchema()&&(E[M]=await this.deserializer.read(q,S));else if(z){let oe=h[g].headers[M]?.value;oe!=null&&(q.isNumericSchema()?oe&&typeof oe=="object"&&"bytes"in oe?E[M]=BigInt(oe.toString()):E[M]=Number(oe):E[M]=oe)}}if(D)return{[g]:E};if(S.byteLength===0)return{[g]:{}}}return{[g]:await this.deserializer.read(C,S)}}else return{$unknown:h}}),d=u[Symbol.asyncIterator](),l=await d.next();if(l.done)return u;if(l.value?.[c]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[h,g]of Object.entries(l.value))n[h]=g}return{async*[Symbol.asyncIterator](){for(l?.value?.[c]||(yield l.value);;){let{done:h,value:g}=await d.next();if(h)break;yield g}}}}writeEventBody(t,r,n){let o=this.serializer,s=t,i=null,a,c=r.getSchema()[4].includes(t),u={};if(c){let h=r.getMemberSchema(t);if(h.isStructSchema()){for(let[g,S]of h.structIterator()){let{eventHeader:C,eventPayload:E}=S.getMergedTraits();if(E)i=g;else if(C){let D=n[t][g],M="binary";S.isNumericSchema()?(-2)**31<=D&&D<=2**31-1?M="integer":M="long":S.isTimestampSchema()?M="timestamp":S.isStringSchema()?M="string":S.isBooleanSchema()&&(M="boolean"),D!=null&&(u[g]={type:M,value:D},delete n[t][g])}}if(i!==null){let g=h.getMemberSchema(i);g.isBlobSchema()?a="application/octet-stream":g.isStringSchema()&&(a="text/plain"),o.write(g,n[t][i])}else o.write(h,n[t])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[h,g]=n[t];s=h,o.write(15,g)}let d=o.flush();return{body:typeof d=="string"?(this.serdeContext?.utf8Decoder??yu.fromUtf8)(d):d,eventType:s,explicitPayloadContentType:a,additionalHeaders:u}}}});var HP={};ot(HP,{EventStreamSerde:()=>Oh});var BP=R(()=>{jP()});var Eu,ho,Su=R(()=>{Te();Eu=T(Ie());ps();ho=class extends St{options;constructor(t){super(),this.options=t}getRequestType(){return Eu.HttpRequest}getResponseType(){return Eu.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0,t.query||(t.query={});for(let[n,o]of r.url.searchParams.entries())t.query[n]=o;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){if(this.serdeContext?.disableHostPrefix)return;let o=Z.of(r.input),s=fr(r.traits??{});if(s.endpoint){let i=s.endpoint?.[0];if(typeof i=="string"){let a=[...o.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let u=n[c];if(typeof u!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);i=i.replace(`{${c}}`,u)}t.hostname=i+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:t}=await Promise.resolve().then(()=>(BP(),HP));return new t({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(t,r,n,o,s){return[]}getEventStreamMarshaller(){let t=this.serdeContext;if(!t.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return t.eventStreamMarshaller}}});var VP,GP,go,zP=R(()=>{Te();Et();VP=T(Ie()),GP=T(th());ru();nu();Su();go=class extends ho{async serializeRequest(t,r,n){let o={...r??{}},s=this.serializer,i={},a={},c=await n.endpoint(),u=Z.of(t?.input),d=u.getSchema(),l=!1,h,g=new VP.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(c){this.updateServiceEndpoint(g,c),this.setHostPrefix(g,t,o);let S=fr(t.traits);if(S.http){g.method=S.http[0];let[C,E]=S.http[1].split("?");g.path=="/"?g.path=C:g.path+=C;let D=new URLSearchParams(E??"");Object.assign(i,Object.fromEntries(D))}}for(let[S,C]of u.structIterator()){let E=C.getMergedTraits()??{},D=o[S];if(D==null&&!C.isIdempotencyToken()){if(E.httpLabel&&(g.path.includes(`{${S}+}`)||g.path.includes(`{${S}}`)))throw new Error(`No value provided for input HTTP label: ${S}.`);continue}if(E.httpPayload)C.isStreaming()?C.isStructSchema()?o[S]&&(h=await this.serializeEventStream({eventStream:o[S],requestSchema:u})):h=D:(s.write(C,D),h=s.flush()),delete o[S];else if(E.httpLabel){s.write(C,D);let M=s.flush();g.path.includes(`{${S}+}`)?g.path=g.path.replace(`{${S}+}`,M.split("/").map(dr).join("/")):g.path.includes(`{${S}}`)&&(g.path=g.path.replace(`{${S}}`,dr(M))),delete o[S]}else if(E.httpHeader)s.write(C,D),a[E.httpHeader.toLowerCase()]=String(s.flush()),delete o[S];else if(typeof E.httpPrefixHeaders=="string"){for(let[M,q]of Object.entries(D)){let z=E.httpPrefixHeaders+M;s.write([C.getValueSchema(),{httpHeader:z}],q),a[z.toLowerCase()]=s.flush()}delete o[S]}else E.httpQuery||E.httpQueryParams?(this.serializeQuery(C,D,i),delete o[S]):l=!0}return l&&o&&(s.write(d,o),h=s.flush()),g.headers=a,g.query=i,g.body=h,g}serializeQuery(t,r,n){let o=this.serializer,s=t.getMergedTraits();if(s.httpQueryParams){for(let[i,a]of Object.entries(r))if(!(i in n)){let c=t.getValueSchema();Object.assign(c.getMergedTraits(),{...s,httpQuery:i,httpQueryParams:void 0}),this.serializeQuery(c,a,n)}return}if(t.isListSchema()){let i=!!t.getMergedTraits().sparse,a=[];for(let c of r){o.write([t.getValueSchema(),s],c);let u=o.flush();(i||u!==void 0)&&a.push(u)}n[s.httpQuery]=a}else o.write([t,s],r),n[s.httpQuery]=o.flush()}async deserializeResponse(t,r,n){let o=this.deserializer,s=Z.of(t.output),i={};if(n.statusCode>=300){let c=await Ht(n.body,r);throw c.byteLength>0&&Object.assign(i,await o.read(15,c)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let c in n.headers){let u=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=u}let a=await this.deserializeHttpMessage(s,r,n,i);if(a.length){let c=await Ht(n.body,r);if(c.byteLength>0){let u=await o.read(s,c);for(let d of a)i[d]=u[d]}}else a.discardResponseBody&&await Ht(n.body,r);return i.$metadata=this.deserializeMetadata(n),i}async deserializeHttpMessage(t,r,n,o,s){let i;o instanceof Set?i=s:i=o;let a=!0,c=this.deserializer,u=Z.of(t),d=[];for(let[l,h]of u.structIterator()){let g=h.getMemberTraits();if(g.httpPayload){if(a=!1,h.isStreaming())h.isStructSchema()?i[l]=await this.deserializeEventStream({response:n,responseSchema:u}):i[l]=(0,GP.sdkStreamMixin)(n.body);else if(n.body){let C=await Ht(n.body,r);C.byteLength>0&&(i[l]=await c.read(h,C))}}else if(g.httpHeader){let S=String(g.httpHeader).toLowerCase(),C=n.headers[S];if(C!=null)if(h.isListSchema()){let E=h.getValueSchema();E.getMergedTraits().httpHeader=S;let D;E.isTimestampSchema()&&E.getSchema()===4?D=xh(C,",",2):D=Li(C);let M=[];for(let q of D)M.push(await c.read(E,q.trim()));i[l]=M}else i[l]=await c.read(h,C)}else if(g.httpPrefixHeaders!==void 0){i[l]={};for(let[S,C]of Object.entries(n.headers))if(S.startsWith(g.httpPrefixHeaders)){let E=h.getValueSchema();E.getMergedTraits().httpHeader=S,i[l][S.slice(g.httpPrefixHeaders.length)]=await c.read(E,C)}}else g.httpResponseCode?i[l]=n.statusCode:d.push(l)}return d.discardResponseBody=a,d}}});var WP,Fr,KP=R(()=>{Te();WP=T(Ie());ru();Su();Fr=class extends ho{async serializeRequest(t,r,n){let o=this.serializer,s={},i={},a=await n.endpoint(),c=Z.of(t?.input),u=c.getSchema(),d,l=new WP.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:s,headers:i,body:void 0});a&&(this.updateServiceEndpoint(l,a),this.setHostPrefix(l,t,r));let h={...r};if(r){let g=c.getEventStreamMember();if(g){if(h[g]){let S={};for(let[C,E]of c.structIterator())C!==g&&h[C]&&(o.write(E,h[C]),S[C]=o.flush());d=await this.serializeEventStream({eventStream:h[g],requestSchema:c,initialRequest:S})}}else o.write(u,h),d=o.flush()}return l.headers=i,l.query=s,l.body=d,l.method="POST",l}async deserializeResponse(t,r,n){let o=this.deserializer,s=Z.of(t.output),i={};if(n.statusCode>=300){let c=await Ht(n.body,r);throw c.byteLength>0&&Object.assign(i,await o.read(15,c)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let c in n.headers){let u=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=u}let a=s.getEventStreamMember();if(a)i[a]=await this.deserializeEventStream({response:n,responseSchema:s,initialResponseContainer:i});else{let c=await Ht(n.body,r);c.byteLength>0&&Object.assign(i,await o.read(s,c))}return i.$metadata=this.deserializeMetadata(n),i}}});var Dh,Nh=R(()=>{nu();Dh=(e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(a=>dr(a)).join("/"):dr(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function kh(e,t){return new _u(e,t)}var YP,_u,XP=R(()=>{YP=T(Ie());Nh();_u=class{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(t,r){this.input=t,this.context=r}async build(){let{hostname:t,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let s of this.resolvePathStack)s(this.path);return new YP.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,o){return this.resolvePathStack.push(s=>{this.path=Dh(s,this.input,t,r,n,o)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function Nt(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===5||e.getSchema()===6||e.getSchema()===7))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:o,httpQuery:s}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||o?6:s||r?5:void 0:void 0)??t.timestampFormat.default}var bu=R(()=>{});var $h,QP,yo,Lh=R(()=>{Te();Et();$h=T(je()),QP=T(We());ps();bu();yo=class extends St{settings;constructor(t){super(),this.settings=t}read(t,r){let n=Z.of(t);if(n.isListSchema())return Li(r).map(o=>this.read(n.getValueSchema(),o));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??$h.fromBase64)(r);if(n.isTimestampSchema())switch(Nt(n,this.settings)){case 5:return Th(r);case 6:return vh(r);case 7:return fs(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let o=n.getMergedTraits().mediaType,s=r;if(o)return n.getMergedTraits().httpHeader&&(s=this.base64ToUtf8(s)),(o==="application/json"||o.endsWith("+json"))&&(s=yt.from(s)),s}return n.isNumericSchema()?Number(r):n.isBigIntegerSchema()?BigInt(r):n.isBigDecimalSchema()?new Le(r,"bigDecimal"):n.isBooleanSchema()?String(r).toLowerCase()==="true":r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??QP.toUtf8)((this.serdeContext?.base64Decoder??$h.fromBase64)(t))}}});var wu,Eo,JP=R(()=>{Te();wu=T(We());ps();Lh();Eo=class extends St{codecDeserializer;stringDeserializer;constructor(t,r){super(),this.codecDeserializer=t,this.stringDeserializer=new yo(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=Z.of(t),o=n.getMergedTraits(),s=this.serdeContext?.utf8Encoder??wu.toUtf8;if(o.httpHeader||o.httpResponseCode)return this.stringDeserializer.read(n,s(r));if(o.httpPayload){if(n.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??wu.fromUtf8;return typeof r=="string"?i(r):r}else if(n.isStringSchema())return"byteLength"in r?s(r):r}return this.codecDeserializer.read(n,r)}}});var Mh,Mi,Uh=R(()=>{Te();Et();Mh=T(je());ps();bu();Mi=class extends St{settings;stringBuffer="";constructor(t){super(),this.settings=t}write(t,r){let n=Z.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(Nt(n,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=Ni(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??Mh.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let i="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let c=this.flush(),u=n.getValueSchema().isTimestampSchema()?c:Ph(c);i!==""&&(i+=", "),i+=u}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let o=n.getMergedTraits().mediaType,s=r;if(o&&((o==="application/json"||o.endsWith("+json"))&&(s=yt.from(s)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??Mh.toBase64)(s.toString());return}this.stringBuffer=r;break;default:n.isIdempotencyToken()?this.stringBuffer=(0,Bt.v4)():this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var So,ZP=R(()=>{Te();Uh();So=class{codecSerializer;stringSerializer;buffer;constructor(t,r,n=new Mi(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=Z.of(t),o=n.getMergedTraits();if(o.httpHeader||o.httpLabel||o.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var eR={};ot(eR,{FromStringShapeDeserializer:()=>yo,HttpBindingProtocol:()=>go,HttpInterceptingShapeDeserializer:()=>Eo,HttpInterceptingShapeSerializer:()=>So,HttpProtocol:()=>ho,RequestBuilder:()=>_u,RpcProtocol:()=>Fr,SerdeContext:()=>St,ToStringShapeSerializer:()=>Mi,collectBody:()=>Ht,determineTimestampFormat:()=>Nt,extendedEncodeURIComponent:()=>dr,requestBuilder:()=>kh,resolvedPath:()=>Dh});var Ct=R(()=>{ru();nu();zP();Su();KP();XP();Nh();Lh();JP();ZP();Uh();bu();ps()});var tR=R(()=>{Ct()});function RB(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var rR=R(()=>{});var qr,nR=R(()=>{qr=class{authSchemes=new Map;constructor(t){for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var oR,Fh,qh,sR=R(()=>{oR=T(Ie()),Fh=T(dn()),qh=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let o=oR.HttpRequest.clone(t);if(n.in===Fh.HttpApiKeyAuthLocation.QUERY)o.query[n.name]=r.apiKey;else if(n.in===Fh.HttpApiKeyAuthLocation.HEADER)o.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return o}}});var iR,jh,aR=R(()=>{iR=T(Ie()),jh=class{async sign(t,r,n){let o=iR.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${r.token}`,o}}});var er,cR=R(()=>{er=class{async sign(t,r,n){return t}}});var uR=R(()=>{sR();aR();cR()});var lR,CB,Hh,Pu,Bh,dR=R(()=>{lR=e=>function(r){return Pu(r)&&r.expiration.getTime()-Date.now()<e},CB=3e5,Hh=lR(3e5),Pu=e=>e.expiration!==void 0,Bh=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,s,i,a=!1,c=async u=>{s||(s=n(u));try{o=await s,i=!0,a=!1}finally{s=void 0}return o};return t===void 0?async u=>((!i||u?.forceRefresh)&&(o=await c(u)),o):async u=>((!i||u?.forceRefresh)&&(o=await c(u)),a?o:r(o)?(t(o)&&await c(u),o):(a=!0,o))}});var fR=R(()=>{nR();uR();dR()});var ms={};ot(ms,{DefaultIdentityProviderConfig:()=>qr,EXPIRATION_MS:()=>CB,HttpApiKeyAuthSigner:()=>qh,HttpBearerAuthSigner:()=>jh,NoAuthSigner:()=>er,createIsIdentityExpiredFunction:()=>lR,createPaginator:()=>Ob,doesIdentityRequireRefresh:()=>Pu,getHttpAuthSchemeEndpointRuleSetPlugin:()=>uo,getHttpAuthSchemePlugin:()=>eH,getHttpSigningPlugin:()=>lo,getSmithyContext:()=>Kj,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>hb,httpAuthSchemeMiddleware:()=>Pi,httpAuthSchemeMiddlewareOptions:()=>wb,httpSigningMiddleware:()=>Pm,httpSigningMiddlewareOptions:()=>Tb,isIdentityExpired:()=>Hh,memoizeIdentityProvider:()=>Bh,normalizeProvider:()=>pn,requestBuilder:()=>kh,setFeature:()=>RB});var _t=R(()=>{lb();Rb();xb();Ib();Db();tR();rR();fR()});var jr=N(_o=>{"use strict";var Gh=dn(),zh=class{capacity;data=new Map;parameters=[];constructor({size:t,params:r}){this.capacity=t??50,r&&(this.parameters=r)}get(t,r){let n=this.hash(t);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let o=this.data.keys(),s=0;for(;;){let{value:i,done:a}=o.next();if(this.data.delete(i),a||++s>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(t){let r="",{parameters:n}=this;if(n.length===0)return!1;for(let o of n){let s=String(t[o]??"");if(s.includes("|;"))return!1;r+=s+"|;"}return r}},AB=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),pR=e=>AB.test(e)||e.startsWith("[")&&e.endsWith("]"),TB=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Kh=(e,t=!1)=>{if(!t)return TB.test(e);let r=e.split(".");for(let n of r)if(!Kh(n))return!1;return!0},Wh={},Ui="endpoints";function hn(e){return typeof e!="object"||e==null?e:"ref"in e?`$${hn(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(hn).join(", ")})`:JSON.stringify(e,null,2)}var it=class extends Error{constructor(t){super(t),this.name="EndpointError"}},vB=(e,t)=>e===t,xB=e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new it(`Path: '${e}' does not end with ']'`);let s=n.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new it(`Invalid array index: '${s}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(s)}else r.push(n)}return r},mR=(e,t)=>xB(t).reduce((r,n)=>{if(typeof r!="object")throw new it(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),IB=e=>e!=null,OB=e=>!e,Vh={[Gh.EndpointURLScheme.HTTP]:80,[Gh.EndpointURLScheme.HTTPS]:443},DB=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:h,port:g,protocol:S="",path:C="",query:E={}}=e,D=new URL(`${S}//${h}${g?`:${g}`:""}${C}`);return D.search=Object.entries(E).map(([M,q])=>`${M}=${q}`).join("&"),D}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:s,protocol:i,search:a}=t;if(a)return null;let c=i.slice(0,-1);if(!Object.values(Gh.EndpointURLScheme).includes(c))return null;let u=pR(o),d=r.includes(`${n}:${Vh[c]}`)||typeof e=="string"&&e.includes(`${n}:${Vh[c]}`),l=`${n}${d?`:${Vh[c]}`:""}`;return{scheme:c,authority:l,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:u}},NB=(e,t)=>e===t,kB=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),$B=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),LB={booleanEquals:vB,getAttr:mR,isSet:IB,isValidHostLabel:Kh,not:OB,parseURL:DB,stringEquals:NB,substring:kB,uriEncode:$B},hR=(e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let s=e.indexOf("{",o);if(s===-1){r.push(e.slice(o));break}r.push(e.slice(o,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(s+1,i)),o=i+2);let a=e.substring(s+1,i);if(a.includes("#")){let[c,u]=a.split("#");r.push(mR(n[c],u))}else r.push(n[a]);o=i+1}return r.join("")},MB=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],Ru=(e,t,r)=>{if(typeof e=="string")return hR(e,r);if(e.fn)return yR.callFunction(e,r);if(e.ref)return MB(e,r);throw new it(`'${t}': ${String(e)} is not a string, function or reference.`)},gR=({fn:e,argv:t},r)=>{let n=t.map(s=>["boolean","number"].includes(typeof s)?s:yR.evaluateExpression(s,"arg",r)),o=e.split(".");return o[0]in Wh&&o[1]!=null?Wh[o[0]][o[1]](...n):LB[e](...n)},yR={evaluateExpression:Ru,callFunction:gR},UB=({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new it(`'${e}' is already defined in Reference Record.`);let n=gR(t,r);return r.logger?.debug?.(`${Ui} evaluateCondition: ${hn(t)} = ${hn(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},Yh=(e=[],t)=>{let r={};for(let n of e){let{result:o,toAssign:s}=UB(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!o)return{result:o};s&&(r[s.name]=s.value,t.logger?.debug?.(`${Ui} assign: ${s.name} := ${hn(s.value)}`))}return{result:!0,referenceRecord:r}},FB=(e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(s=>{let i=Ru(s,"Header value entry",t);if(typeof i!="string")throw new it(`Header '${n}' value '${i}' is not a string`);return i})}),{}),ER=(e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:_R.getEndpointProperty(o,t)}),{}),SR=(e,t)=>{if(Array.isArray(e))return e.map(r=>SR(r,t));switch(typeof e){case"string":return hR(e,t);case"object":if(e===null)throw new it(`Unexpected endpoint property: ${e}`);return _R.getEndpointProperties(e,t);case"boolean":return e;default:throw new it(`Unexpected endpoint property type: ${typeof e}`)}},_R={getEndpointProperty:SR,getEndpointProperties:ER},qB=(e,t)=>{let r=Ru(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new it(`Endpoint URL must be a string, got ${typeof r}`)},jB=(e,t)=>{let{conditions:r,endpoint:n}=e,{result:o,referenceRecord:s}=Yh(r,t);if(!o)return;let i={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:c,headers:u}=n;return t.logger?.debug?.(`${Ui} Resolving endpoint from template: ${hn(n)}`),{...u!=null&&{headers:FB(u,i)},...c!=null&&{properties:ER(c,i)},url:qB(a,i)}},HB=(e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:s}=Yh(r,t);if(o)throw new it(Ru(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},bR=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=jB(r,t);if(n)return n}else if(r.type==="error")HB(r,t);else if(r.type==="tree"){let n=wR.evaluateTreeRule(r,t);if(n)return n}else throw new it(`Unknown endpoint rule: ${r}`);throw new it("Rules evaluation failed")},BB=(e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:s}=Yh(r,t);if(o)return wR.evaluateRules(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},wR={evaluateRules:bR,evaluateTreeRule:BB},VB=(e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:o,rules:s}=e;t.logger?.debug?.(`${Ui} Initial EndpointParams: ${hn(r)}`);let i=Object.entries(o).filter(([,u])=>u.default!=null).map(([u,d])=>[u,d.default]);if(i.length>0)for(let[u,d]of i)r[u]=r[u]??d;let a=Object.entries(o).filter(([,u])=>u.required).map(([u])=>u);for(let u of a)if(r[u]==null)throw new it(`Missing required parameter: '${u}'`);let c=bR(s,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${Ui} Resolved endpoint: ${hn(c)}`),c};_o.EndpointCache=zh;_o.EndpointError=it;_o.customEndpointFunctions=Wh;_o.isIpAddress=pR;_o.isValidHostLabel=Kh;_o.resolveEndpoint=VB});var RR=N(PR=>{"use strict";function GB(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}PR.parseQueryString=GB});var mr=N(AR=>{"use strict";var zB=RR(),CR=e=>{if(typeof e=="string")return CR(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:s}=e,i;return s&&(i=zB.parseQueryString(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:i}};AR.parseUrl=CR});var gs=N(tr=>{"use strict";var hs=jr(),WB=mr(),vR=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!vR(r))return!1;return!0}return!(!hs.isValidHostLabel(e)||e.length<3||e.length>63||e!==e.toLowerCase()||hs.isIpAddress(e))},TR=":",KB="/",YB=e=>{let t=e.split(TR);if(t.length<6)return null;let[r,n,o,s,i,...a]=t;if(r!=="arn"||n===""||o===""||a.join(TR)==="")return null;let c=a.map(u=>u.split(KB)).flat();return{partition:n,service:o,region:s,accountId:i,resourceId:c}},XB=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"AWS European Sovereign Cloud (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],QB="1.1",xR={partitions:XB,version:QB},IR=xR,OR="",DR=e=>{let{partitions:t}=IR;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,a]of Object.entries(o))if(i===e)return{...s,...a}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},NR=(e,t="")=>{IR=e,OR=t},JB=()=>{NR(xR,"")},ZB=()=>OR,kR={isVirtualHostableS3Bucket:vR,parseArn:YB,partition:DR};hs.customEndpointFunctions.aws=kR;var eV=e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>$R(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},$R=e=>WB.parseUrl(e.url);Object.defineProperty(tr,"EndpointError",{enumerable:!0,get:function(){return hs.EndpointError}});Object.defineProperty(tr,"isIpAddress",{enumerable:!0,get:function(){return hs.isIpAddress}});Object.defineProperty(tr,"resolveEndpoint",{enumerable:!0,get:function(){return hs.resolveEndpoint}});tr.awsEndpointFunctions=kR;tr.getUserAgentPrefix=ZB;tr.partition=DR;tr.resolveDefaultAwsRegionalEndpointsConfig=eV;tr.setPartitionInfo=NR;tr.toEndpointV1=$R;tr.useDefaultPartitionInfo=JB});var Cu,gn,LR=R(()=>{Cu={warningEmitted:!1},gn=e=>{e&&!Cu.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<20&&(Cu.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js ${e} in January 2026.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/c895JFp`))}});function yn(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var MR=R(()=>{});function UR(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var FR=R(()=>{});function qR(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var jR=R(()=>{});var Hr={};ot(Hr,{emitWarningIfUnsupportedVersion:()=>gn,setCredentialFeature:()=>yn,setFeature:()=>UR,setTokenFeature:()=>qR,state:()=>Cu});var Vt=R(()=>{LR();MR();FR();jR()});var HR,Xh,BR=R(()=>{HR=T(Ie()),Xh=e=>HR.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var ys,Qh=R(()=>{ys=e=>new Date(Date.now()+e)});var VR,GR=R(()=>{Qh();VR=(e,t)=>Math.abs(ys(t).getTime()-e)>=3e5});var Jh,zR=R(()=>{GR();Jh=(e,t)=>{let r=Date.parse(e);return VR(r,t)?r-Date.now():t}});var Zh=R(()=>{BR();Qh();zR()});var WR,Fi,Es,at,eg,tg=R(()=>{WR=T(Ie());Zh();Fi=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},Es=async e=>{let t=Fi("context",e.context),r=Fi("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],s=await Fi("signer",r.signer)(n),i=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}},at=class{async sign(t,r,n){if(!WR.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let o=await Es(n),{config:s,signer:i}=o,{signingRegion:a,signingName:c}=o,u=n.context;if(u?.authSchemes?.length??!1){let[l,h]=u.authSchemes;l?.name==="sigv4a"&&h?.name==="sigv4"&&(a=h?.signingRegion??a,c=h?.signingName??c)}return await i.sign(t,{signingDate:ys(s.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??Xh(r.$response);if(n){let o=Fi("config",t.config),s=o.systemClockOffset;o.systemClockOffset=Jh(n,o.systemClockOffset),o.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=Xh(t);if(n){let o=Fi("config",r.config);o.systemClockOffset=Jh(n,o.systemClockOffset)}}},eg=at});var KR,qi,YR=R(()=>{KR=T(Ie());Zh();tg();qi=class extends at{async sign(t,r,n){if(!KR.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}=await Es(n),d=(await o.sigv4aSigningRegionSet?.()??a??[i]).join(",");return await s.sign(t,{signingDate:ys(o.systemClockOffset),signingRegion:d,signingService:c})}}});var rg,XR=R(()=>{rg=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var Au,ng=R(()=>{Au=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var QR,JR,En,ZR=R(()=>{XR();ng();QR="AWS_AUTH_SCHEME_PREFERENCE",JR="auth_scheme_preference",En={environmentVariableSelector:(e,t)=>{if(t?.signingName&&Au(t.signingName)in e)return["httpBearerAuth"];if(QR in e)return rg(e[QR])},configFileSelector:e=>{if(JR in e)return rg(e[JR])},default:[]}});var ct=N(bo=>{"use strict";var Ss=class e extends Error{name="ProviderError";tryNextLink;constructor(t,r=!0){let n,o=!0;typeof r=="boolean"?(n=void 0,o=r):r!=null&&typeof r=="object"&&(n=r.logger,o=r.tryNextLink??!0),super(t),this.tryNextLink=o,Object.setPrototypeOf(this,e.prototype),n?.debug?.(`@smithy/property-provider ${o?"->":"(!)"} ${t}`)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},og=class e extends Ss{name="CredentialsProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},sg=class e extends Ss{name="TokenProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},tV=(...e)=>async()=>{if(e.length===0)throw new Ss("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},rV=e=>()=>Promise.resolve(e),nV=(e,t,r)=>{let n,o,s,i=!1,a=async()=>{o||(o=e());try{n=await o,s=!0,i=!1}finally{o=void 0}return n};return t===void 0?async c=>((!s||c?.forceRefresh)&&(n=await a()),n):async c=>((!s||c?.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))};bo.CredentialsProviderError=og;bo.ProviderError=Ss;bo.TokenProviderError=sg;bo.chain=tV;bo.fromStatic=rV;bo.memoize=nV});var ig,eC,tC,rC=R(()=>{_t();ig=T(ct()),eC=e=>(e.sigv4aSigningRegionSet=pn(e.sigv4aSigningRegionSet),e),tC={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new ig.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new ig.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var AC=N(he=>{"use strict";var Sn=Jc(),wo=We(),oV=Cm(),iC=Ie(),nC=ht(),Tu=Fm(),aC="X-Amz-Algorithm",cC="X-Amz-Credential",fg="X-Amz-Date",uC="X-Amz-SignedHeaders",lC="X-Amz-Expires",pg="X-Amz-Signature",mg="X-Amz-Security-Token",sV="X-Amz-Region-Set",hg="authorization",gg=fg.toLowerCase(),dC="date",fC=[hg,gg,dC],pC=pg.toLowerCase(),Du="x-amz-content-sha256",mC=mg.toLowerCase(),iV="host",hC={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},gC=/^proxy-/,yC=/^sec-/,aV=[/^proxy-/i,/^sec-/i],vu="AWS4-HMAC-SHA256",cV="AWS4-ECDSA-P256-SHA256",EC="AWS4-HMAC-SHA256-PAYLOAD",SC="UNSIGNED-PAYLOAD",_C=50,yg="aws4_request",bC=60*60*24*7,_s={},xu=[],Iu=(e,t,r)=>`${e}/${t}/${r}/${yg}`,wC=async(e,t,r,n,o)=>{let s=await oC(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${o}:${Sn.toHex(s)}:${t.sessionToken}`;if(i in _s)return _s[i];for(xu.push(i);xu.length>_C;)delete _s[xu.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,o,yg])a=await oC(e,a,c);return _s[i]=a},uV=()=>{xu.length=0,Object.keys(_s).forEach(e=>{delete _s[e]})},oC=(e,t,r)=>{let n=new e(t);return n.update(wo.toUint8Array(r)),n.digest()},ag=({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let s=o.toLowerCase();(s in hC||t?.has(s)||gC.test(s)||yC.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[o].trim().replace(/\s+/g," "))}return n},Ou=async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===Du)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||oV.isArrayBuffer(t)){let n=new r;return n.update(wo.toUint8Array(t)),Sn.toHex(await n.digest())}return SC},cg=class{format(t){let r=[];for(let s of Object.keys(t)){let i=wo.fromUtf8(s);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[s]))}let n=new Uint8Array(r.reduce((s,i)=>s+i.byteLength,0)),o=0;for(let s of r)n.set(s,o),o+=s.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(t.value.bytes,1),o;case"binary":let s=new DataView(new ArrayBuffer(3+t.value.byteLength));s.setUint8(0,6),s.setUint16(1,t.value.byteLength,!1);let i=new Uint8Array(s.buffer);return i.set(t.value,3),i;case"string":let a=wo.fromUtf8(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let u=new Uint8Array(c.buffer);return u.set(a,3),u;case"timestamp":let d=new Uint8Array(9);return d[0]=8,d.set(ug.fromNumber(t.value.valueOf()).bytes,1),d;case"uuid":if(!lV.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let l=new Uint8Array(17);return l[0]=9,l.set(Sn.fromHex(t.value.replace(/\-/g,"")),1),l}}},lV=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,ug=class e{bytes;constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&sC(r),new e(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&sC(t),parseInt(Sn.toHex(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function sC(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var PC=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},RC=(e,t={})=>{let{headers:r,query:n={}}=iC.HttpRequest.clone(e);for(let o of Object.keys(r)){let s=o.toLowerCase();(s.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(s)||t.hoistableHeaders?.has(s))&&(n[o]=r[o],delete r[o])}return{...e,headers:r,query:n}},lg=e=>{e=iC.HttpRequest.clone(e);for(let t of Object.keys(e.headers))fC.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},CC=({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===pC)continue;let o=Tu.escapeUri(n);t.push(o);let s=e[n];typeof s=="string"?r[o]=`${o}=${Tu.escapeUri(s)}`:Array.isArray(s)&&(r[o]=s.slice(0).reduce((i,a)=>i.concat([`${o}=${Tu.escapeUri(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},dV=e=>fV(e).toISOString().replace(/\.\d{3}Z$/,"Z"),fV=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,Nu=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i=!0}){this.service=o,this.sha256=s,this.uriEscapePath=i,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=nC.normalizeProvider(n),this.credentialProvider=nC.normalizeProvider(r)}createCanonicalRequest(t,r,n){let o=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${CC(t)}
${o.map(s=>`${s}:${r[s]}`).join(`
`)}

${o.join(";")}
${n}`}async createStringToSign(t,r,n,o){let s=new this.sha256;s.update(wo.toUint8Array(n));let i=await s.digest();return`${o}
${t}
${r}
${Sn.toHex(i)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let s of t.split("/"))s?.length!==0&&s!=="."&&(s===".."?r.pop():r.push(s));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return Tu.escapeUri(n).replace(/%2F/g,"/")}return t}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(t){let r=dV(t).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(t){return Object.keys(t).sort().join(";")}},dg=class extends Nu{headerFormatter=new cg;constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i=!0}){super({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i})}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:o=3600,unsignableHeaders:s,unhoistableHeaders:i,signableHeaders:a,hoistableHeaders:c,signingRegion:u,signingService:d}=r,l=await this.credentialProvider();this.validateResolvedCredentials(l);let h=u??await this.regionProvider(),{longDate:g,shortDate:S}=this.formatDate(n);if(o>bC)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let C=Iu(S,h,d??this.service),E=RC(lg(t),{unhoistableHeaders:i,hoistableHeaders:c});l.sessionToken&&(E.query[mg]=l.sessionToken),E.query[aC]=vu,E.query[cC]=`${l.accessKeyId}/${C}`,E.query[fg]=g,E.query[lC]=o.toString(10);let D=ag(E,s,a);return E.query[uC]=this.getCanonicalHeaderList(D),E.query[pg]=await this.getSignature(g,C,this.getSigningKey(l,h,S,d),this.createCanonicalRequest(E,D,await Ou(t,this.sha256))),E}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:o,signingRegion:s,signingService:i}){let a=s??await this.regionProvider(),{shortDate:c,longDate:u}=this.formatDate(n),d=Iu(c,a,i??this.service),l=await Ou({headers:{},body:r},this.sha256),h=new this.sha256;h.update(t);let g=Sn.toHex(await h.digest()),S=[EC,u,d,o,g,l].join(`
`);return this.signString(S,{signingDate:n,signingRegion:a,signingService:i})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:o}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:o,priorSignature:t.priorSignature}).then(i=>({message:t.message,signature:i}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:o}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let i=n??await this.regionProvider(),{shortDate:a}=this.formatDate(r),c=new this.sha256(await this.getSigningKey(s,i,a,o));return c.update(wo.toUint8Array(t)),Sn.toHex(await c.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:o,signingRegion:s,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=s??await this.regionProvider(),u=lg(t),{longDate:d,shortDate:l}=this.formatDate(r),h=Iu(l,c,i??this.service);u.headers[gg]=d,a.sessionToken&&(u.headers[mC]=a.sessionToken);let g=await Ou(u,this.sha256);!PC(Du,u.headers)&&this.applyChecksum&&(u.headers[Du]=g);let S=ag(u,o,n),C=await this.getSignature(d,h,this.getSigningKey(a,c,l,i),this.createCanonicalRequest(u,S,g));return u.headers[hg]=`${vu} Credential=${a.accessKeyId}/${h}, SignedHeaders=${this.getCanonicalHeaderList(S)}, Signature=${C}`,u}async getSignature(t,r,n,o){let s=await this.createStringToSign(t,r,o,vu),i=new this.sha256(await n);return i.update(wo.toUint8Array(s)),Sn.toHex(await i.digest())}getSigningKey(t,r,n,o){return wC(this.sha256,t,n,r,o||this.service)}},pV={SignatureV4a:null};he.ALGORITHM_IDENTIFIER=vu;he.ALGORITHM_IDENTIFIER_V4A=cV;he.ALGORITHM_QUERY_PARAM=aC;he.ALWAYS_UNSIGNABLE_HEADERS=hC;he.AMZ_DATE_HEADER=gg;he.AMZ_DATE_QUERY_PARAM=fg;he.AUTH_HEADER=hg;he.CREDENTIAL_QUERY_PARAM=cC;he.DATE_HEADER=dC;he.EVENT_ALGORITHM_IDENTIFIER=EC;he.EXPIRES_QUERY_PARAM=lC;he.GENERATED_HEADERS=fC;he.HOST_HEADER=iV;he.KEY_TYPE_IDENTIFIER=yg;he.MAX_CACHE_SIZE=_C;he.MAX_PRESIGNED_TTL=bC;he.PROXY_HEADER_PATTERN=gC;he.REGION_SET_PARAM=sV;he.SEC_HEADER_PATTERN=yC;he.SHA256_HEADER=Du;he.SIGNATURE_HEADER=pC;he.SIGNATURE_QUERY_PARAM=pg;he.SIGNED_HEADERS_QUERY_PARAM=uC;he.SignatureV4=dg;he.SignatureV4Base=Nu;he.TOKEN_HEADER=mC;he.TOKEN_QUERY_PARAM=mg;he.UNSIGNABLE_PATTERNS=aV;he.UNSIGNED_PAYLOAD=SC;he.clearCredentialCache=uV;he.createScope=Iu;he.getCanonicalHeaders=ag;he.getCanonicalQuery=CC;he.getPayloadHash=Ou;he.getSigningKey=wC;he.hasHeader=PC;he.moveHeadersToQuery=RC;he.prepareRequest=lg;he.signatureV4aContainer=pV});function mV(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=Bh(t,Hh,Pu):r?n=pn(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function hV(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var Eg,Br,TC,vC=R(()=>{Vt();_t();Eg=T(AC()),Br=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(u){u&&u!==t&&u!==n&&(r=!0),t=u;let d=mV(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),l=hV(e,d);if(r&&!l.attributed){let h=typeof t=="object"&&t!==null;n=async g=>{let C=await l(g);return h&&(!C.$source||Object.keys(C.$source).length===0)?yn(C,"CREDENTIALS_CODE","e"):C},n.memoized=l.memoized,n.configBound=l.configBound,n.attributed=!0}else n=l},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:o=!0,systemClockOffset:s=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=pn(e.signer):e.regionInfoProvider?a=()=>pn(e.region)().then(async u=>[await e.regionInfoProvider(u,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},u]).then(([u,d])=>{let{signingRegion:l,signingService:h}=u;e.signingRegion=e.signingRegion||l||d,e.signingName=e.signingName||h||e.serviceId;let g={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},S=e.signerConstructor||Eg.SignatureV4;return new S(g)}):a=async u=>{u=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await pn(e.region)(),properties:{}},u);let d=u.signingRegion,l=u.signingName;e.signingRegion=e.signingRegion||d,e.signingName=e.signingName||l||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},g=e.signerConstructor||Eg.SignatureV4;return new g(h)},Object.assign(e,{systemClockOffset:s,signingEscapePath:o,signer:a})},TC=Br});var xC=R(()=>{tg();YR();ZR();rC();vC()});var IC={};ot(IC,{AWSSDKSigV4Signer:()=>eg,AwsSdkSigV4ASigner:()=>qi,AwsSdkSigV4Signer:()=>at,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>En,NODE_SIGV4A_CONFIG_OPTIONS:()=>tC,getBearerTokenEnvKey:()=>Au,resolveAWSSDKSigV4Config:()=>TC,resolveAwsSdkSigV4AConfig:()=>eC,resolveAwsSdkSigV4Config:()=>Br,validateSigningProperties:()=>Es});var Sg=R(()=>{xC();ng()});function _n(e){return typeof Buffer<"u"?Buffer.alloc(e):new Uint8Array(e)}function ku(e){return e[_g]=!0,e}var _g,$u=R(()=>{_g=Symbol("@smithy/core/cbor::tagSymbol")});function NC(e){Ne=e,Gr=new DataView(Ne.buffer,Ne.byteOffset,Ne.byteLength)}function hr(e,t){if(e>=t)throw new Error("unexpected end of (decode) payload.");let r=(Ne[e]&224)>>5,n=Ne[e]&31;switch(r){case 0:case 1:case 6:let o,s;if(n<24)o=n,s=1;else switch(n){case 24:case 25:case 26:case 27:let i=$C[n],a=i+1;if(s=a,t-e<a)throw new Error(`countLength ${i} greater than remaining buf len.`);let c=e+1;i===1?o=Ne[c]:i===2?o=Gr.getUint16(c):i===4?o=Gr.getUint32(c):o=Gr.getBigUint64(c);break;default:throw new Error(`unexpected minor value ${n}.`)}if(r===0)return ye=s,bg(o);if(r===1){let i;return typeof o=="bigint"?i=BigInt(-1)-o:i=-1-o,ye=s,bg(i)}else if(n===2||n===3){let i=Vi(e+s,t),a=BigInt(0),c=e+s+ye;for(let u=c;u<c+i;++u)a=a<<BigInt(8)|BigInt(Ne[u]);return ye=s+ye+i,n===3?-a-BigInt(1):a}else if(n===4){let i=hr(e+s,t),[a,c]=i,u=c<0?-1:1,d="0".repeat(Math.abs(a)+1)+String(BigInt(u)*BigInt(c)),l,h=c<0?"-":"";return l=a===0?d:d.slice(0,d.length+a)+"."+d.slice(a),l=l.replace(/^0+/g,""),l===""&&(l="0"),l[0]==="."&&(l="0"+l),l=h+l,ye=s+ye,Ih(l)}else{let i=hr(e+s,t);return ye=s+ye,ku({tag:bg(o),value:i})}case 3:case 5:case 4:case 2:if(n===31)switch(r){case 3:return wV(e,t);case 5:return TV(e,t);case 4:return CV(e,t);case 2:return PV(e,t)}else switch(r){case 3:return bV(e,t);case 5:return AV(e,t);case 4:return RV(e,t);case 2:return Tg(e,t)}default:return vV(e,t)}}function kC(e,t,r){return EV&&e.constructor?.name==="Buffer"?e.toString("utf-8",t,r):OC?OC.decode(e.subarray(t,r)):(0,DC.toUtf8)(e.subarray(t,r))}function SV(e){let t=Number(e);return(t<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<t)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${e}) to ${t} with loss of precision.`)),t}function _V(e,t){let r=e>>7,n=(e&124)>>2,o=(e&3)<<8|t,s=r===0?1:-1,i,a;if(n===0){if(o===0)return 0;i=Math.pow(2,-14),a=0}else{if(n===31)return o===0?s*(1/0):NaN;i=Math.pow(2,n-15),a=1}return a+=o/1024,s*(i*a)}function Vi(e,t){let r=Ne[e]&31;if(r<24)return ye=1,r;if(r===24||r===25||r===26||r===27){let n=$C[r];if(ye=n+1,t-e<ye)throw new Error(`countLength ${n} greater than remaining buf len.`);let o=e+1;return n===1?Ne[o]:n===2?Gr.getUint16(o):n===4?Gr.getUint32(o):SV(Gr.getBigUint64(o))}throw new Error(`unexpected minor value ${r}.`)}function bV(e,t){let r=Vi(e,t),n=ye;if(e+=n,t-e<r)throw new Error(`string len ${r} greater than remaining buf len.`);let o=kC(Ne,e,e+r);return ye=n+r,o}function wV(e,t){e+=1;let r=[];for(let n=e;e<t;){if(Ne[e]===255){let c=_n(r.length);return c.set(r,0),ye=e-n+2,kC(c,0,c.length)}let o=(Ne[e]&224)>>5,s=Ne[e]&31;if(o!==3)throw new Error(`unexpected major type ${o} in indefinite string.`);if(s===31)throw new Error("nested indefinite string.");let i=Tg(e,t);e+=ye;for(let c=0;c<i.length;++c)r.push(i[c])}throw new Error("expected break marker.")}function Tg(e,t){let r=Vi(e,t),n=ye;if(e+=n,t-e<r)throw new Error(`unstructured byte string len ${r} greater than remaining buf len.`);let o=Ne.subarray(e,e+r);return ye=n+r,o}function PV(e,t){e+=1;let r=[];for(let n=e;e<t;){if(Ne[e]===255){let c=_n(r.length);return c.set(r,0),ye=e-n+2,c}let o=(Ne[e]&224)>>5,s=Ne[e]&31;if(o!==2)throw new Error(`unexpected major type ${o} in indefinite string.`);if(s===31)throw new Error("nested indefinite string.");let i=Tg(e,t);e+=ye;for(let c=0;c<i.length;++c)r.push(i[c])}throw new Error("expected break marker.")}function RV(e,t){let r=Vi(e,t),n=ye;e+=n;let o=e,s=Array(r);for(let i=0;i<r;++i){let a=hr(e,t),c=ye;s[i]=a,e+=c}return ye=n+(e-o),s}function CV(e,t){e+=1;let r=[];for(let n=e;e<t;){if(Ne[e]===255)return ye=e-n+2,r;let o=hr(e,t);e+=ye,r.push(o)}throw new Error("expected break marker.")}function AV(e,t){let r=Vi(e,t),n=ye;e+=n;let o=e,s={};for(let i=0;i<r;++i){if(e>=t)throw new Error("unexpected end of map payload.");let a=(Ne[e]&224)>>5;if(a!==3)throw new Error(`unexpected major type ${a} for map key at index ${e}.`);let c=hr(e,t);e+=ye;let u=hr(e,t);e+=ye,s[c]=u}return ye=n+(e-o),s}function TV(e,t){e+=1;let r=e,n={};for(;e<t;){if(e>=t)throw new Error("unexpected end of map payload.");if(Ne[e]===255)return ye=e-r+2,n;let o=(Ne[e]&224)>>5;if(o!==3)throw new Error(`unexpected major type ${o} for map key.`);let s=hr(e,t);e+=ye;let i=hr(e,t);e+=ye,n[s]=i}throw new Error("expected break marker.")}function vV(e,t){let r=Ne[e]&31;switch(r){case 21:case 20:return ye=1,r===21;case 22:return ye=1,null;case 23:return ye=1,null;case 25:if(t-e<3)throw new Error("incomplete float16 at end of buf.");return ye=3,_V(Ne[e+1],Ne[e+2]);case 26:if(t-e<5)throw new Error("incomplete float32 at end of buf.");return ye=5,Gr.getFloat32(e+1);case 27:if(t-e<9)throw new Error("incomplete float64 at end of buf.");return ye=9,Gr.getFloat64(e+1);default:throw new Error(`unexpected minor value ${r}.`)}}function bg(e){if(typeof e=="number")return e;let t=Number(e);return Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:e}var DC,yV,EV,Ne,Gr,OC,ye,$C,LC=R(()=>{Et();DC=T(We());$u();yV=typeof TextDecoder<"u",EV=typeof Buffer<"u",Ne=_n(0),Gr=new DataView(Ne.buffer,Ne.byteOffset,Ne.byteLength),OC=yV?new TextDecoder:null,ye=0;$C={[24]:1,[25]:2,[26]:4,[27]:8}});function xg(e){ue.byteLength-ee<e&&(ee<16e6?Mu(Math.max(ue.byteLength*4,ue.byteLength+e)):Mu(ue.byteLength+e+16e6))}function Ig(){let e=_n(ee);return e.set(ue.subarray(0,ee),0),ee=0,e}function Mu(e){let t=ue;ue=_n(e),t&&(t.copy?t.copy(ue,0,0,t.byteLength):ue.set(t,0)),Kr=new DataView(ue.buffer,ue.byteOffset,ue.byteLength)}function Wr(e,t){t<24?ue[ee++]=e<<5|t:t<256?(ue[ee++]=e<<5|24,ue[ee++]=t):t<65536?(ue[ee++]=e<<5|25,Kr.setUint16(ee,t),ee+=2):t<2**32?(ue[ee++]=e<<5|26,Kr.setUint32(ee,t),ee+=4):(ue[ee++]=e<<5|27,Kr.setBigUint64(ee,typeof t=="bigint"?t:BigInt(t)),ee+=8)}function FC(e){let t=[e];for(;t.length;){let r=t.pop();if(xg(typeof r=="string"?r.length*4:64),typeof r=="string"){if(MC)Wr(3,Buffer.byteLength(r)),ee+=ue.write(r,ee);else{let n=(0,UC.fromUtf8)(r);Wr(3,n.byteLength),ue.set(n,ee),ee+=n.byteLength}continue}else if(typeof r=="number"){if(Number.isInteger(r)){let n=r>=0,o=n?0:1,s=n?r:-r-1;s<24?ue[ee++]=o<<5|s:s<256?(ue[ee++]=o<<5|24,ue[ee++]=s):s<65536?(ue[ee++]=o<<5|25,ue[ee++]=s>>8,ue[ee++]=s):s<4294967296?(ue[ee++]=o<<5|26,Kr.setUint32(ee,s),ee+=4):(ue[ee++]=o<<5|27,Kr.setBigUint64(ee,BigInt(s)),ee+=8);continue}ue[ee++]=251,Kr.setFloat64(ee,r),ee+=8;continue}else if(typeof r=="bigint"){let n=r>=0,o=n?0:1,s=n?r:-r-BigInt(1),i=Number(s);if(i<24)ue[ee++]=o<<5|i;else if(i<256)ue[ee++]=o<<5|24,ue[ee++]=i;else if(i<65536)ue[ee++]=o<<5|25,ue[ee++]=i>>8,ue[ee++]=i&255;else if(i<4294967296)ue[ee++]=o<<5|26,Kr.setUint32(ee,i),ee+=4;else if(s<BigInt("18446744073709551616"))ue[ee++]=o<<5|27,Kr.setBigUint64(ee,s),ee+=8;else{let a=s.toString(2),c=new Uint8Array(Math.ceil(a.length/8)),u=s,d=0;for(;c.byteLength-++d>=0;)c[c.byteLength-d]=Number(u&BigInt(255)),u>>=BigInt(8);xg(c.byteLength*2),ue[ee++]=n?194:195,MC?Wr(2,Buffer.byteLength(c)):Wr(2,c.byteLength),ue.set(c,ee),ee+=c.byteLength}continue}else if(r===null){ue[ee++]=246;continue}else if(typeof r=="boolean"){ue[ee++]=224|(r?21:20);continue}else{if(typeof r>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(r)){for(let n=r.length-1;n>=0;--n)t.push(r[n]);Wr(4,r.length);continue}else if(typeof r.byteLength=="number"){xg(r.length*2),Wr(2,r.length),ue.set(r,ee),ee+=r.byteLength;continue}else if(typeof r=="object"){if(r instanceof Le){let o=r.string.indexOf("."),s=o===-1?0:o-r.string.length+1,i=BigInt(r.string.replace(".",""));ue[ee++]=196,t.push(i),t.push(s),Wr(4,2);continue}if(r[_g])if("tag"in r&&"value"in r){t.push(r.value),Wr(6,r.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(r));let n=Object.keys(r);for(let o=n.length-1;o>=0;--o){let s=n[o];t.push(r[s]),t.push(s)}Wr(5,n.length);continue}}throw new Error(`data type ${r?.constructor?.name??typeof r} not compatible for encoding.`)}}var UC,MC,xV,ue,Kr,ee,qC=R(()=>{Et();UC=T(We());$u();MC=typeof Buffer<"u",xV=2048,ue=_n(xV),Kr=new DataView(ue.buffer,ue.byteOffset,ue.byteLength),ee=0});var Og,jC=R(()=>{LC();qC();Og={deserialize(e){return NC(e),hr(0,e.length)},serialize(e){try{return FC(e),Ig()}catch(t){throw Ig(),t}},resizeEncodingBuffer(e){Mu(e)}}});var Uu,Fu,qu=R(()=>{$u();Uu=e=>ku({tag:1,value:e.getTime()/1e3}),Fu=(e,t)=>{let r=o=>{let s=o;return typeof s=="number"&&(s=s.toString()),s.indexOf(",")>=0&&(s=s.split(",")[0]),s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s};if(t.__type!==void 0)return r(t.__type);let n=Object.keys(t).find(o=>o.toLowerCase()==="code");if(n&&t[n]!==void 0)return r(t[n])}});var kg,ju,Dg,Ng,$g=R(()=>{Ct();Te();Et();Et();kg=T(je());jC();qu();ju=class extends St{createSerializer(){let t=new Dg;return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Ng;return t.setSerdeContext(this.serdeContext),t}},Dg=class extends St{value;write(t,r){this.value=this.serialize(t,r)}serialize(t,r){let n=Z.of(t);if(r==null)return n.isIdempotencyToken()?(0,Bt.v4)():r;if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??kg.fromBase64)(r):r;if(n.isTimestampSchema())return typeof r=="number"||typeof r=="bigint"?Uu(new Date(Number(r)/1e3|0)):Uu(r);if(typeof r=="function"||typeof r=="object"){let o=r;if(n.isListSchema()&&Array.isArray(o)){let i=!!n.getMergedTraits().sparse,a=[],c=0;for(let u of o){let d=this.serialize(n.getValueSchema(),u);(d!=null||i)&&(a[c++]=d)}return a}if(o instanceof Date)return Uu(o);let s={};if(n.isMapSchema()){let i=!!n.getMergedTraits().sparse;for(let a of Object.keys(o)){let c=this.serialize(n.getValueSchema(),o[a]);(c!=null||i)&&(s[a]=c)}}else if(n.isStructSchema()){for(let[a,c]of n.structIterator()){let u=this.serialize(c,o[a]);u!=null&&(s[a]=u)}if(n.isUnionSchema()&&Array.isArray(o.$unknown)){let[a,c]=o.$unknown;s[a]=c}else if(typeof o.__type=="string")for(let[a,c]of Object.entries(o))a in s||(s[a]=this.serialize(15,c))}else if(n.isDocumentSchema())for(let i of Object.keys(o))s[i]=this.serialize(n.getValueSchema(),o[i]);else if(n.isBigDecimalSchema())return o;return s}return r}flush(){let t=Og.serialize(this.value);return this.value=void 0,t}},Ng=class extends St{read(t,r){let n=Og.deserialize(r);return this.readValue(t,n)}readValue(t,r){let n=Z.of(t);if(n.isTimestampSchema()){if(typeof r=="number")return fs(r);if(typeof r=="object"&&r.tag===1&&"value"in r)return fs(r.value)}if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??kg.fromBase64)(r):r;if(typeof r>"u"||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="bigint"||typeof r=="symbol")return r;if(typeof r=="object"){if(r===null)return null;if("byteLength"in r||r instanceof Date||n.isDocumentSchema())return r;if(n.isListSchema()){let s=[],i=n.getValueSchema(),a=!!n.getMergedTraits().sparse;for(let c of r){let u=this.readValue(i,c);(u!=null||a)&&s.push(u)}return s}let o={};if(n.isMapSchema()){let s=!!n.getMergedTraits().sparse,i=n.getValueSchema();for(let a of Object.keys(r)){let c=this.readValue(i,r[a]);(c!=null||s)&&(o[a]=c)}}else if(n.isStructSchema()){let s=n.isUnionSchema(),i;s&&(i=new Set(Object.keys(r).filter(a=>a!=="__type")));for(let[a,c]of n.structIterator())s&&i.delete(a),r[a]!=null&&(o[a]=this.readValue(c,r[a]));if(s&&i?.size===1&&Object.keys(o).length===0){let a=i.values().next().value;o.$unknown=[a,r[a]]}else if(typeof r.__type=="string")for(let[a,c]of Object.entries(r))a in o||(o[a]=c)}else if(r instanceof Le)return r;return o}else return r}}});var HC,Hu,BC=R(()=>{Ct();Te();HC=T(ht());$g();qu();Hu=class extends Fr{codec=new ju;serializer=this.codec.createSerializer();deserializer=this.codec.createDeserializer();constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);if(Object.assign(o.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),Zt(t.input)==="unit")delete o.body,delete o.headers["content-type"];else{o.body||(this.serializer.write(15,{}),o.body=this.serializer.flush());try{o.headers["content-length"]=String(o.body.byteLength)}catch{}}let{service:s,operation:i}=(0,HC.getSmithyContext)(n),a=`/service/${s}/operation/${i}`;return o.path.endsWith("/")?o.path+=a.slice(1):o.path+=a,o}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,o,s){let i=Fu(n,o)??"Unknown",a=this.options.defaultNamespace;i.includes("#")&&([a]=i.split("#"));let c={$metadata:s,$fault:n.statusCode<=500?"client":"server"},u=ae.for(a),d;try{d=u.getSchema(i)}catch{o.Message&&(o.message=o.Message);let D=ae.for("smithy.ts.sdk.synthetic."+a),M=D.getBaseException();if(M){let q=D.getErrorCtor(M);throw Object.assign(new q({name:i}),c,o)}throw Object.assign(new Error(i),c,o)}let l=Z.of(d),h=u.getErrorCtor(d),g=o.message??o.Message??"Unknown",S=new h(g),C={};for(let[E,D]of l.structIterator())C[E]=this.deserializer.readValue(D,o[E]);throw Object.assign(S,c,{$fault:l.getMergedTraits().error,message:g},C)}getDefaultContentType(){return"application/cbor"}}});var VC=R(()=>{qu();BC();$g()});var KC=N(WC=>{"use strict";var Po=(e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},Rn=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,Lg=()=>{let e=[],t=[],r=!1,n=new Set,o=l=>l.sort((h,g)=>GC[g.step]-GC[h.step]||zC[g.priority||"normal"]-zC[h.priority||"normal"]),s=l=>{let h=!1,g=S=>{let C=Po(S.name,S.aliases);if(C.includes(l)){h=!0;for(let E of C)n.delete(E);return!1}return!0};return e=e.filter(g),t=t.filter(g),h},i=l=>{let h=!1,g=S=>{if(S.middleware===l){h=!0;for(let C of Po(S.name,S.aliases))n.delete(C);return!1}return!0};return e=e.filter(g),t=t.filter(g),h},a=l=>(e.forEach(h=>{l.add(h.middleware,{...h})}),t.forEach(h=>{l.addRelativeTo(h.middleware,{...h})}),l.identifyOnResolve?.(d.identifyOnResolve()),l),c=l=>{let h=[];return l.before.forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...c(g))}),h.push(l),l.after.reverse().forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...c(g))}),h},u=(l=!1)=>{let h=[],g=[],S={};return e.forEach(E=>{let D={...E,before:[],after:[]};for(let M of Po(D.name,D.aliases))S[M]=D;h.push(D)}),t.forEach(E=>{let D={...E,before:[],after:[]};for(let M of Po(D.name,D.aliases))S[M]=D;g.push(D)}),g.forEach(E=>{if(E.toMiddleware){let D=S[E.toMiddleware];if(D===void 0){if(l)return;throw new Error(`${E.toMiddleware} is not found when adding ${Rn(E.name,E.aliases)} middleware ${E.relation} ${E.toMiddleware}`)}E.relation==="after"&&D.after.push(E),E.relation==="before"&&D.before.push(E)}}),o(h).map(c).reduce((E,D)=>(E.push(...D),E),[])},d={add:(l,h={})=>{let{name:g,override:S,aliases:C}=h,E={step:"initialize",priority:"normal",middleware:l,...h},D=Po(g,C);if(D.length>0){if(D.some(M=>n.has(M))){if(!S)throw new Error(`Duplicate middleware name '${Rn(g,C)}'`);for(let M of D){let q=e.findIndex(H=>H.name===M||H.aliases?.some(oe=>oe===M));if(q===-1)continue;let z=e[q];if(z.step!==E.step||E.priority!==z.priority)throw new Error(`"${Rn(z.name,z.aliases)}" middleware with ${z.priority} priority in ${z.step} step cannot be overridden by "${Rn(g,C)}" middleware with ${E.priority} priority in ${E.step} step.`);e.splice(q,1)}}for(let M of D)n.add(M)}e.push(E)},addRelativeTo:(l,h)=>{let{name:g,override:S,aliases:C}=h,E={middleware:l,...h},D=Po(g,C);if(D.length>0){if(D.some(M=>n.has(M))){if(!S)throw new Error(`Duplicate middleware name '${Rn(g,C)}'`);for(let M of D){let q=t.findIndex(H=>H.name===M||H.aliases?.some(oe=>oe===M));if(q===-1)continue;let z=t[q];if(z.toMiddleware!==E.toMiddleware||z.relation!==E.relation)throw new Error(`"${Rn(z.name,z.aliases)}" middleware ${z.relation} "${z.toMiddleware}" middleware cannot be overridden by "${Rn(g,C)}" middleware ${E.relation} "${E.toMiddleware}" middleware.`);t.splice(q,1)}}for(let M of D)n.add(M)}t.push(E)},clone:()=>a(Lg()),use:l=>{l.applyToStack(d)},remove:l=>typeof l=="string"?s(l):i(l),removeByTag:l=>{let h=!1,g=S=>{let{tags:C,name:E,aliases:D}=S;if(C&&C.includes(l)){let M=Po(E,D);for(let q of M)n.delete(q);return h=!0,!1}return!0};return e=e.filter(g),t=t.filter(g),h},concat:l=>{let h=a(Lg());return h.use(l),h.identifyOnResolve(r||h.identifyOnResolve()||(l.identifyOnResolve?.()??!1)),h},applyToStack:a,identify:()=>u(!0).map(l=>{let h=l.step??l.relation+" "+l.toMiddleware;return Rn(l.name,l.aliases)+" - "+h}),identifyOnResolve(l){return typeof l=="boolean"&&(r=l),r},resolve:(l,h)=>{for(let g of u().map(S=>S.middleware).reverse())l=g(l,h);return r&&console.log(d.identify()),l}};return d},GC={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},zC={high:3,normal:2,low:1};WC.constructStack=Lg});var Ee=N(Oe=>{"use strict";var QC=KC(),Gg=(Ct(),Se(eR)),Ug=dn(),IV=(Te(),Se(uu)),YC=(Et(),Se(qP)),Fg=class{config;middlewareStack=QC.constructStack();initConfig;handlers;constructor(t){this.config=t;let{protocol:r,protocolSettings:n}=t;n&&typeof r=="function"&&(t.protocol=new r(n))}send(t,r,n){let o=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,i=o===void 0&&this.config.cacheMiddleware===!0,a;if(i){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(t.constructor)?a=c.get(t.constructor):(a=t.resolveMiddleware(this.middlewareStack,this.config,o),c.set(t.constructor,a))}else delete this.handlers,a=t.resolveMiddleware(this.middlewareStack,this.config,o);if(s)a(t).then(c=>s(null,c.output),c=>s(c)).catch(()=>{});else return a(t).then(c=>c.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},Mg="***SensitiveInformation***";function qg(e,t){if(t==null)return t;let r=IV.NormalizedSchema.of(e);if(r.getMergedTraits().sensitive)return Mg;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return Mg}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return Mg}else if(r.isStructSchema()&&typeof t=="object"){let n=t,o={};for(let[s,i]of r.structIterator())n[s]!=null&&(o[s]=qg(i,n[s]));return o}return t}var Bu=class{middlewareStack=QC.constructStack();schema;static classBuilder(){return new jg}resolveMiddlewareWithContext(t,r,n,{middlewareFn:o,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:u,additionalContext:d,CommandCtor:l}){for(let E of o.bind(this)(l,t,r,n))this.middlewareStack.use(E);let h=t.concat(this.middlewareStack),{logger:g}=r,S={logger:g,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[Ug.SMITHY_CONTEXT_KEY]:{commandInstance:this,...u},...d},{requestHandler:C}=r;return h.resolve(E=>C.handle(E.request,n||{}),S)}},jg=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}sc(t){return this._operationSchema=t,this._smithyContext.operationSchema=t,this}build(){let t=this,r;return r=class extends Bu{input;static getEndpointParameterInstructions(){return t._ep}constructor(...[n]){super(),this.input=n??{},t._init(this),this.schema=t._operationSchema}resolveMiddleware(n,o,s){let i=t._operationSchema,a=i?.[4]??i?.input,c=i?.[5]??i?.output;return this.resolveMiddlewareWithContext(n,o,s,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog??(i?qg.bind(null,a):u=>u),outputFilterSensitiveLog:t._outputFilterSensitiveLog??(i?qg.bind(null,c):u=>u),smithyContext:t._smithyContext,additionalContext:t._additionalContext})}serialize=t._serializer;deserialize=t._deserializer}}},OV="***SensitiveInformation***",DV=(e,t,r)=>{for(let[s,i]of Object.entries(e)){let a=async function(u,d,l){let h=new i(u);if(typeof d=="function")this.send(h,d);else if(typeof l=="function"){if(typeof d!="object")throw new Error(`Expected http options but got ${typeof d}`);this.send(h,d||{},l)}else return this.send(h,d)},c=(s[0].toLowerCase()+s.slice(1)).replace(/Command$/,"");t.prototype[c]=a}let{paginators:n={},waiters:o={}}=r??{};for(let[s,i]of Object.entries(n))t.prototype[s]===void 0&&(t.prototype[s]=function(a={},c,...u){return i({...c,client:this},a,...u)});for(let[s,i]of Object.entries(o))t.prototype[s]===void 0&&(t.prototype[s]=async function(a={},c,...u){let d=c;return typeof c=="number"&&(d={maxWaitTime:c}),i({...d,client:this},a,...u)})},Hg=class e extends Error{$fault;$response;$retryable;$metadata;constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return e.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===e?e.isInstance(t):e.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},JC=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},ZC=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=kV(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:o});throw JC(i,t)},NV=e=>({output:t,parsedBody:r,errorCode:n})=>{ZC({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},kV=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),$V=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},XC=!1,LV=e=>{e&&!XC&&parseInt(e.substring(1,e.indexOf(".")))<16&&(XC=!0)},MV=e=>{let t=[];for(let r in Ug.AlgorithmId){let n=Ug.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},UV=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},FV=e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),qV=e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},e0=e=>Object.assign(MV(e),FV(e)),jV=e0,HV=e=>Object.assign(UV(e),qV(e)),BV=e=>Array.isArray(e)?e:[e],t0=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=t0(e[r]));return e},VV=e=>e!=null,Bg=class{trace(){}debug(){}info(){}warn(){}error(){}};function r0(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,WV(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}n0(n,null,s,i)}return n}var GV=e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},zV=(e,t)=>{let r={};for(let n in t)n0(r,e,t,n);return r},WV=(e,t,r)=>r0(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),n0=(e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=KV,c=YV,u=n]=i;(typeof a=="function"&&a(t[u])||typeof a!="function"&&a)&&(e[n]=c(t[u]));return}let[o,s]=r[n];if(typeof s=="function"){let i,a=o===void 0&&(i=s())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=i:c&&(e[n]=s())}else{let i=o===void 0&&s!=null,a=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||a)&&(e[n]=s)}},KV=e=>e!=null,YV=e=>e,XV=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},QV=e=>e.toISOString().replace(".000Z","Z"),Vg=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(Vg);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=Vg(e[r]));return t}return e};Object.defineProperty(Oe,"collectBody",{enumerable:!0,get:function(){return Gg.collectBody}});Object.defineProperty(Oe,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return Gg.extendedEncodeURIComponent}});Object.defineProperty(Oe,"resolvedPath",{enumerable:!0,get:function(){return Gg.resolvedPath}});Oe.Client=Fg;Oe.Command=Bu;Oe.NoOpLogger=Bg;Oe.SENSITIVE_STRING=OV;Oe.ServiceException=Hg;Oe._json=Vg;Oe.convertMap=GV;Oe.createAggregatedClient=DV;Oe.decorateServiceException=JC;Oe.emitWarningIfUnsupportedVersion=LV;Oe.getArrayIfSingleItem=BV;Oe.getDefaultClientConfiguration=jV;Oe.getDefaultExtensionConfiguration=e0;Oe.getValueFromTextNode=t0;Oe.isSerializableHeaderValue=VV;Oe.loadConfigsForDefaultMode=$V;Oe.map=r0;Oe.resolveDefaultRuntimeConfig=HV;Oe.serializeDateTime=QV;Oe.serializeFloat=XV;Oe.take=zV;Oe.throwDefaultError=ZC;Oe.withBaseException=NV;Object.keys(YC).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Oe,e)&&Object.defineProperty(Oe,e,{enumerable:!0,get:function(){return YC[e]}})})});var zg,Gt,ws=R(()=>{Te();zg=T(Ee()),Gt=class{queryCompat;constructor(t=!1){this.queryCompat=t}resolveRestContentType(t,r){let n=r.getMemberSchemas(),o=Object.values(n).find(s=>!!s.getMergedTraits().httpPayload);if(o){let s=o.getMergedTraits().mediaType;return s||(o.isStringSchema()?"text/plain":o.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(n).find(i=>{let{httpQuery:a,httpQueryParams:c,httpHeader:u,httpLabel:d,httpPrefixHeaders:l}=i.getMergedTraits();return!a&&!c&&!u&&!d&&l===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,n,o,s,i){let a=r,c=t;t.includes("#")&&([a,c]=t.split("#"));let u={$metadata:s,$fault:n.statusCode<500?"client":"server"},d=ae.for(a);try{return{errorSchema:i?.(d,c)??d.getSchema(t),errorMetadata:u}}catch{o.message=o.message??o.Message??"UnknownError";let h=ae.for("smithy.ts.sdk.synthetic."+a),g=h.getBaseException();if(g){let S=h.getErrorCtor(g)??Error;throw this.decorateServiceException(Object.assign(new S({name:c}),u),o)}throw this.decorateServiceException(Object.assign(new Error(c),u),o)}}decorateServiceException(t,r={}){if(this.queryCompat){let n=t.Message??r.Message,o=(0,zg.decorateServiceException)(t,r);n&&(o.message=n),o.Error={...o.Error,Type:o.Error.Type,Code:o.Error.Code,Message:o.Error.message??o.Error.Message??n};let s=o.$metadata.requestId;return s&&(o.RequestId=s),o}return(0,zg.decorateServiceException)(t,r)}setQueryCompatError(t,r){let n=r.headers?.["x-amzn-query-error"];if(t!==void 0&&n!=null){let[o,s]=n.split(";"),i=Object.entries(t),a={Code:o,Type:s};Object.assign(t,a);for(let[c,u]of i)a[c==="message"?"Message":c]=u;delete a.__type,t.Error=a}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}findQueryCompatibleError(t,r){try{return t.getSchema(r)}catch{return t.find(o=>Z.of(o).getMergedTraits().awsQueryError?.[0]===r)}}}});var Vu,o0=R(()=>{VC();Te();ws();Vu=class extends Hu{awsQueryCompatible;mixin;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r,this.mixin=new Gt(this.awsQueryCompatible)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);return this.awsQueryCompatible&&(o.headers["x-amzn-query-mode"]="true"),o}async handleError(t,r,n,o,s){this.awsQueryCompatible&&this.mixin.setQueryCompatError(o,n);let i=(()=>{let S=n.headers["x-amzn-query-error"];return S&&this.awsQueryCompatible?S.split(";")[0]:Fu(n,o)??"Unknown"})(),{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,o,s,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),u=Z.of(a),d=o.message??o.Message??"Unknown",l=ae.for(a[1]).getErrorCtor(a)??Error,h=new l(d),g={};for(let[S,C]of u.structIterator())o[S]!=null&&(g[S]=this.deserializer.readValue(C,o[S]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(o,g),this.mixin.decorateServiceException(Object.assign(h,c,{$fault:u.getMergedTraits().error,message:d},g),o)}}});var s0,i0,a0,c0=R(()=>{s0=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},i0=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},a0=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var ut,Cn=R(()=>{ut=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});var Ps,Wg=R(()=>{Ps=class{from;to;keys;constructor(t,r){this.from=t,this.to=r,this.keys=new Set(Object.keys(this.from).filter(n=>n!=="__type"))}mark(t){this.keys.delete(t)}hasUnknown(){return this.keys.size===1&&Object.keys(this.to).length===0}writeUnknown(){if(this.hasUnknown()){let t=this.keys.values().next().value,r=this.from[t];this.to.$unknown=[t,r]}}}});function u0(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new Le(n,"bigDecimal"):BigInt(n)}return t}var l0=R(()=>{Et()});var d0,f0,Gu,Kg=R(()=>{d0=T(Ee()),f0=T(We()),Gu=(e,t)=>(0,d0.collectBody)(e,t).then(r=>(t?.utf8Encoder??f0.toUtf8)(r))});var Gi,p0,Rs,zi=R(()=>{Kg();Gi=(e,t)=>Gu(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),p0=async(e,t)=>{let r=await Gi(e,t);return r.message=r.message??r.Message,r},Rs=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t&&typeof t=="object"){let s=r(t,"code");if(s&&t[s]!==void 0)return n(t[s]);if(t.__type!==void 0)return n(t.__type)}}});var m0,Cs,Yg=R(()=>{Ct();Te();Et();m0=T(je());Cn();Wg();l0();zi();Cs=class extends ut{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,u0):await Gi(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",o=Z.of(t);if(n){if(o.isStructSchema()){let i=r,a=o.isUnionSchema(),c={},u,{jsonName:d}=this.settings;d&&(u={});let l;a&&(l=new Ps(i,c));for(let[h,g]of o.structIterator()){let S=h;d&&(S=g.getMergedTraits().jsonName??S,u[S]=h),a&&l.mark(S),i[S]!=null&&(c[h]=this._read(g,i[S]))}if(a)l.writeUnknown();else if(typeof i.__type=="string")for(let[h,g]of Object.entries(i)){let S=d?u[h]??h:h;S in c||(c[S]=g)}return c}if(Array.isArray(r)&&o.isListSchema()){let i=o.getValueSchema(),a=[],c=!!o.getMergedTraits().sparse;for(let u of r)(c||u!=null)&&a.push(this._read(i,u));return a}if(o.isMapSchema()){let i=o.getValueSchema(),a={},c=!!o.getMergedTraits().sparse;for(let[u,d]of Object.entries(r))(c||d!=null)&&(a[u]=this._read(i,d));return a}}if(o.isBlobSchema()&&typeof r=="string")return(0,m0.fromBase64)(r);let s=o.getMergedTraits().mediaType;if(o.isStringSchema()&&typeof r=="string"&&s)return s==="application/json"||s.endsWith("+json")?yt.from(r):r;if(o.isTimestampSchema()&&r!=null)switch(Nt(o,this.settings)){case 5:return yh(r);case 6:return Eh(r);case 7:return Sh(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(o.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(o.isBigDecimalSchema()&&r!=null){if(r instanceof Le)return r;let i=r;return i.type==="bigDecimal"&&"string"in i?new Le(i.string,i.type):new Le(String(r),"bigDecimal")}if(o.isNumericSchema()&&typeof r=="string"){switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}if(o.isDocumentSchema())if(n){let i=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof Le?i[a]=c:i[a]=this._read(o,c);return i}else return structuredClone(r);return r}}});var h0,zu,g0=R(()=>{Et();h0="\u039D",zu=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof Le){let n=`${h0+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),o=`${h0+"b"+this.counter++}_`+n;return this.values.set(`"${o}"`,n),o}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var Xg,As,Qg=R(()=>{Ct();Te();Et();Xg=T(je());Cn();g0();As=class extends ut{settings;buffer;useReplacer=!1;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=Z.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=Z.of(t).getName(!0))}flush(){let{rootSchema:t,useReplacer:r}=this;if(this.rootSchema=void 0,this.useReplacer=!1,t?.isStructSchema()||t?.isDocumentSchema()){if(!r)return JSON.stringify(this.buffer);let n=new zu;return n.replaceInJson(JSON.stringify(this.buffer,n.createReplacer(),0))}return this.buffer}_write(t,r,n){let o=r!==null&&typeof r=="object",s=Z.of(t);if(o){if(s.isStructSchema()){let i=r,a={},{jsonName:c}=this.settings,u;c&&(u={});for(let[d,l]of s.structIterator()){let h=this._write(l,i[d],s);if(h!==void 0){let g=d;c&&(g=l.getMergedTraits().jsonName??d,u[d]=g),a[g]=h}}if(s.isUnionSchema()&&Object.keys(a).length===0){let{$unknown:d}=i;if(Array.isArray(d)){let[l,h]=d;a[l]=this._write(15,h)}}else if(typeof i.__type=="string")for(let[d,l]of Object.entries(i)){let h=c?u[d]??d:d;h in a||(a[h]=this._write(15,l))}return a}if(Array.isArray(r)&&s.isListSchema()){let i=s.getValueSchema(),a=[],c=!!s.getMergedTraits().sparse;for(let u of r)(c||u!=null)&&a.push(this._write(i,u));return a}if(s.isMapSchema()){let i=s.getValueSchema(),a={},c=!!s.getMergedTraits().sparse;for(let[u,d]of Object.entries(r))(c||d!=null)&&(a[u]=this._write(i,d));return a}if(r instanceof Uint8Array&&(s.isBlobSchema()||s.isDocumentSchema()))return s===this.rootSchema?r:(this.serdeContext?.base64Encoder??Xg.toBase64)(r);if(r instanceof Date&&(s.isTimestampSchema()||s.isDocumentSchema()))switch(Nt(s,this.settings)){case 5:return r.toISOString().replace(".000Z","Z");case 6:return Ni(r);case 7:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}r instanceof Le&&(this.useReplacer=!0)}if(!(r===null&&n?.isStructSchema())){if(s.isStringSchema()){if(typeof r>"u"&&s.isIdempotencyToken())return(0,Bt.v4)();let i=s.getMergedTraits().mediaType;return r!=null&&i&&(i==="application/json"||i.endsWith("+json"))?yt.from(r):r}if(typeof r=="number"&&s.isNumericSchema())return Math.abs(r)===1/0||isNaN(r)?String(r):r;if(typeof r=="string"&&s.isBlobSchema())return s===this.rootSchema?r:(this.serdeContext?.base64Encoder??Xg.toBase64)(r);if(typeof r=="bigint"&&(this.useReplacer=!0),s.isDocumentSchema())if(o){let i=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof Le?(this.useReplacer=!0,i[a]=c):i[a]=this._write(s,c);return i}else return structuredClone(r);return r}}}});var An,Wu=R(()=>{Cn();Yg();Qg();An=class extends ut{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new As(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Cs(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Tn,Ku=R(()=>{Ct();Te();ws();Wu();zi();Tn=class extends Fr{serializer;deserializer;serviceTarget;codec;mixin;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:o}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=o??new An({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n,this.mixin=new Gt(this.awsQueryCompatible)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);return o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${t.name}`}),this.awsQueryCompatible&&(o.headers["x-amzn-query-mode"]="true"),(Zt(t.input)==="unit"||!o.body)&&(o.body="{}"),o}getPayloadCodec(){return this.codec}async handleError(t,r,n,o,s){this.awsQueryCompatible&&this.mixin.setQueryCompatError(o,n);let i=Rs(n,o)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,o,s,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),u=Z.of(a),d=o.message??o.Message??"Unknown",l=ae.for(a[1]).getErrorCtor(a)??Error,h=new l(d),g={};for(let[S,C]of u.structIterator())o[S]!=null&&(g[S]=this.codec.createDeserializer().readObject(C,o[S]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(o,g),this.mixin.decorateServiceException(Object.assign(h,c,{$fault:u.getMergedTraits().error,message:d},g),o)}}});var Yu,y0=R(()=>{Ku();Yu=class extends Tn{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:o}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:o})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var Xu,E0=R(()=>{Ku();Xu=class extends Tn{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:o}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:o})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var vn,S0=R(()=>{Ct();Te();ws();Wu();zi();vn=class extends go{serializer;deserializer;codec;mixin=new Gt;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new An(r),this.serializer=new So(this.codec.createSerializer(),r),this.deserializer=new Eo(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=Z.of(t.input);if(!o.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),s);i&&(o.headers["content-type"]=i)}return o.body==null&&o.headers["content-type"]===this.getDefaultContentType()&&(o.body="{}"),o}async deserializeResponse(t,r,n){let o=await super.deserializeResponse(t,r,n),s=Z.of(t.output);for(let[i,a]of s.structIterator())a.getMemberTraits().httpPayload&&!(i in o)&&(o[i]=null);return o}async handleError(t,r,n,o,s){let i=Rs(n,o)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,o,s),u=Z.of(a),d=o.message??o.Message??"Unknown",l=ae.for(a[1]).getErrorCtor(a)??Error,h=new l(d);await this.deserializeHttpMessage(a,r,n,o);let g={};for(let[S,C]of u.structIterator()){let E=C.getMergedTraits().jsonName??S;g[S]=this.codec.createDeserializer().readObject(C,o[E])}throw this.mixin.decorateServiceException(Object.assign(h,c,{$fault:u.getMergedTraits().error,message:d},g),o)}getDefaultContentType(){return"application/json"}}});var _0,b0,w0=R(()=>{_0=T(Ee()),b0=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,_0.expectUnion)(e)}});var R0=N((pie,P0)=>{(()=>{"use strict";var e={d:(m,f)=>{for(var p in f)e.o(f,p)&&!e.o(m,p)&&Object.defineProperty(m,p,{enumerable:!0,get:f[p]})},o:(m,f)=>Object.prototype.hasOwnProperty.call(m,f),r:m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{XMLBuilder:()=>un,XMLParser:()=>v,XMLValidator:()=>AU});let r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=new RegExp("^["+r+"]["+r+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function o(m,f){let p=[],A=f.exec(m);for(;A;){let b=[];b.startIndex=f.lastIndex-A[0].length;let x=A.length;for(let k=0;k<x;k++)b.push(A[k]);p.push(b),A=f.exec(m)}return p}let s=function(m){return n.exec(m)!=null},i={allowBooleanAttributes:!1,unpairedTags:[]};function a(m,f){f=Object.assign({},i,f);let p=[],A=!1,b=!1;m[0]==="\uFEFF"&&(m=m.substr(1));for(let x=0;x<m.length;x++)if(m[x]==="<"&&m[x+1]==="?"){if(x+=2,x=u(m,x),x.err)return x}else{if(m[x]!=="<"){if(c(m[x]))continue;return D("InvalidChar","char '"+m[x]+"' is not expected.",q(m,x))}{let k=x;if(x++,m[x]==="!"){x=d(m,x);continue}{let $=!1;m[x]==="/"&&($=!0,x++);let O="";for(;x<m.length&&m[x]!==">"&&m[x]!==" "&&m[x]!=="	"&&m[x]!==`
`&&m[x]!=="\r";x++)O+=m[x];if(O=O.trim(),O[O.length-1]==="/"&&(O=O.substring(0,O.length-1),x--),!s(O)){let Q;return Q=O.trim().length===0?"Invalid space after '<'.":"Tag '"+O+"' is an invalid name.",D("InvalidTag",Q,q(m,x))}let K=g(m,x);if(K===!1)return D("InvalidAttr","Attributes for '"+O+"' have open quote.",q(m,x));let X=K.value;if(x=K.index,X[X.length-1]==="/"){let Q=x-X.length;X=X.substring(0,X.length-1);let we=C(X,f);if(we!==!0)return D(we.err.code,we.err.msg,q(m,Q+we.err.line));A=!0}else if($){if(!K.tagClosed)return D("InvalidTag","Closing tag '"+O+"' doesn't have proper closing.",q(m,x));if(X.trim().length>0)return D("InvalidTag","Closing tag '"+O+"' can't have attributes or invalid starting.",q(m,k));if(p.length===0)return D("InvalidTag","Closing tag '"+O+"' has not been opened.",q(m,k));{let Q=p.pop();if(O!==Q.tagName){let we=q(m,Q.tagStartPos);return D("InvalidTag","Expected closing tag '"+Q.tagName+"' (opened in line "+we.line+", col "+we.col+") instead of closing tag '"+O+"'.",q(m,k))}p.length==0&&(b=!0)}}else{let Q=C(X,f);if(Q!==!0)return D(Q.err.code,Q.err.msg,q(m,x-X.length+Q.err.line));if(b===!0)return D("InvalidXml","Multiple possible root nodes found.",q(m,x));f.unpairedTags.indexOf(O)!==-1||p.push({tagName:O,tagStartPos:k}),A=!0}for(x++;x<m.length;x++)if(m[x]==="<"){if(m[x+1]==="!"){x++,x=d(m,x);continue}if(m[x+1]!=="?")break;if(x=u(m,++x),x.err)return x}else if(m[x]==="&"){let Q=E(m,x);if(Q==-1)return D("InvalidChar","char '&' is not expected.",q(m,x));x=Q}else if(b===!0&&!c(m[x]))return D("InvalidXml","Extra text at the end",q(m,x));m[x]==="<"&&x--}}}return A?p.length==1?D("InvalidTag","Unclosed tag '"+p[0].tagName+"'.",q(m,p[0].tagStartPos)):!(p.length>0)||D("InvalidXml","Invalid '"+JSON.stringify(p.map(x=>x.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):D("InvalidXml","Start tag expected.",1)}function c(m){return m===" "||m==="	"||m===`
`||m==="\r"}function u(m,f){let p=f;for(;f<m.length;f++)if(!(m[f]!="?"&&m[f]!=" ")){let A=m.substr(p,f-p);if(f>5&&A==="xml")return D("InvalidXml","XML declaration allowed only at the start of the document.",q(m,f));if(m[f]=="?"&&m[f+1]==">"){f++;break}}return f}function d(m,f){if(m.length>f+5&&m[f+1]==="-"&&m[f+2]==="-"){for(f+=3;f<m.length;f++)if(m[f]==="-"&&m[f+1]==="-"&&m[f+2]===">"){f+=2;break}}else if(m.length>f+8&&m[f+1]==="D"&&m[f+2]==="O"&&m[f+3]==="C"&&m[f+4]==="T"&&m[f+5]==="Y"&&m[f+6]==="P"&&m[f+7]==="E"){let p=1;for(f+=8;f<m.length;f++)if(m[f]==="<")p++;else if(m[f]===">"&&(p--,p===0))break}else if(m.length>f+9&&m[f+1]==="["&&m[f+2]==="C"&&m[f+3]==="D"&&m[f+4]==="A"&&m[f+5]==="T"&&m[f+6]==="A"&&m[f+7]==="["){for(f+=8;f<m.length;f++)if(m[f]==="]"&&m[f+1]==="]"&&m[f+2]===">"){f+=2;break}}return f}let l='"',h="'";function g(m,f){let p="",A="",b=!1;for(;f<m.length;f++){if(m[f]===l||m[f]===h)A===""?A=m[f]:A!==m[f]||(A="");else if(m[f]===">"&&A===""){b=!0;break}p+=m[f]}return A===""&&{value:p,index:f,tagClosed:b}}let S=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function C(m,f){let p=o(m,S),A={};for(let b=0;b<p.length;b++){if(p[b][1].length===0)return D("InvalidAttr","Attribute '"+p[b][2]+"' has no space in starting.",z(p[b]));if(p[b][3]!==void 0&&p[b][4]===void 0)return D("InvalidAttr","Attribute '"+p[b][2]+"' is without value.",z(p[b]));if(p[b][3]===void 0&&!f.allowBooleanAttributes)return D("InvalidAttr","boolean attribute '"+p[b][2]+"' is not allowed.",z(p[b]));let x=p[b][2];if(!M(x))return D("InvalidAttr","Attribute '"+x+"' is an invalid name.",z(p[b]));if(A.hasOwnProperty(x))return D("InvalidAttr","Attribute '"+x+"' is repeated.",z(p[b]));A[x]=1}return!0}function E(m,f){if(m[++f]===";")return-1;if(m[f]==="#")return function(A,b){let x=/\d/;for(A[b]==="x"&&(b++,x=/[\da-fA-F]/);b<A.length;b++){if(A[b]===";")return b;if(!A[b].match(x))break}return-1}(m,++f);let p=0;for(;f<m.length;f++,p++)if(!(m[f].match(/\w/)&&p<20)){if(m[f]===";")break;return-1}return f}function D(m,f,p){return{err:{code:m,msg:f,line:p.line||p,col:p.col}}}function M(m){return s(m)}function q(m,f){let p=m.substring(0,f).split(/\r?\n/);return{line:p.length,col:p[p.length-1].length+1}}function z(m){return m.startIndex+m[1].length}let H={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(m,f){return f},attributeValueProcessor:function(m,f){return f},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(m,f,p){return m},captureMetaData:!1},oe;oe=typeof Symbol!="function"?"@@xmlMetadata":Symbol("XML Node Metadata");class Pe{constructor(f){this.tagname=f,this.child=[],this[":@"]={}}add(f,p){f==="__proto__"&&(f="#__proto__"),this.child.push({[f]:p})}addChild(f,p){f.tagname==="__proto__"&&(f.tagname="#__proto__"),f[":@"]&&Object.keys(f[":@"]).length>0?this.child.push({[f.tagname]:f.child,":@":f[":@"]}):this.child.push({[f.tagname]:f.child}),p!==void 0&&(this.child[this.child.length-1][oe]={startIndex:p})}static getMetaDataSymbol(){return oe}}class V{constructor(f){this.suppressValidationErr=!f}readDocType(f,p){let A={};if(f[p+3]!=="O"||f[p+4]!=="C"||f[p+5]!=="T"||f[p+6]!=="Y"||f[p+7]!=="P"||f[p+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{p+=9;let b=1,x=!1,k=!1,$="";for(;p<f.length;p++)if(f[p]!=="<"||k)if(f[p]===">"){if(k?f[p-1]==="-"&&f[p-2]==="-"&&(k=!1,b--):b--,b===0)break}else f[p]==="["?x=!0:$+=f[p];else{if(x&&j(f,"!ENTITY",p)){let O,K;p+=7,[O,K,p]=this.readEntityExp(f,p+1,this.suppressValidationErr),K.indexOf("&")===-1&&(A[O]={regx:RegExp(`&${O};`,"g"),val:K})}else if(x&&j(f,"!ELEMENT",p)){p+=8;let{index:O}=this.readElementExp(f,p+1);p=O}else if(x&&j(f,"!ATTLIST",p))p+=8;else if(x&&j(f,"!NOTATION",p)){p+=9;let{index:O}=this.readNotationExp(f,p+1,this.suppressValidationErr);p=O}else{if(!j(f,"!--",p))throw new Error("Invalid DOCTYPE");k=!0}b++,$=""}if(b!==0)throw new Error("Unclosed DOCTYPE")}return{entities:A,i:p}}readEntityExp(f,p){p=G(f,p);let A="";for(;p<f.length&&!/\s/.test(f[p])&&f[p]!=='"'&&f[p]!=="'";)A+=f[p],p++;if(_e(A),p=G(f,p),!this.suppressValidationErr){if(f.substring(p,p+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(f[p]==="%")throw new Error("Parameter entities are not supported")}let b="";return[p,b]=this.readIdentifierVal(f,p,"entity"),[A,b,--p]}readNotationExp(f,p){p=G(f,p);let A="";for(;p<f.length&&!/\s/.test(f[p]);)A+=f[p],p++;!this.suppressValidationErr&&_e(A),p=G(f,p);let b=f.substring(p,p+6).toUpperCase();if(!this.suppressValidationErr&&b!=="SYSTEM"&&b!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${b}"`);p+=b.length,p=G(f,p);let x=null,k=null;if(b==="PUBLIC")[p,x]=this.readIdentifierVal(f,p,"publicIdentifier"),f[p=G(f,p)]!=='"'&&f[p]!=="'"||([p,k]=this.readIdentifierVal(f,p,"systemIdentifier"));else if(b==="SYSTEM"&&([p,k]=this.readIdentifierVal(f,p,"systemIdentifier"),!this.suppressValidationErr&&!k))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:A,publicIdentifier:x,systemIdentifier:k,index:--p}}readIdentifierVal(f,p,A){let b="",x=f[p];if(x!=='"'&&x!=="'")throw new Error(`Expected quoted string, found "${x}"`);for(p++;p<f.length&&f[p]!==x;)b+=f[p],p++;if(f[p]!==x)throw new Error(`Unterminated ${A} value`);return[++p,b]}readElementExp(f,p){p=G(f,p);let A="";for(;p<f.length&&!/\s/.test(f[p]);)A+=f[p],p++;if(!this.suppressValidationErr&&!s(A))throw new Error(`Invalid element name: "${A}"`);let b="";if(f[p=G(f,p)]==="E"&&j(f,"MPTY",p))p+=4;else if(f[p]==="A"&&j(f,"NY",p))p+=2;else if(f[p]==="("){for(p++;p<f.length&&f[p]!==")";)b+=f[p],p++;if(f[p]!==")")throw new Error("Unterminated content model")}else if(!this.suppressValidationErr)throw new Error(`Invalid Element Expression, found "${f[p]}"`);return{elementName:A,contentModel:b.trim(),index:p}}readAttlistExp(f,p){p=G(f,p);let A="";for(;p<f.length&&!/\s/.test(f[p]);)A+=f[p],p++;_e(A),p=G(f,p);let b="";for(;p<f.length&&!/\s/.test(f[p]);)b+=f[p],p++;if(!_e(b))throw new Error(`Invalid attribute name: "${b}"`);p=G(f,p);let x="";if(f.substring(p,p+8).toUpperCase()==="NOTATION"){if(x="NOTATION",f[p=G(f,p+=8)]!=="(")throw new Error(`Expected '(', found "${f[p]}"`);p++;let $=[];for(;p<f.length&&f[p]!==")";){let O="";for(;p<f.length&&f[p]!=="|"&&f[p]!==")";)O+=f[p],p++;if(O=O.trim(),!_e(O))throw new Error(`Invalid notation name: "${O}"`);$.push(O),f[p]==="|"&&(p++,p=G(f,p))}if(f[p]!==")")throw new Error("Unterminated list of notations");p++,x+=" ("+$.join("|")+")"}else{for(;p<f.length&&!/\s/.test(f[p]);)x+=f[p],p++;let $=["CDATA","ID","IDREF","IDREFS","ENTITY","ENTITIES","NMTOKEN","NMTOKENS"];if(!this.suppressValidationErr&&!$.includes(x.toUpperCase()))throw new Error(`Invalid attribute type: "${x}"`)}p=G(f,p);let k="";return f.substring(p,p+8).toUpperCase()==="#REQUIRED"?(k="#REQUIRED",p+=8):f.substring(p,p+7).toUpperCase()==="#IMPLIED"?(k="#IMPLIED",p+=7):[p,k]=this.readIdentifierVal(f,p,"ATTLIST"),{elementName:A,attributeName:b,attributeType:x,defaultValue:k,index:p}}}let G=(m,f)=>{for(;f<m.length&&/\s/.test(m[f]);)f++;return f};function j(m,f,p){for(let A=0;A<f.length;A++)if(f[A]!==m[p+A+1])return!1;return!0}function _e(m){if(s(m))return m;throw new Error(`Invalid entity name ${m}`)}let Je=/^[-+]?0x[a-fA-F0-9]+$/,Qo=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,Np={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},di=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function uc(m){return typeof m=="function"?m:Array.isArray(m)?f=>{for(let p of m)if(typeof p=="string"&&f===p||p instanceof RegExp&&p.test(f))return!0}:()=>!1}class lc{constructor(f){if(this.options=f,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(p,A)=>mc(A,10,"&#")},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(p,A)=>mc(A,16,"&#x")}},this.addExternalEntities=kp,this.parseXml=Lp,this.parseTextData=$p,this.resolveNameSpace=dc,this.buildAttributesMap=ro,this.isItStopNode=Up,this.replaceEntitiesValue=fc,this.readStopNodeData=cn,this.saveTextToParentTag=Mp,this.addChild=ce,this.ignoreAttributesFn=uc(this.options.ignoreAttributes),this.options.stopNodes&&this.options.stopNodes.length>0){this.stopNodesExact=new Set,this.stopNodesWildcard=new Set;for(let p=0;p<this.options.stopNodes.length;p++){let A=this.options.stopNodes[p];typeof A=="string"&&(A.startsWith("*.")?this.stopNodesWildcard.add(A.substring(2)):this.stopNodesExact.add(A))}}}}function kp(m){let f=Object.keys(m);for(let p=0;p<f.length;p++){let A=f[p];this.lastEntities[A]={regex:new RegExp("&"+A+";","g"),val:m[A]}}}function $p(m,f,p,A,b,x,k){if(m!==void 0&&(this.options.trimValues&&!A&&(m=m.trim()),m.length>0)){k||(m=this.replaceEntitiesValue(m));let $=this.options.tagValueProcessor(f,m,p,b,x);return $==null?m:typeof $!=typeof m||$!==m?$:this.options.trimValues||m.trim()===m?pc(m,this.options.parseTagValue,this.options.numberParseOptions):m}}function dc(m){if(this.options.removeNSPrefix){let f=m.split(":"),p=m.charAt(0)==="/"?"/":"";if(f[0]==="xmlns")return"";f.length===2&&(m=p+f[1])}return m}let to=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function ro(m,f){if(this.options.ignoreAttributes!==!0&&typeof m=="string"){let p=o(m,to),A=p.length,b={};for(let x=0;x<A;x++){let k=this.resolveNameSpace(p[x][1]);if(this.ignoreAttributesFn(k,f))continue;let $=p[x][4],O=this.options.attributeNamePrefix+k;if(k.length)if(this.options.transformAttributeName&&(O=this.options.transformAttributeName(O)),O==="__proto__"&&(O="#__proto__"),$!==void 0){this.options.trimValues&&($=$.trim()),$=this.replaceEntitiesValue($);let K=this.options.attributeValueProcessor(k,$,f);b[O]=K==null?$:typeof K!=typeof $||K!==$?K:pc($,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(b[O]=!0)}if(!Object.keys(b).length)return;if(this.options.attributesGroupName){let x={};return x[this.options.attributesGroupName]=b,x}return b}}let Lp=function(m){m=m.replace(/\r\n?/g,`
`);let f=new Pe("!xml"),p=f,A="",b="",x=new V(this.options.processEntities);for(let k=0;k<m.length;k++)if(m[k]==="<")if(m[k+1]==="/"){let $=Ft(m,">",k,"Closing Tag is not closed."),O=m.substring(k+2,$).trim();if(this.options.removeNSPrefix){let Q=O.indexOf(":");Q!==-1&&(O=O.substr(Q+1))}this.options.transformTagName&&(O=this.options.transformTagName(O)),p&&(A=this.saveTextToParentTag(A,p,b));let K=b.substring(b.lastIndexOf(".")+1);if(O&&this.options.unpairedTags.indexOf(O)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${O}>`);let X=0;K&&this.options.unpairedTags.indexOf(K)!==-1?(X=b.lastIndexOf(".",b.lastIndexOf(".")-1),this.tagsNodeStack.pop()):X=b.lastIndexOf("."),b=b.substring(0,X),p=this.tagsNodeStack.pop(),A="",k=$}else if(m[k+1]==="?"){let $=fi(m,k,!1,"?>");if(!$)throw new Error("Pi Tag is not closed.");if(A=this.saveTextToParentTag(A,p,b),!(this.options.ignoreDeclaration&&$.tagName==="?xml"||this.options.ignorePiTags)){let O=new Pe($.tagName);O.add(this.options.textNodeName,""),$.tagName!==$.tagExp&&$.attrExpPresent&&(O[":@"]=this.buildAttributesMap($.tagExp,b)),this.addChild(p,O,b,k)}k=$.closeIndex+1}else if(m.substr(k+1,3)==="!--"){let $=Ft(m,"-->",k+4,"Comment is not closed.");if(this.options.commentPropName){let O=m.substring(k+4,$-2);A=this.saveTextToParentTag(A,p,b),p.add(this.options.commentPropName,[{[this.options.textNodeName]:O}])}k=$}else if(m.substr(k+1,2)==="!D"){let $=x.readDocType(m,k);this.docTypeEntities=$.entities,k=$.i}else if(m.substr(k+1,2)==="!["){let $=Ft(m,"]]>",k,"CDATA is not closed.")-2,O=m.substring(k+9,$);A=this.saveTextToParentTag(A,p,b);let K=this.parseTextData(O,p.tagname,b,!0,!1,!0,!0);K==null&&(K=""),this.options.cdataPropName?p.add(this.options.cdataPropName,[{[this.options.textNodeName]:O}]):p.add(this.options.textNodeName,K),k=$+2}else{let $=fi(m,k,this.options.removeNSPrefix),O=$.tagName,K=$.rawTagName,X=$.tagExp,Q=$.attrExpPresent,we=$.closeIndex;if(this.options.transformTagName){let Re=this.options.transformTagName(O);X===O&&(X=Re),O=Re}p&&A&&p.tagname!=="!xml"&&(A=this.saveTextToParentTag(A,p,b,!1));let De=p;De&&this.options.unpairedTags.indexOf(De.tagname)!==-1&&(p=this.tagsNodeStack.pop(),b=b.substring(0,b.lastIndexOf("."))),O!==f.tagname&&(b+=b?"."+O:O);let Ue=k;if(this.isItStopNode(this.stopNodesExact,this.stopNodesWildcard,b,O)){let Re="";if(X.length>0&&X.lastIndexOf("/")===X.length-1)O[O.length-1]==="/"?(O=O.substr(0,O.length-1),b=b.substr(0,b.length-1),X=O):X=X.substr(0,X.length-1),k=$.closeIndex;else if(this.options.unpairedTags.indexOf(O)!==-1)k=$.closeIndex;else{let qt=this.readStopNodeData(m,K,we+1);if(!qt)throw new Error(`Unexpected end of ${K}`);k=qt.i,Re=qt.tagContent}let Ot=new Pe(O);O!==X&&Q&&(Ot[":@"]=this.buildAttributesMap(X,b)),Re&&(Re=this.parseTextData(Re,O,b,!0,Q,!0,!0)),b=b.substr(0,b.lastIndexOf(".")),Ot.add(this.options.textNodeName,Re),this.addChild(p,Ot,b,Ue)}else{if(X.length>0&&X.lastIndexOf("/")===X.length-1){if(O[O.length-1]==="/"?(O=O.substr(0,O.length-1),b=b.substr(0,b.length-1),X=O):X=X.substr(0,X.length-1),this.options.transformTagName){let Ot=this.options.transformTagName(O);X===O&&(X=Ot),O=Ot}let Re=new Pe(O);O!==X&&Q&&(Re[":@"]=this.buildAttributesMap(X,b)),this.addChild(p,Re,b,Ue),b=b.substr(0,b.lastIndexOf("."))}else{let Re=new Pe(O);this.tagsNodeStack.push(p),O!==X&&Q&&(Re[":@"]=this.buildAttributesMap(X,b)),this.addChild(p,Re,b,Ue),p=Re}A="",k=we}}else A+=m[k];return f.child};function ce(m,f,p,A){this.options.captureMetaData||(A=void 0);let b=this.options.updateTag(f.tagname,p,f[":@"]);b===!1||(typeof b=="string"&&(f.tagname=b),m.addChild(f,A))}let fc=function(m){if(this.options.processEntities){for(let f in this.docTypeEntities){let p=this.docTypeEntities[f];m=m.replace(p.regx,p.val)}for(let f in this.lastEntities){let p=this.lastEntities[f];m=m.replace(p.regex,p.val)}if(this.options.htmlEntities)for(let f in this.htmlEntities){let p=this.htmlEntities[f];m=m.replace(p.regex,p.val)}m=m.replace(this.ampEntity.regex,this.ampEntity.val)}return m};function Mp(m,f,p,A){return m&&(A===void 0&&(A=f.child.length===0),(m=this.parseTextData(m,f.tagname,p,!1,!!f[":@"]&&Object.keys(f[":@"]).length!==0,A))!==void 0&&m!==""&&f.add(this.options.textNodeName,m),m=""),m}function Up(m,f,p,A){return!(!f||!f.has(A))||!(!m||!m.has(p))}function Ft(m,f,p,A){let b=m.indexOf(f,p);if(b===-1)throw new Error(A);return b+f.length-1}function fi(m,f,p,A=">"){let b=function(Q,we,De=">"){let Ue,Re="";for(let Ot=we;Ot<Q.length;Ot++){let qt=Q[Ot];if(Ue)qt===Ue&&(Ue="");else if(qt==='"'||qt==="'")Ue=qt;else if(qt===De[0]){if(!De[1])return{data:Re,index:Ot};if(Q[Ot+1]===De[1])return{data:Re,index:Ot}}else qt==="	"&&(qt=" ");Re+=qt}}(m,f+1,A);if(!b)return;let x=b.data,k=b.index,$=x.search(/\s/),O=x,K=!0;$!==-1&&(O=x.substring(0,$),x=x.substring($+1).trimStart());let X=O;if(p){let Q=O.indexOf(":");Q!==-1&&(O=O.substr(Q+1),K=O!==b.data.substr(Q+1))}return{tagName:O,tagExp:x,closeIndex:k,attrExpPresent:K,rawTagName:X}}function cn(m,f,p){let A=p,b=1;for(;p<m.length;p++)if(m[p]==="<")if(m[p+1]==="/"){let x=Ft(m,">",p,`${f} is not closed`);if(m.substring(p+2,x).trim()===f&&(b--,b===0))return{tagContent:m.substring(A,p),i:x};p=x}else if(m[p+1]==="?")p=Ft(m,"?>",p+1,"StopNode is not closed.");else if(m.substr(p+1,3)==="!--")p=Ft(m,"-->",p+3,"StopNode is not closed.");else if(m.substr(p+1,2)==="![")p=Ft(m,"]]>",p,"StopNode is not closed.")-2;else{let x=fi(m,p,">");x&&((x&&x.tagName)===f&&x.tagExp[x.tagExp.length-1]!=="/"&&b++,p=x.closeIndex)}}function pc(m,f,p){if(f&&typeof m=="string"){let A=m.trim();return A==="true"||A!=="false"&&function(b,x={}){if(x=Object.assign({},Np,x),!b||typeof b!="string")return b;let k=b.trim();if(x.skipLike!==void 0&&x.skipLike.test(k))return b;if(b==="0")return 0;if(x.hex&&Je.test(k))return function(O){if(parseInt)return parseInt(O,16);if(Number.parseInt)return Number.parseInt(O,16);if(window&&window.parseInt)return window.parseInt(O,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}(k);if(k.search(/.+[eE].+/)!==-1)return function(O,K,X){if(!X.eNotation)return O;let Q=K.match(di);if(Q){let we=Q[1]||"",De=Q[3].indexOf("e")===-1?"E":"e",Ue=Q[2],Re=we?O[Ue.length+1]===De:O[Ue.length]===De;return Ue.length>1&&Re?O:Ue.length!==1||!Q[3].startsWith(`.${De}`)&&Q[3][0]!==De?X.leadingZeros&&!Re?(K=(Q[1]||"")+Q[3],Number(K)):O:Number(K)}return O}(b,k,x);{let O=Qo.exec(k);if(O){let K=O[1]||"",X=O[2],Q=(($=O[3])&&$.indexOf(".")!==-1&&(($=$.replace(/0+$/,""))==="."?$="0":$[0]==="."?$="0"+$:$[$.length-1]==="."&&($=$.substring(0,$.length-1))),$),we=K?b[X.length+1]===".":b[X.length]===".";if(!x.leadingZeros&&(X.length>1||X.length===1&&!we))return b;{let De=Number(k),Ue=String(De);if(De===0||De===-0)return De;if(Ue.search(/[eE]/)!==-1)return x.eNotation?De:b;if(k.indexOf(".")!==-1)return Ue==="0"||Ue===Q||Ue===`${K}${Q}`?De:b;let Re=X?Q:k;return X?Re===Ue||K+Re===Ue?De:b:Re===Ue||Re===K+Ue?De:b}}return b}var $}(m,p)}return m!==void 0?m:""}function mc(m,f,p){let A=Number.parseInt(m,f);return A>=0&&A<=1114111?String.fromCodePoint(A):p+m+";"}let It=Pe.getMetaDataSymbol();function Fp(m,f){return P(m,f)}function P(m,f,p){let A,b={};for(let x=0;x<m.length;x++){let k=m[x],$=I(k),O="";if(O=p===void 0?$:p+"."+$,$===f.textNodeName)A===void 0?A=k[$]:A+=""+k[$];else{if($===void 0)continue;if(k[$]){let K=P(k[$],f,O),X=L(K,f);k[It]!==void 0&&(K[It]=k[It]),k[":@"]?F(K,k[":@"],O,f):Object.keys(K).length!==1||K[f.textNodeName]===void 0||f.alwaysCreateTextNode?Object.keys(K).length===0&&(f.alwaysCreateTextNode?K[f.textNodeName]="":K=""):K=K[f.textNodeName],b[$]!==void 0&&b.hasOwnProperty($)?(Array.isArray(b[$])||(b[$]=[b[$]]),b[$].push(K)):f.isArray($,O,X)?b[$]=[K]:b[$]=K}}}return typeof A=="string"?A.length>0&&(b[f.textNodeName]=A):A!==void 0&&(b[f.textNodeName]=A),b}function I(m){let f=Object.keys(m);for(let p=0;p<f.length;p++){let A=f[p];if(A!==":@")return A}}function F(m,f,p,A){if(f){let b=Object.keys(f),x=b.length;for(let k=0;k<x;k++){let $=b[k];A.isArray($,p+"."+$,!0,!0)?m[$]=[f[$]]:m[$]=f[$]}}}function L(m,f){let{textNodeName:p}=f,A=Object.keys(m).length;return A===0||!(A!==1||!m[p]&&typeof m[p]!="boolean"&&m[p]!==0)}class v{constructor(f){this.externalEntities={},this.options=function(p){return Object.assign({},H,p)}(f)}parse(f,p){if(typeof f!="string"&&f.toString)f=f.toString();else if(typeof f!="string")throw new Error("XML data is accepted in String or Bytes[] form.");if(p){p===!0&&(p={});let x=a(f,p);if(x!==!0)throw Error(`${x.err.msg}:${x.err.line}:${x.err.col}`)}let A=new lc(this.options);A.addExternalEntities(this.externalEntities);let b=A.parseXml(f);return this.options.preserveOrder||b===void 0?b:Fp(b,this.options)}addEntity(f,p){if(p.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(f.indexOf("&")!==-1||f.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(p==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[f]=p}static getMetaDataSymbol(){return Pe.getMetaDataSymbol()}}function W(m,f){let p="";return f.format&&f.indentBy.length>0&&(p=`
`),B(m,f,"",p)}function B(m,f,p,A){let b="",x=!1;for(let k=0;k<m.length;k++){let $=m[k],O=J($);if(O===void 0)continue;let K="";if(K=p.length===0?O:`${p}.${O}`,O===f.textNodeName){let De=$[O];Ze(K,f)||(De=f.tagValueProcessor(O,De),De=VS(De,f)),x&&(b+=A),b+=De,x=!1;continue}if(O===f.cdataPropName){x&&(b+=A),b+=`<![CDATA[${$[O][0][f.textNodeName]}]]>`,x=!1;continue}if(O===f.commentPropName){b+=A+`<!--${$[O][0][f.textNodeName]}-->`,x=!0;continue}if(O[0]==="?"){let De=Ge($[":@"],f),Ue=O==="?xml"?"":A,Re=$[O][0][f.textNodeName];Re=Re.length!==0?" "+Re:"",b+=Ue+`<${O}${Re}${De}?>`,x=!0;continue}let X=A;X!==""&&(X+=f.indentBy);let Q=A+`<${O}${Ge($[":@"],f)}`,we=B($[O],f,K,X);f.unpairedTags.indexOf(O)!==-1?f.suppressUnpairedNode?b+=Q+">":b+=Q+"/>":we&&we.length!==0||!f.suppressEmptyNode?we&&we.endsWith(">")?b+=Q+`>${we}${A}</${O}>`:(b+=Q+">",we&&A!==""&&(we.includes("/>")||we.includes("</"))?b+=A+f.indentBy+we+A:b+=we,b+=`</${O}>`):b+=Q+"/>",x=!0}return b}function J(m){let f=Object.keys(m);for(let p=0;p<f.length;p++){let A=f[p];if(m.hasOwnProperty(A)&&A!==":@")return A}}function Ge(m,f){let p="";if(m&&!f.ignoreAttributes)for(let A in m){if(!m.hasOwnProperty(A))continue;let b=f.attributeValueProcessor(A,m[A]);b=VS(b,f),b===!0&&f.suppressBooleanAttributes?p+=` ${A.substr(f.attributeNamePrefix.length)}`:p+=` ${A.substr(f.attributeNamePrefix.length)}="${b}"`}return p}function Ze(m,f){let p=(m=m.substr(0,m.length-f.textNodeName.length-1)).substr(m.lastIndexOf(".")+1);for(let A in f.stopNodes)if(f.stopNodes[A]===m||f.stopNodes[A]==="*."+p)return!0;return!1}function VS(m,f){if(m&&m.length>0&&f.processEntities)for(let p=0;p<f.entities.length;p++){let A=f.entities[p];m=m.replace(A.regex,A.val)}return m}let wU={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(m,f){return f},attributeValueProcessor:function(m,f){return f},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function un(m){this.options=Object.assign({},wU,m),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=uc(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=CU),this.processTextOrObjNode=PU,this.options.format?(this.indentate=RU,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function PU(m,f,p,A){let b=this.j2x(m,p+1,A.concat(f));return m[this.options.textNodeName]!==void 0&&Object.keys(m).length===1?this.buildTextValNode(m[this.options.textNodeName],f,b.attrStr,p):this.buildObjectNode(b.val,f,b.attrStr,p)}function RU(m){return this.options.indentBy.repeat(m)}function CU(m){return!(!m.startsWith(this.options.attributeNamePrefix)||m===this.options.textNodeName)&&m.substr(this.attrPrefixLen)}un.prototype.build=function(m){return this.options.preserveOrder?W(m,this.options):(Array.isArray(m)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(m={[this.options.arrayNodeName]:m}),this.j2x(m,0,[]).val)},un.prototype.j2x=function(m,f,p){let A="",b="",x=p.join(".");for(let k in m)if(Object.prototype.hasOwnProperty.call(m,k))if(m[k]===void 0)this.isAttribute(k)&&(b+="");else if(m[k]===null)this.isAttribute(k)||k===this.options.cdataPropName?b+="":k[0]==="?"?b+=this.indentate(f)+"<"+k+"?"+this.tagEndChar:b+=this.indentate(f)+"<"+k+"/"+this.tagEndChar;else if(m[k]instanceof Date)b+=this.buildTextValNode(m[k],k,"",f);else if(typeof m[k]!="object"){let $=this.isAttribute(k);if($&&!this.ignoreAttributesFn($,x))A+=this.buildAttrPairStr($,""+m[k]);else if(!$)if(k===this.options.textNodeName){let O=this.options.tagValueProcessor(k,""+m[k]);b+=this.replaceEntitiesValue(O)}else b+=this.buildTextValNode(m[k],k,"",f)}else if(Array.isArray(m[k])){let $=m[k].length,O="",K="";for(let X=0;X<$;X++){let Q=m[k][X];if(Q!==void 0)if(Q===null)k[0]==="?"?b+=this.indentate(f)+"<"+k+"?"+this.tagEndChar:b+=this.indentate(f)+"<"+k+"/"+this.tagEndChar;else if(typeof Q=="object")if(this.options.oneListGroup){let we=this.j2x(Q,f+1,p.concat(k));O+=we.val,this.options.attributesGroupName&&Q.hasOwnProperty(this.options.attributesGroupName)&&(K+=we.attrStr)}else O+=this.processTextOrObjNode(Q,k,f,p);else if(this.options.oneListGroup){let we=this.options.tagValueProcessor(k,Q);we=this.replaceEntitiesValue(we),O+=we}else O+=this.buildTextValNode(Q,k,"",f)}this.options.oneListGroup&&(O=this.buildObjectNode(O,k,K,f)),b+=O}else if(this.options.attributesGroupName&&k===this.options.attributesGroupName){let $=Object.keys(m[k]),O=$.length;for(let K=0;K<O;K++)A+=this.buildAttrPairStr($[K],""+m[k][$[K]])}else b+=this.processTextOrObjNode(m[k],k,f,p);return{attrStr:A,val:b}},un.prototype.buildAttrPairStr=function(m,f){return f=this.options.attributeValueProcessor(m,""+f),f=this.replaceEntitiesValue(f),this.options.suppressBooleanAttributes&&f==="true"?" "+m:" "+m+'="'+f+'"'},un.prototype.buildObjectNode=function(m,f,p,A){if(m==="")return f[0]==="?"?this.indentate(A)+"<"+f+p+"?"+this.tagEndChar:this.indentate(A)+"<"+f+p+this.closeTag(f)+this.tagEndChar;{let b="</"+f+this.tagEndChar,x="";return f[0]==="?"&&(x="?",b=""),!p&&p!==""||m.indexOf("<")!==-1?this.options.commentPropName!==!1&&f===this.options.commentPropName&&x.length===0?this.indentate(A)+`<!--${m}-->`+this.newLine:this.indentate(A)+"<"+f+p+x+this.tagEndChar+m+this.indentate(A)+b:this.indentate(A)+"<"+f+p+x+">"+m+b}},un.prototype.closeTag=function(m){let f="";return this.options.unpairedTags.indexOf(m)!==-1?this.options.suppressUnpairedNode||(f="/"):f=this.options.suppressEmptyNode?"/":`></${m}`,f},un.prototype.buildTextValNode=function(m,f,p,A){if(this.options.cdataPropName!==!1&&f===this.options.cdataPropName)return this.indentate(A)+`<![CDATA[${m}]]>`+this.newLine;if(this.options.commentPropName!==!1&&f===this.options.commentPropName)return this.indentate(A)+`<!--${m}-->`+this.newLine;if(f[0]==="?")return this.indentate(A)+"<"+f+p+"?"+this.tagEndChar;{let b=this.options.tagValueProcessor(f,m);return b=this.replaceEntitiesValue(b),b===""?this.indentate(A)+"<"+f+p+this.closeTag(f)+this.tagEndChar:this.indentate(A)+"<"+f+p+">"+b+"</"+f+this.tagEndChar}},un.prototype.replaceEntitiesValue=function(m){if(m&&m.length>0&&this.options.processEntities)for(let f=0;f<this.options.entities.length;f++){let p=this.options.entities[f];m=m.replace(p.regex,p.val)}return m};let AU={validate:a};P0.exports=t})()});var C0=N(Zg=>{"use strict";Object.defineProperty(Zg,"__esModule",{value:!0});Zg.parseXML=ZV;var JV=R0(),Jg=new JV.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>t.trim()===""&&t.includes(`
`)?"":void 0});Jg.addEntity("#xD","\r");Jg.addEntity("#10",`
`);function ZV(e){return Jg.parse(e,!0)}});var Zu=N(Ju=>{"use strict";var eG=C0();function tG(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function rG(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var Qu=class{value;constructor(t){this.value=t}toString(){return rG(""+this.value)}},ey=class e{name;children;attributes={};static of(t,r,n){let o=new e(t);return r!==void 0&&o.addChildNode(new Qu(r)),n!==void 0&&o.withName(n),o}constructor(t,r=[]){this.name=t,this.children=r}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let o=e.of(r,t[r]).withName(n);this.c(o)}}l(t,r,n,o){t[r]!=null&&o().map(i=>{i.withName(n),this.c(i)})}lc(t,r,n,o){if(t[r]!=null){let s=o(),i=new e(n);s.map(a=>{i.c(a)}),this.c(i)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let o of Object.keys(n)){let s=n[o];s!=null&&(r+=` ${o}="${tG(""+s)}"`)}return r+=t?`>${this.children.map(o=>o.toString()).join("")}</${this.name}>`:"/>"}};Object.defineProperty(Ju,"parseXML",{enumerable:!0,get:function(){return eG.parseXML}});Ju.XmlNode=ey;Ju.XmlText=Qu});var A0,T0,v0,xn,el=R(()=>{A0=T(Zu());Ct();Te();T0=T(Ee()),v0=T(We());Cn();Wg();xn=class extends ut{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new yo(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let o=Z.of(t),s=o.getMemberSchemas();if(o.isStructSchema()&&o.isMemberSchema()&&!!Object.values(s).find(u=>!!u.getMemberTraits().eventPayload)){let u={},d=Object.keys(s)[0];return s[d].isBlobSchema()?u[d]=r:u[d]=this.read(s[d],r),u}let a=(this.serdeContext?.utf8Encoder??v0.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=Z.of(t);if(n.isUnitSchema())return;let o=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let s=!!o.sparse,i=!!o.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),u=[],d=c.getMergedTraits().xmlName??"member",l=i?r:(r[0]??r)[d],h=Array.isArray(l)?l:[l];for(let g of h)(g!=null||s)&&u.push(this.readSchema(c,g));return u}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),u=n.getValueSchema(),d;i?d=Array.isArray(r)?r:[r]:d=Array.isArray(r.entry)?r.entry:[r.entry];let l=c.getMergedTraits().xmlName??"key",h=u.getMergedTraits().xmlName??"value";for(let g of d){let S=g[l],C=g[h];(C!=null||s)&&(a[S]=this.readSchema(u,C))}return a}if(n.isStructSchema()){let c=n.isUnionSchema(),u;c&&(u=new Ps(r,a));for(let[d,l]of n.structIterator()){let h=l.getMergedTraits(),g=h.httpPayload?h.xmlName??l.getName():l.getMemberTraits().xmlName??d;c&&u.mark(g),r[g]!=null&&(a[d]=this.readSchema(l,r[g]))}return c&&u.writeUnknown(),a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r;try{r=(0,A0.parseXML)(t)}catch(i){throw i&&typeof i=="object"&&Object.defineProperty(i,"$responseBodyText",{value:t}),i}let n="#text",o=Object.keys(r)[0],s=r[o];return s[n]&&(s[o]=s[n],delete s[n]),(0,T0.getValueFromTextNode)(s)}return{}}}});var x0,I0,tl,O0=R(()=>{Ct();Te();Et();x0=T(Ee()),I0=T(je());Cn();tl=class extends ut{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let o=Z.of(t);if(n&&!n.endsWith(".")&&(n+="."),o.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??I0.toBase64)(r)));else if(o.isBooleanSchema()||o.isNumericSchema()||o.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):o.isIdempotencyToken()&&(this.writeKey(n),this.writeValue((0,Bt.v4)()));else if(o.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(o.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof Le?r.string:String(r)));else if(o.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),Nt(o,this.settings)){case 5:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,x0.dateToUtcString)(r));break;case 7:this.writeValue(String(r.getTime()/1e3));break}}else if(o.isDocumentSchema())Array.isArray(r)?this.write(79,r,n):r instanceof Date?this.write(4,r,n):r instanceof Uint8Array?this.write(21,r,n):r&&typeof r=="object"?this.write(143,r,n):(this.writeKey(n),this.writeValue(String(r)));else if(o.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let s=o.getValueSchema(),i=this.settings.flattenLists||o.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let u=this.getKey("member",s.getMergedTraits().xmlName),d=i?`${n}${a}`:`${n}${u}.${a}`;this.write(s,c,d),++a}}}else if(o.isMapSchema()){if(r&&typeof r=="object"){let s=o.getKeySchema(),i=o.getValueSchema(),a=o.getMergedTraits().xmlFlattened,c=1;for(let[u,d]of Object.entries(r)){if(d==null)continue;let l=this.getKey("key",s.getMergedTraits().xmlName),h=a?`${n}${c}.${l}`:`${n}entry.${c}.${l}`,g=this.getKey("value",i.getMergedTraits().xmlName),S=a?`${n}${c}.${g}`:`${n}entry.${c}.${g}`;this.write(s,u,h),this.write(i,d,S),++c}}}else if(o.isStructSchema()){if(r&&typeof r=="object"){let s=!1;for(let[i,a]of o.structIterator()){if(r[i]==null&&!a.isIdempotencyToken())continue;let c=this.getKey(i,a.getMergedTraits().xmlName),u=`${n}${c}`;this.write(a,r[i],u),s=!0}if(!s&&o.isUnionSchema()){let{$unknown:i}=r;if(Array.isArray(i)){let[a,c]=i,u=`${n}${a}`;this.write(15,c,u)}}}}else if(!o.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${o.getName(!0)}`)}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${dr(t)}=`}writeValue(t){this.buffer+=dr(t)}}});var In,ty=R(()=>{Ct();Te();ws();el();O0();In=class extends Fr{options;serializer;deserializer;mixin=new Gt;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new tl(r),this.deserializer=new xn(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":"application/x-www-form-urlencoded"}),(Zt(t.input)==="unit"||!o.body)&&(o.body="");let s=t.name.split("#")[1]??t.name;return o.body=`Action=${s}&Version=${this.options.version}`+o.body,o.body.endsWith("&")&&(o.body=o.body.slice(-1)),o}async deserializeResponse(t,r,n){let o=this.deserializer,s=Z.of(t.output),i={};if(n.statusCode>=300){let l=await Ht(n.body,r);l.byteLength>0&&Object.assign(i,await o.read(15,l)),await this.handleError(t,r,n,i,this.deserializeMetadata(n))}for(let l in n.headers){let h=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=h}let a=t.name.split("#")[1]??t.name,c=s.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,u=await Ht(n.body,r);return u.byteLength>0&&Object.assign(i,await o.read(s,u,c)),{$metadata:this.deserializeMetadata(n),...i}}useNestedResult(){return!0}async handleError(t,r,n,o,s){let i=this.loadQueryErrorCode(n,o)??"Unknown",a=this.loadQueryError(o),c=this.loadQueryErrorMessage(o);a.message=c,a.Error={Type:a.Type,Code:a.Code,Message:c};let{errorSchema:u,errorMetadata:d}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,a,s,this.mixin.findQueryCompatibleError),l=Z.of(u),h=ae.for(u[1]).getErrorCtor(u)??Error,g=new h(c),S={Type:a.Error.Type,Code:a.Error.Code,Error:a.Error};for(let[C,E]of l.structIterator()){let D=E.getMergedTraits().xmlName??C,M=a[D]??o[D];S[C]=this.deserializer.readSchema(E,M)}throw this.mixin.decorateServiceException(Object.assign(g,d,{$fault:l.getMergedTraits().error,message:c},S),o)}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var rl,D0=R(()=>{ty();rl=class extends In{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var N0,k0,ry,$0,nl,ny=R(()=>{N0=T(Zu()),k0=T(Ee());Kg();ry=(e,t)=>Gu(e,t).then(r=>{if(r.length){let n;try{n=(0,N0.parseXML)(r)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:r}),a}let o="#text",s=Object.keys(n)[0],i=n[s];return i[o]&&(i[s]=i[o],delete i[o]),(0,k0.getValueFromTextNode)(i)}return{}}),$0=async(e,t)=>{let r=await ry(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},nl=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var bt,oy,ol,Ts,sy=R(()=>{bt=T(Zu());Ct();Te();Et();oy=T(Ee()),ol=T(je());Cn();Ts=class extends ut{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=Z.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??ol.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let o=n.getMergedTraits();o.httpPayload&&!o.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let o=t.getMergedTraits(),s=t.isMemberSchema()&&!o.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():o.xmlName??t.getName();if(!s||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=bt.XmlNode.of(s),[a,c]=this.getXmlnsAttribute(t,n);for(let[d,l]of t.structIterator()){let h=r[d];if(h!=null||l.isIdempotencyToken()){if(l.getMergedTraits().xmlAttribute){i.addAttribute(l.getMergedTraits().xmlName??d,this.writeSimple(l,h));continue}if(l.isListSchema())this.writeList(l,h,i,c);else if(l.isMapSchema())this.writeMap(l,h,i,c);else if(l.isStructSchema())i.addChildNode(this.writeStruct(l,h,c));else{let g=bt.XmlNode.of(l.getMergedTraits().xmlName??l.getMemberName());this.writeSimpleInto(l,h,g,c),i.addChildNode(g)}}}let{$unknown:u}=r;if(u&&t.isUnionSchema()&&Array.isArray(u)&&Object.keys(r).length===1){let[d,l]=u,h=bt.XmlNode.of(d);if(typeof l!="string")if(r instanceof bt.XmlNode||r instanceof bt.XmlText)i.addChildNode(r);else throw new Error("@aws-sdk - $unknown union member in XML requires value of type string, @aws-sdk/xml-builder::XmlNode or XmlText.");this.writeSimpleInto(0,l,h,c),i.addChildNode(h)}return c&&i.addAttribute(a,c),i}writeList(t,r,n,o){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let s=t.getMergedTraits(),i=t.getValueSchema(),a=i.getMergedTraits(),c=!!a.sparse,u=!!s.xmlFlattened,[d,l]=this.getXmlnsAttribute(t,o),h=(g,S)=>{if(i.isListSchema())this.writeList(i,Array.isArray(S)?S:[S],g,l);else if(i.isMapSchema())this.writeMap(i,S,g,l);else if(i.isStructSchema()){let C=this.writeStruct(i,S,l);g.addChildNode(C.withName(u?s.xmlName??t.getMemberName():a.xmlName??"member"))}else{let C=bt.XmlNode.of(u?s.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,S,C,l),g.addChildNode(C)}};if(u)for(let g of r)(c||g!=null)&&h(n,g);else{let g=bt.XmlNode.of(s.xmlName??t.getMemberName());l&&g.addAttribute(d,l);for(let S of r)(c||S!=null)&&h(g,S);n.addChildNode(g)}}writeMap(t,r,n,o,s=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),a=t.getKeySchema(),u=a.getMergedTraits().xmlName??"key",d=t.getValueSchema(),l=d.getMergedTraits(),h=l.xmlName??"value",g=!!l.sparse,S=!!i.xmlFlattened,[C,E]=this.getXmlnsAttribute(t,o),D=(M,q,z)=>{let H=bt.XmlNode.of(u,q),[oe,Pe]=this.getXmlnsAttribute(a,E);Pe&&H.addAttribute(oe,Pe),M.addChildNode(H);let V=bt.XmlNode.of(h);d.isListSchema()?this.writeList(d,z,V,E):d.isMapSchema()?this.writeMap(d,z,V,E,!0):d.isStructSchema()?V=this.writeStruct(d,z,E):this.writeSimpleInto(d,z,V,E),M.addChildNode(V)};if(S){for(let[M,q]of Object.entries(r))if(g||q!=null){let z=bt.XmlNode.of(i.xmlName??t.getMemberName());D(z,M,q),n.addChildNode(z)}}else{let M;s||(M=bt.XmlNode.of(i.xmlName??t.getMemberName()),E&&M.addAttribute(C,E),n.addChildNode(M));for(let[q,z]of Object.entries(r))if(g||z!=null){let H=bt.XmlNode.of("entry");D(H,q,z),(s?n:M).addChildNode(H)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=Z.of(t),o=null;if(r&&typeof r=="object")if(n.isBlobSchema())o=(this.serdeContext?.base64Encoder??ol.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date)switch(Nt(n,this.settings)){case 5:o=r.toISOString().replace(".000Z","Z");break;case 6:o=(0,oy.dateToUtcString)(r);break;case 7:o=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),o=(0,oy.dateToUtcString)(r);break}else{if(n.isBigDecimalSchema()&&r)return r instanceof Le?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(o=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?o=(0,Bt.v4)():o=String(r)),o===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return o}writeSimpleInto(t,r,n,o){let s=this.writeSimple(t,r),i=Z.of(t),a=new bt.XmlText(s),[c,u]=this.getXmlnsAttribute(i,o);u&&n.addAttribute(c,u),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[o,s]=n.xmlNamespace??[];return s&&s!==r?[o?`xmlns:${o}`:"xmlns",s]:[void 0,void 0]}}});var vs,iy=R(()=>{Cn();el();sy();vs=class extends ut{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Ts(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new xn(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var sl,L0=R(()=>{Ct();Te();ws();ny();iy();sl=class extends go{codec;serializer;deserializer;mixin=new Gt;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new vs(r),this.serializer=new So(this.codec.createSerializer(),r),this.deserializer=new Eo(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=Z.of(t.input);if(!o.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),s);i&&(o.headers["content-type"]=i)}return typeof o.body=="string"&&o.headers["content-type"]===this.getDefaultContentType()&&!o.body.startsWith("<?xml ")&&!this.hasUnstructuredPayloadBinding(s)&&(o.body='<?xml version="1.0" encoding="UTF-8"?>'+o.body),o}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,o,s){let i=nl(n,o)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,o,s),u=Z.of(a),d=o.Error?.message??o.Error?.Message??o.message??o.Message??"Unknown",l=ae.for(a[1]).getErrorCtor(a)??Error,h=new l(d);await this.deserializeHttpMessage(a,r,n,o);let g={};for(let[S,C]of u.structIterator()){let E=C.getMergedTraits().xmlName??S,D=o.Error?.[E]??o[E];g[S]=this.codec.createDeserializer().readSchema(C,D)}throw this.mixin.decorateServiceException(Object.assign(h,c,{$fault:u.getMergedTraits().error,message:d},g),o)}getDefaultContentType(){return"application/xml"}hasUnstructuredPayloadBinding(t){for(let[,r]of t.structIterator())if(r.getMergedTraits().httpPayload)return!(r.isStructSchema()||r.isMapSchema()||r.isListSchema());return!1}}});var ay={};ot(ay,{AwsEc2QueryProtocol:()=>rl,AwsJson1_0Protocol:()=>Yu,AwsJson1_1Protocol:()=>Xu,AwsJsonRpcProtocol:()=>Tn,AwsQueryProtocol:()=>In,AwsRestJsonProtocol:()=>vn,AwsRestXmlProtocol:()=>sl,AwsSmithyRpcV2CborProtocol:()=>Vu,JsonCodec:()=>An,JsonShapeDeserializer:()=>Cs,JsonShapeSerializer:()=>As,XmlCodec:()=>vs,XmlShapeDeserializer:()=>xn,XmlShapeSerializer:()=>Ts,_toBool:()=>i0,_toNum:()=>a0,_toStr:()=>s0,awsExpectUnion:()=>b0,loadRestJsonErrorCode:()=>Rs,loadRestXmlErrorCode:()=>nl,parseJsonBody:()=>Gi,parseJsonErrorBody:()=>p0,parseXmlBody:()=>ry,parseXmlErrorBody:()=>$0});var Ro=R(()=>{o0();c0();y0();E0();Ku();S0();Wu();Yg();Qg();w0();zi();D0();ty();L0();iy();el();sy();ny()});var On={};ot(On,{AWSSDKSigV4Signer:()=>eg,AwsEc2QueryProtocol:()=>rl,AwsJson1_0Protocol:()=>Yu,AwsJson1_1Protocol:()=>Xu,AwsJsonRpcProtocol:()=>Tn,AwsQueryProtocol:()=>In,AwsRestJsonProtocol:()=>vn,AwsRestXmlProtocol:()=>sl,AwsSdkSigV4ASigner:()=>qi,AwsSdkSigV4Signer:()=>at,AwsSmithyRpcV2CborProtocol:()=>Vu,JsonCodec:()=>An,JsonShapeDeserializer:()=>Cs,JsonShapeSerializer:()=>As,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>En,NODE_SIGV4A_CONFIG_OPTIONS:()=>tC,XmlCodec:()=>vs,XmlShapeDeserializer:()=>xn,XmlShapeSerializer:()=>Ts,_toBool:()=>i0,_toNum:()=>a0,_toStr:()=>s0,awsExpectUnion:()=>b0,emitWarningIfUnsupportedVersion:()=>gn,getBearerTokenEnvKey:()=>Au,loadRestJsonErrorCode:()=>Rs,loadRestXmlErrorCode:()=>nl,parseJsonBody:()=>Gi,parseJsonErrorBody:()=>p0,parseXmlBody:()=>ry,parseXmlErrorBody:()=>$0,resolveAWSSDKSigV4Config:()=>TC,resolveAwsSdkSigV4AConfig:()=>eC,resolveAwsSdkSigV4Config:()=>Br,setCredentialFeature:()=>yn,setFeature:()=>UR,setTokenFeature:()=>qR,state:()=>Cu,validateSigningProperties:()=>Es});var et=R(()=>{Vt();Sg();Ro()});var Co=N(xs=>{"use strict";var nG=(_t(),Se(ms)),oG=gs(),sG=Ie(),gr=(et(),Se(On)),q0=void 0;function iG(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function aG(e){let t=nG.normalizeProvider(e.userAgentAppId??q0),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{let n=await t();if(!iG(n)){let o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?o?.warn("userAgentAppId must be a string or undefined."):n.length>50&&o?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n}})}var cG=/\d{12}\.ddb/;async function uG(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&gr.setFeature(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let s=await t.retryStrategy();typeof s.acquireInitialRetryToken=="function"?s.constructor?.name?.includes("Adaptive")?gr.setFeature(e,"RETRY_MODE_ADAPTIVE","F"):gr.setFeature(e,"RETRY_MODE_STANDARD","E"):gr.setFeature(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let s=e.endpointV2;switch(String(s?.url?.hostname).match(cG)&&gr.setFeature(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":gr.setFeature(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":gr.setFeature(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":gr.setFeature(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let o=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(o?.$source){let s=o;s.accountId&&gr.setFeature(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(s.$source??{}))gr.setFeature(e,i,a)}}var M0="user-agent",cy="x-amz-user-agent",U0=" ",uy="/",lG=/[^!$%&'*+\-.^_`|~\w]/g,dG=/[^!$%&'*+\-.^_`|~\w#]/g,F0="-",fG=1024;function pG(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=fG){t.length?t+=","+n:t+=n;continue}break}return t}var j0=e=>(t,r)=>async n=>{let{request:o}=n;if(!sG.HttpRequest.isInstance(o))return t(n);let{headers:s}=o,i=r?.userAgent?.map(il)||[],a=(await e.defaultUserAgentProvider()).map(il);await uG(r,e,n);let c=r;a.push(`m/${pG(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let u=e?.customUserAgent?.map(il)||[],d=await e.userAgentAppId();d&&a.push(il(["app",`${d}`]));let l=oG.getUserAgentPrefix(),h=(l?[l]:[]).concat([...a,...i,...u]).join(U0),g=[...a.filter(S=>S.startsWith("aws-sdk-")),...u].join(U0);return e.runtime!=="browser"?(g&&(s[cy]=s[cy]?`${s[M0]} ${g}`:g),s[M0]=h):s[cy]=h,t({...n,request:o})},il=e=>{let t=e[0].split(uy).map(i=>i.replace(lG,F0)).join(uy),r=e[1]?.replace(dG,F0),n=t.indexOf(uy),o=t.substring(0,n),s=t.substring(n+1);return o==="api"&&(s=s.toLowerCase()),[o,s,r].filter(i=>i&&i.length>0).reduce((i,a,c)=>{switch(c){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},H0={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},mG=e=>({applyToStack:t=>{t.add(j0(e),H0)}});xs.DEFAULT_UA_APP_ID=q0;xs.getUserAgentMiddlewareOptions=H0;xs.getUserAgentPlugin=mG;xs.resolveUserAgentConfig=aG;xs.userAgentMiddleware=j0});var B0=N(Is=>{"use strict";var hG=(e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},gG=(e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n};Is.SelectorType=void 0;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(Is.SelectorType||(Is.SelectorType={}));Is.booleanSelector=hG;Is.numberSelector=gG});var At=N(tt=>{"use strict";var Dn=B0(),al=ht(),yG=jr(),z0="AWS_USE_DUALSTACK_ENDPOINT",W0="use_dualstack_endpoint",EG=!1,SG={environmentVariableSelector:e=>Dn.booleanSelector(e,z0,Dn.SelectorType.ENV),configFileSelector:e=>Dn.booleanSelector(e,W0,Dn.SelectorType.CONFIG),default:!1},K0="AWS_USE_FIPS_ENDPOINT",Y0="use_fips_endpoint",_G=!1,bG={environmentVariableSelector:e=>Dn.booleanSelector(e,K0,Dn.SelectorType.ENV),configFileSelector:e=>Dn.booleanSelector(e,Y0,Dn.SelectorType.CONFIG),default:!1},wG=e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:o}=e;return Object.assign(e,{tls:t??!0,endpoint:al.normalizeProvider(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:al.normalizeProvider(o??!1)})},PG=async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let o=await e.useDualstackEndpoint(),s=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:s})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},RG=e=>{let t=al.normalizeProvider(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:o,tls:s}=e;return Object.assign(e,{tls:s??!0,endpoint:r?al.normalizeProvider(typeof r=="string"?o(r):r):()=>PG({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},X0="AWS_REGION",Q0="region",CG={environmentVariableSelector:e=>e[X0],configFileSelector:e=>e[Q0],default:()=>{throw new Error("Region is missing")}},AG={preferredFile:"credentials"},V0=new Set,TG=(e,t=yG.isValidHostLabel)=>{if(!V0.has(e)&&!t(e))if(e==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${e}" is not a valid hostname component.`);else V0.add(e)},J0=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),vG=e=>J0(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,xG=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{let n=typeof t=="function"?await t():t,o=vG(n);return TG(o),o},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return J0(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},G0=(e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,IG=(e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),OG=(e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws",DG=(e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),s=e.match(o);if(s)return s[0].slice(1,-1)}},NG=(e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:o,partitionHash:s})=>{let i=OG(e,{partitionHash:s}),a=e in o?e:s[i]?.endpoint??e,c={useFipsEndpoint:t,useDualstackEndpoint:r},u=G0(o[a]?.variants,c),d=G0(s[i]?.variants,c),l=IG(a,{regionHostname:u,partitionHostname:d});if(l===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let h=DG(l,{signingRegion:o[a]?.signingRegion,regionRegex:s[i].regionRegex,useFipsEndpoint:t});return{partition:i,signingService:n,hostname:l,...h&&{signingRegion:h},...o[a]?.signingService&&{signingService:o[a].signingService}}};tt.CONFIG_USE_DUALSTACK_ENDPOINT=W0;tt.CONFIG_USE_FIPS_ENDPOINT=Y0;tt.DEFAULT_USE_DUALSTACK_ENDPOINT=EG;tt.DEFAULT_USE_FIPS_ENDPOINT=_G;tt.ENV_USE_DUALSTACK_ENDPOINT=z0;tt.ENV_USE_FIPS_ENDPOINT=K0;tt.NODE_REGION_CONFIG_FILE_OPTIONS=AG;tt.NODE_REGION_CONFIG_OPTIONS=CG;tt.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=SG;tt.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=bG;tt.REGION_ENV_NAME=X0;tt.REGION_INI_NAME=Q0;tt.getRegionInfo=NG;tt.resolveCustomEndpointsConfig=wG;tt.resolveEndpointsConfig=RG;tt.resolveRegionConfig=xG});var Os=N(cl=>{"use strict";var kG=Ie(),Z0="content-length";function eA(e){return t=>async r=>{let n=r.request;if(kG.HttpRequest.isInstance(n)){let{body:o,headers:s}=n;if(o&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(Z0)===-1)try{let i=e(o);n.headers={...n.headers,[Z0]:String(i)}}catch{}}return t({...r,request:n})}}var tA={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},$G=e=>({applyToStack:t=>{t.add(eA(e.bodyLengthChecker),tA)}});cl.contentLengthMiddleware=eA;cl.contentLengthMiddlewareOptions=tA;cl.getContentLengthPlugin=$G});var dy=N(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.getHomeDir=void 0;var LG=Y("os"),MG=Y("path"),ly={},UG=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",FG=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${MG.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=UG();return ly[o]||(ly[o]=(0,LG.homedir)()),ly[o]};ul.getHomeDir=FG});var fy=N(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});ll.getSSOTokenFilepath=void 0;var qG=Y("crypto"),jG=Y("path"),HG=dy(),BG=e=>{let r=(0,qG.createHash)("sha1").update(e).digest("hex");return(0,jG.join)((0,HG.getHomeDir)(),".aws","sso","cache",`${r}.json`)};ll.getSSOTokenFilepath=BG});var rA=N(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});Nn.getSSOTokenFromFile=Nn.tokenIntercept=void 0;var VG=Y("fs/promises"),GG=fy();Nn.tokenIntercept={};var zG=async e=>{if(Nn.tokenIntercept[e])return Nn.tokenIntercept[e];let t=(0,GG.getSSOTokenFilepath)(e),r=await(0,VG.readFile)(t,"utf8");return JSON.parse(r)};Nn.getSSOTokenFromFile=zG});var nA=N(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.readFile=kt.fileIntercept=kt.filePromises=void 0;var WG=Y("fs/promises");kt.filePromises={};kt.fileIntercept={};var KG=(e,t)=>kt.fileIntercept[e]!==void 0?kt.fileIntercept[e]:((!kt.filePromises[e]||t?.ignoreCache)&&(kt.filePromises[e]=(0,WG.readFile)(e,"utf8")),kt.filePromises[e]);kt.readFile=KG});var yr=N(wt=>{"use strict";var Wi=dy(),oA=fy(),py=rA(),dl=Y("path"),fl=dn(),Ds=nA(),iA="AWS_PROFILE",aA="default",YG=e=>e.profile||process.env[iA]||aA,Ao=".",XG=e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Ao);return r===-1?!1:Object.values(fl.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(Ao),s=r.substring(0,o)===fl.IniSectionType.PROFILE?r.substring(o+1):r;return t[s]=n,t},{...e.default&&{default:e.default}}),QG="AWS_CONFIG_FILE",cA=()=>process.env[QG]||dl.join(Wi.getHomeDir(),".aws","config"),JG="AWS_SHARED_CREDENTIALS_FILE",ZG=()=>process.env[JG]||dl.join(Wi.getHomeDir(),".aws","credentials"),e3=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,t3=["__proto__","profile __proto__"],my=e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let s=o.split(/(^|\s)[;#]/)[0].trim();if(s[0]==="["&&s[s.length-1]==="]"){r=void 0,n=void 0;let a=s.substring(1,s.length-1),c=e3.exec(a);if(c){let[,u,,d]=c;Object.values(fl.IniSectionType).includes(u)&&(r=[u,d].join(Ao))}else r=a;if(t3.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=s.indexOf("=");if(![0,-1].includes(a)){let[c,u]=[s.substring(0,a).trim(),s.substring(a+1).trim()];if(u==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let d=n?[n,c].join(Ao):c;t[r][d]=u}}}}return t},sA=()=>({}),uA=async(e={})=>{let{filepath:t=ZG(),configFilepath:r=cA()}=e,n=Wi.getHomeDir(),o="~/",s=t;t.startsWith(o)&&(s=dl.join(n,t.slice(2)));let i=r;r.startsWith(o)&&(i=dl.join(n,r.slice(2)));let a=await Promise.all([Ds.readFile(i,{ignoreCache:e.ignoreCache}).then(my).then(XG).catch(sA),Ds.readFile(s,{ignoreCache:e.ignoreCache}).then(my).catch(sA)]);return{configFile:a[0],credentialsFile:a[1]}},r3=e=>Object.entries(e).filter(([t])=>t.startsWith(fl.IniSectionType.SSO_SESSION+Ao)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Ao)+1)]:n}),{}),n3=()=>({}),o3=async(e={})=>Ds.readFile(e.configFilepath??cA()).then(my).then(r3).catch(n3),s3=(...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},i3=async e=>{let t=await uA(e);return s3(t.configFile,t.credentialsFile)},a3={getFileRecord(){return Ds.fileIntercept},interceptFile(e,t){Ds.fileIntercept[e]=Promise.resolve(t)},getTokenRecord(){return py.tokenIntercept},interceptToken(e,t){py.tokenIntercept[e]=t}};Object.defineProperty(wt,"getSSOTokenFromFile",{enumerable:!0,get:function(){return py.getSSOTokenFromFile}});Object.defineProperty(wt,"readFile",{enumerable:!0,get:function(){return Ds.readFile}});wt.CONFIG_PREFIX_SEPARATOR=Ao;wt.DEFAULT_PROFILE=aA;wt.ENV_PROFILE=iA;wt.externalDataInterceptor=a3;wt.getProfileName=YG;wt.loadSharedConfigFiles=uA;wt.loadSsoSessionData=o3;wt.parseKnownFiles=i3;Object.keys(Wi).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(wt,e)&&Object.defineProperty(wt,e,{enumerable:!0,get:function(){return Wi[e]}})});Object.keys(oA).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(wt,e)&&Object.defineProperty(wt,e,{enumerable:!0,get:function(){return oA[e]}})})});var Er=N(fA=>{"use strict";var Ki=ct(),lA=yr();function dA(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}var c3=(e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new Ki.CredentialsProviderError(r.message||`Not found in ENV: ${dA(e.toString())}`,{logger:t?.logger})}},u3=(e,{preferredFile:t="config",...r}={})=>async()=>{let n=lA.getProfileName(r),{configFile:o,credentialsFile:s}=await lA.loadSharedConfigFiles(r),i=s[n]||{},a=o[n]||{},c=t==="config"?{...i,...a}:{...a,...i};try{let d=e(c,t==="config"?o:s);if(d===void 0)throw new Error;return d}catch(u){throw new Ki.CredentialsProviderError(u.message||`Not found in config files w/ profile [${n}]: ${dA(e.toString())}`,{logger:r.logger})}},l3=e=>typeof e=="function",d3=e=>l3(e)?async()=>await e():Ki.fromStatic(e),f3=({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:o,logger:s}=n,i={signingName:o,logger:s};return Ki.memoize(Ki.chain(c3(e,i),u3(t,n),d3(r)))};fA.loadConfig=f3});var gA=N(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});pl.getEndpointUrlConfig=void 0;var pA=yr(),mA="AWS_ENDPOINT_URL",hA="endpoint_url",p3=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(s=>s.toUpperCase()),n=t[[mA,...r].join("_")];if(n)return n;let o=t[mA];if(o)return o},configFileSelector:(t,r)=>{if(r&&t.services){let o=r[["services",t.services].join(pA.CONFIG_PREFIX_SEPARATOR)];if(o){let s=e.split(" ").map(a=>a.toLowerCase()),i=o[[s.join("_"),hA].join(pA.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=t[hA];if(n)return n},default:void 0});pl.getEndpointUrlConfig=p3});var yA=N(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});ml.getEndpointFromConfig=void 0;var m3=Er(),h3=gA(),g3=async e=>(0,m3.loadConfig)((0,h3.getEndpointUrlConfig)(e??""))();ml.getEndpointFromConfig=g3});var Sr=N(Yr=>{"use strict";var SA=yA(),EA=mr(),y3=(_t(),Se(ms)),hl=ht(),E3=wm(),S3=async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),R3(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!P3(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},_3=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,b3=/(\d+\.){3}\d+/,w3=/\.\./,P3=e=>_3.test(e)&&!b3.test(e)&&!w3.test(e),R3=e=>{let[t,r,n,,,o]=e.split(":"),s=t==="arn"&&e.split(":").length>=6,i=!!(s&&r&&n&&o);if(s&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},C3=(e,t,r,n=!1)=>{let o=async()=>{let s;return n?s=r.clientContextParams?.[e]??r[e]??r[t]:s=r[e]??r[t],typeof s=="function"?s():s};return e==="credentialScope"||t==="CredentialScope"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.credentialScope??s?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.accountId??s?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let s=await o();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:i,hostname:a,port:c,path:u}=s;return`${i}//${a}${c?":"+c:""}${u}`}}return s}:o},hy=e=>typeof e=="object"?"url"in e?EA.parseUrl(e.url):e:EA.parseUrl(e),_A=async(e,t,r,n)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await SA.getEndpointFromConfig(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(hy(i)),r.isCustomEndpoint=!0)}let o=await bA(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},bA=async(e,t,r)=>{let n={},o=t?.getEndpointParameterInstructions?.()||{};for(let[s,i]of Object.entries(o))switch(i.type){case"staticContextParams":n[s]=i.value;break;case"contextParams":n[s]=e[i.name];break;case"clientContextParams":case"builtInParams":n[s]=await C3(i.name,s,r,i.type!=="builtInParams")();break;case"operationContextParams":n[s]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(o).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await S3(n),n},wA=({config:e,instructions:t})=>(r,n)=>async o=>{e.isCustomEndpoint&&y3.setFeature(n,"ENDPOINT_OVERRIDE","N");let s=await _A(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=s.properties?.authSchemes;let i=n.authSchemes?.[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let c=hl.getSmithyContext(n)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...o})},PA={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:E3.serializerMiddlewareOption.name},A3=(e,t)=>({applyToStack:r=>{r.addRelativeTo(wA({config:e,instructions:t}),PA)}}),T3=e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:o}=e,s=r!=null?async()=>hy(await hl.normalizeProvider(r)()):void 0,a=Object.assign(e,{endpoint:s,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:hl.normalizeProvider(n??!1),useFipsEndpoint:hl.normalizeProvider(o??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=SA.getEndpointFromConfig(e.serviceId)),c),a},v3=e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e};Yr.endpointMiddleware=wA;Yr.endpointMiddlewareOptions=PA;Yr.getEndpointFromInstructions=_A;Yr.getEndpointPlugin=A3;Yr.resolveEndpointConfig=T3;Yr.resolveEndpointRequiredConfig=v3;Yr.resolveParams=bA;Yr.toEndpointV1=hy});var yy=N(kn=>{"use strict";var x3=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],I3=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],O3=["TimeoutError","RequestTimeout","RequestTimeoutException"],D3=[500,502,503,504],N3=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],k3=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],RA=e=>e?.$retryable!==void 0,$3=e=>x3.includes(e.name),CA=e=>e.$metadata?.clockSkewCorrected,AA=e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},L3=e=>e.$metadata?.httpStatusCode===429||I3.includes(e.name)||e.$retryable?.throttling==!0,gy=(e,t=0)=>RA(e)||CA(e)||O3.includes(e.name)||N3.includes(e?.code||"")||k3.includes(e?.code||"")||D3.includes(e.$metadata?.httpStatusCode||0)||AA(e)||e.cause!==void 0&&t<=10&&gy(e.cause,t+1),M3=e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!gy(e)}return!1};kn.isBrowserNetworkError=AA;kn.isClockSkewCorrectedError=CA;kn.isClockSkewError=$3;kn.isRetryableByTrait=RA;kn.isServerError=M3;kn.isThrottlingError=L3;kn.isTransientError=gy});var To=N(He=>{"use strict";var U3=yy();He.RETRY_MODES=void 0;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(He.RETRY_MODES||(He.RETRY_MODES={}));var Ey=3,F3=He.RETRY_MODES.STANDARD,gl=class e{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(t){this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>e.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),U3.isThrottlingError(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},Yi=100,wy=20*1e3,vA=500,Sy=500,xA=5,IA=10,OA=1,q3="amz-sdk-invocation-id",j3="amz-sdk-request",H3=()=>{let e=Yi;return{computeNextBackoffDelay:n=>Math.floor(Math.min(wy,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}},TA=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(wy,e),getRetryCost:()=>r}),Xi=class{maxAttempts;mode=He.RETRY_MODES.STANDARD;capacity=Sy;retryBackoffStrategy=H3();maxAttemptsProvider;constructor(t){this.maxAttempts=t,this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return TA({retryDelay:Yi,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let o=r.errorType;this.retryBackoffStrategy.setDelayBase(o==="THROTTLING"?vA:Yi);let s=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),i=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,s):s,a=this.getCapacityCost(o);return this.capacity-=a,TA({retryDelay:i,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(Sy,this.capacity+(t.getRetryCost()??OA))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Ey}`),Ey}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?IA:xA}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}},_y=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=He.RETRY_MODES.ADAPTIVE;constructor(t,r){this.maxAttemptsProvider=t;let{rateLimiter:n}=r??{};this.rateLimiter=n??new gl,this.standardRetryStrategy=new Xi(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}},by=class extends Xi{computeNextBackoffDelay;constructor(t,r=Yi){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};He.AdaptiveRetryStrategy=_y;He.ConfiguredRetryStrategy=by;He.DEFAULT_MAX_ATTEMPTS=Ey;He.DEFAULT_RETRY_DELAY_BASE=Yi;He.DEFAULT_RETRY_MODE=F3;He.DefaultRateLimiter=gl;He.INITIAL_RETRY_TOKENS=Sy;He.INVOCATION_ID_HEADER=q3;He.MAXIMUM_RETRY_DELAY=wy;He.NO_RETRY_INCREMENT=OA;He.REQUEST_HEADER=j3;He.RETRY_COST=xA;He.StandardRetryStrategy=Xi;He.THROTTLING_RETRY_DELAY_BASE=vA;He.TIMEOUT_RETRY_COST=IA});var DA=N(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});yl.isStreamingPayload=void 0;var B3=Y("stream"),V3=e=>e?.body instanceof B3.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;yl.isStreamingPayload=V3});var rr=N(Ke=>{"use strict";var qe=To(),Ns=Ie(),$n=yy(),kA=wh(),NA=ht(),G3=Ee(),z3=DA(),W3=(e,t)=>{let r=e,n=qe.NO_RETRY_INCREMENT,o=qe.RETRY_COST,s=qe.TIMEOUT_RETRY_COST,i=e,a=l=>l.name==="TimeoutError"?s:o,c=l=>a(l)<=i;return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:l=>{if(!c(l))throw new Error("No retry token available");let h=a(l);return i-=h,h},releaseRetryTokens:l=>{i+=l??n,i=Math.min(i,r)}})},$A=(e,t)=>Math.floor(Math.min(qe.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),LA=e=>e?$n.isRetryableByTrait(e)||$n.isClockSkewError(e)||$n.isThrottlingError(e)||$n.isTransientError(e):!1,MA=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),El=class{maxAttemptsProvider;retryDecider;delayDecider;retryQuota;mode=qe.RETRY_MODES.STANDARD;constructor(t,r){this.maxAttemptsProvider=t,this.retryDecider=r?.retryDecider??LA,this.delayDecider=r?.delayDecider??$A,this.retryQuota=r?.retryQuota??W3(qe.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=qe.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let o,s=0,i=0,a=await this.getMaxAttempts(),{request:c}=r;for(Ns.HttpRequest.isInstance(c)&&(c.headers[qe.INVOCATION_ID_HEADER]=kA.v4());;)try{Ns.HttpRequest.isInstance(c)&&(c.headers[qe.REQUEST_HEADER]=`attempt=${s+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:u,output:d}=await t(r);return n?.afterRequest&&n.afterRequest(u),this.retryQuota.releaseRetryTokens(o),d.$metadata.attempts=s+1,d.$metadata.totalRetryDelay=i,{response:u,output:d}}catch(u){let d=MA(u);if(s++,this.shouldRetry(d,s,a)){o=this.retryQuota.retrieveRetryTokens(d);let l=this.delayDecider($n.isThrottlingError(d)?qe.THROTTLING_RETRY_DELAY_BASE:qe.DEFAULT_RETRY_DELAY_BASE,s),h=K3(d.$response),g=Math.max(h||0,l);i+=g,await new Promise(S=>setTimeout(S,g));continue}throw d.$metadata||(d.$metadata={}),d.$metadata.attempts=s,d.$metadata.totalRetryDelay=i,d}}},K3=e=>{if(!Ns.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},Py=class extends El{rateLimiter;constructor(t,r){let{rateLimiter:n,...o}=r??{};super(t,o),this.rateLimiter=n??new qe.DefaultRateLimiter,this.mode=qe.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}},Ry="AWS_MAX_ATTEMPTS",Cy="max_attempts",Y3={environmentVariableSelector:e=>{let t=e[Ry];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${Ry} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[Cy];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${Cy} mast be a number, got "${t}"`);return r},default:qe.DEFAULT_MAX_ATTEMPTS},X3=e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,o=NA.normalizeProvider(n??qe.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:o,retryStrategy:async()=>t||(await NA.normalizeProvider(r)()===qe.RETRY_MODES.ADAPTIVE?new qe.AdaptiveRetryStrategy(o):new qe.StandardRetryStrategy(o))})},UA="AWS_RETRY_MODE",FA="retry_mode",Q3={environmentVariableSelector:e=>e[UA],configFileSelector:e=>e[FA],default:qe.DEFAULT_RETRY_MODE},qA=()=>e=>async t=>{let{request:r}=t;return Ns.HttpRequest.isInstance(r)&&(delete r.headers[qe.INVOCATION_ID_HEADER],delete r.headers[qe.REQUEST_HEADER]),e(t)},jA={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},J3=e=>({applyToStack:t=>{t.addRelativeTo(qA(),jA)}}),HA=e=>(t,r)=>async n=>{let o=await e.retryStrategy(),s=await e.maxAttempts();if(Z3(o)){o=o;let i=await o.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,u=0,{request:d}=n,l=Ns.HttpRequest.isInstance(d);for(l&&(d.headers[qe.INVOCATION_ID_HEADER]=kA.v4());;)try{l&&(d.headers[qe.REQUEST_HEADER]=`attempt=${c+1}; max=${s}`);let{response:h,output:g}=await t(n);return o.recordSuccess(i),g.$metadata.attempts=c+1,g.$metadata.totalRetryDelay=u,{response:h,output:g}}catch(h){let g=ez(h);if(a=MA(h),l&&z3.isStreamingPayload(d))throw(r.logger instanceof G3.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await o.refreshRetryTokenForRetry(i,g)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=u,a}c=i.getRetryCount();let S=i.getRetryDelay();u+=S,await new Promise(C=>setTimeout(C,S))}}else return o=o,o?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,n)},Z3=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",ez=e=>{let t={error:e,errorType:tz(e)},r=VA(e.$response);return r&&(t.retryAfterHint=r),t},tz=e=>$n.isThrottlingError(e)?"THROTTLING":$n.isTransientError(e)?"TRANSIENT":$n.isServerError(e)?"SERVER_ERROR":"CLIENT_ERROR",BA={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},rz=e=>({applyToStack:t=>{t.add(HA(e),BA)}}),VA=e=>{if(!Ns.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};Ke.AdaptiveRetryStrategy=Py;Ke.CONFIG_MAX_ATTEMPTS=Cy;Ke.CONFIG_RETRY_MODE=FA;Ke.ENV_MAX_ATTEMPTS=Ry;Ke.ENV_RETRY_MODE=UA;Ke.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=Y3;Ke.NODE_RETRY_MODE_CONFIG_OPTIONS=Q3;Ke.StandardRetryStrategy=El;Ke.defaultDelayDecider=$A;Ke.defaultRetryDecider=LA;Ke.getOmitRetryHeadersPlugin=J3;Ke.getRetryAfterHint=VA;Ke.getRetryPlugin=rz;Ke.omitRetryHeadersMiddleware=qA;Ke.omitRetryHeadersMiddlewareOptions=jA;Ke.resolveRetryConfig=X3;Ke.retryMiddleware=HA;Ke.retryMiddlewareOptions=BA});var Ty=N(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.resolveHttpAuthSchemeConfig=Ln.defaultCodeartifactHttpAuthSchemeProvider=Ln.defaultCodeartifactHttpAuthSchemeParametersProvider=void 0;var nz=(et(),Se(On)),Ay=ht(),oz=async(e,t,r)=>({operation:(0,Ay.getSmithyContext)(t).operation,region:await(0,Ay.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Ln.defaultCodeartifactHttpAuthSchemeParametersProvider=oz;function sz(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"codeartifact",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var iz=e=>{let t=[];switch(e.operation){default:t.push(sz(e))}return t};Ln.defaultCodeartifactHttpAuthSchemeProvider=iz;var az=e=>{let t=(0,nz.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,Ay.normalizeProvider)(e.authSchemePreference??[])})};Ln.resolveHttpAuthSchemeConfig=az});var GA=N((Lae,cz)=>{cz.exports={name:"@aws-sdk/client-codeartifact",description:"AWS SDK for JavaScript Codeartifact Client for Node.js, Browser and React Native",version:"3.981.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-codeartifact","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo codeartifact","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.5","@aws-sdk/credential-provider-node":"^3.972.4","@aws-sdk/middleware-host-header":"^3.972.3","@aws-sdk/middleware-logger":"^3.972.3","@aws-sdk/middleware-recursion-detection":"^3.972.3","@aws-sdk/middleware-user-agent":"^3.972.5","@aws-sdk/region-config-resolver":"^3.972.3","@aws-sdk/types":"^3.973.1","@aws-sdk/util-endpoints":"3.981.0","@aws-sdk/util-user-agent-browser":"^3.972.3","@aws-sdk/util-user-agent-node":"^3.972.3","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.22.0","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.12","@smithy/middleware-retry":"^4.4.29","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.8","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.11.1","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.28","@smithy/util-defaults-mode-node":"^4.2.31","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-stream":"^4.5.10","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node20":"20.1.8","@types/node":"^20.14.8",concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},engines:{node:">=20.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-codeartifact",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-codeartifact"}}});var Sl=N(Mn=>{"use strict";var uz=(Vt(),Se(Hr)),lz=ct(),zA="AWS_ACCESS_KEY_ID",WA="AWS_SECRET_ACCESS_KEY",KA="AWS_SESSION_TOKEN",YA="AWS_CREDENTIAL_EXPIRATION",XA="AWS_CREDENTIAL_SCOPE",QA="AWS_ACCOUNT_ID",dz=e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[zA],r=process.env[WA],n=process.env[KA],o=process.env[YA],s=process.env[XA],i=process.env[QA];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...o&&{expiration:new Date(o)},...s&&{credentialScope:s},...i&&{accountId:i}};return uz.setCredentialFeature(a,"CREDENTIALS_ENV_VARS","g"),a}throw new lz.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})};Mn.ENV_ACCOUNT_ID=QA;Mn.ENV_CREDENTIAL_SCOPE=XA;Mn.ENV_EXPIRATION=YA;Mn.ENV_KEY=zA;Mn.ENV_SECRET=WA;Mn.ENV_SESSION=KA;Mn.fromEnv=dz});var Ji=N(lt=>{"use strict";var _r=ct(),fz=Y("url"),pz=Y("buffer"),mz=Y("http"),Dy=Er(),hz=mr();function Qi(e){return new Promise((t,r)=>{let n=mz.request({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",o=>{r(Object.assign(new _r.ProviderError("Unable to connect to instance metadata service"),o)),n.destroy()}),n.on("timeout",()=>{r(new _r.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",o=>{let{statusCode:s=400}=o;(s<200||300<=s)&&(r(Object.assign(new _r.ProviderError("Error response received from instance metadata service"),{statusCode:s})),n.destroy());let i=[];o.on("data",a=>{i.push(a)}),o.on("end",()=>{t(pz.Buffer.concat(i)),n.destroy()})}),n.end()})}var tT=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",rT=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),nT=1e3,oT=0,Ny=({maxRetries:e=oT,timeout:t=nT})=>({maxRetries:e,timeout:t}),xy=(e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},_l="AWS_CONTAINER_CREDENTIALS_FULL_URI",bl="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Iy="AWS_CONTAINER_AUTHORIZATION_TOKEN",gz=(e={})=>{let{timeout:t,maxRetries:r}=Ny(e);return()=>xy(async()=>{let n=await bz({logger:e.logger}),o=JSON.parse(await yz(t,n));if(!tT(o))throw new _r.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return rT(o)},r)},yz=async(e,t)=>(process.env[Iy]&&(t.headers={...t.headers,Authorization:process.env[Iy]}),(await Qi({...t,timeout:e})).toString()),Ez="169.254.170.2",Sz={localhost:!0,"127.0.0.1":!0},_z={"http:":!0,"https:":!0},bz=async({logger:e})=>{if(process.env[bl])return{hostname:Ez,path:process.env[bl]};if(process.env[_l]){let t=fz.parse(process.env[_l]);if(!t.hostname||!(t.hostname in Sz))throw new _r.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in _z))throw new _r.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new _r.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${bl} or ${_l} environment variable is set`,{tryNextLink:!1,logger:e})},Oy=class e extends _r.CredentialsProviderError{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(t,r=!0){super(t,r),this.tryNextLink=r,Object.setPrototypeOf(this,e.prototype)}};lt.Endpoint=void 0;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(lt.Endpoint||(lt.Endpoint={}));var wz="AWS_EC2_METADATA_SERVICE_ENDPOINT",Pz="ec2_metadata_service_endpoint",Rz={environmentVariableSelector:e=>e[wz],configFileSelector:e=>e[Pz],default:void 0},ks;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(ks||(ks={}));var Cz="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",Az="ec2_metadata_service_endpoint_mode",Tz={environmentVariableSelector:e=>e[Cz],configFileSelector:e=>e[Az],default:ks.IPv4},sT=async()=>hz.parseUrl(await vz()||await xz()),vz=async()=>Dy.loadConfig(Rz)(),xz=async()=>{let e=await Dy.loadConfig(Tz)();switch(e){case ks.IPv4:return lt.Endpoint.IPv4;case ks.IPv6:return lt.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(ks)}`)}},Iz=5*60,Oz=5*60,Dz="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",JA=(e,t)=>{let r=Iz+Math.floor(Math.random()*Oz),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+Dz);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}},Nz=(e,t={})=>{let r=t?.logger||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=JA(o,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),o=JA(n,r);else throw s}return n=o,o}},iT="/latest/meta-data/iam/security-credentials/",kz="/latest/api/token",vy="AWS_EC2_METADATA_V1_DISABLED",ZA="ec2_metadata_v1_disabled",eT="x-aws-ec2-metadata-token",$z=(e={})=>Nz(Lz(e),{logger:e.logger}),Lz=(e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:o,maxRetries:s}=Ny(e),i=async(a,c)=>{if(t||c.headers?.[eT]==null){let l=!1,h=!1,g=await Dy.loadConfig({environmentVariableSelector:S=>{let C=S[vy];if(h=!!C&&C!=="false",C===void 0)throw new _r.CredentialsProviderError(`${vy} not set in env, checking config file next.`,{logger:e.logger});return h},configFileSelector:S=>{let C=S[ZA];return l=!!C&&C!=="false",l},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||g){let S=[];throw e.ec2MetadataV1Disabled&&S.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),l&&S.push(`config file profile (${ZA})`),h&&S.push(`process environment variable (${vy})`),new Oy(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${S.join(", ")}].`)}}let d=(await xy(async()=>{let l;try{l=await Uz(c)}catch(h){throw h.statusCode===401&&(t=!1),h}return l},a)).trim();return xy(async()=>{let l;try{l=await Fz(d,c,e)}catch(h){throw h.statusCode===401&&(t=!1),h}return l},a)};return async()=>{let a=await sT();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(s,{...a,timeout:o});{let c;try{c=(await Mz({...a,timeout:o})).toString()}catch(u){if(u?.statusCode===400)throw Object.assign(u,{message:"EC2 Metadata token request returned error"});return(u.message==="TimeoutError"||[403,404,405].includes(u.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(s,{...a,timeout:o})}return i(s,{...a,headers:{[eT]:c},timeout:o})}}},Mz=async e=>Qi({...e,path:kz,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),Uz=async e=>(await Qi({...e,path:iT})).toString(),Fz=async(e,t,r)=>{let n=JSON.parse((await Qi({...t,path:iT+e})).toString());if(!tT(n))throw new _r.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return rT(n)};lt.DEFAULT_MAX_RETRIES=oT;lt.DEFAULT_TIMEOUT=nT;lt.ENV_CMDS_AUTH_TOKEN=Iy;lt.ENV_CMDS_FULL_URI=_l;lt.ENV_CMDS_RELATIVE_URI=bl;lt.fromContainerMetadata=gz;lt.fromInstanceMetadata=$z;lt.getInstanceMetadataEndpoint=sT;lt.httpRequest=Qi;lt.providerConfigFromInit=Ny});var Un=N(Zi=>{"use strict";var lT=Ie(),dT=Wc(),wl=Y("http"),Pl=Y("https"),fT=Y("stream"),ky=Y("http2"),qz=["ECONNRESET","EPIPE","ETIMEDOUT"],pT=e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},Pt={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},aT=1e3,jz=(e,t,r=0)=>{if(!r)return-1;let n=o=>{let s=Pt.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${r} ms.`),{name:"TimeoutError"}))},r-o),i=a=>{a?.connecting?a.on("connect",()=>{Pt.clearTimeout(s)}):Pt.clearTimeout(s)};e.socket?i(e.socket):e.on("socket",i)};return r<2e3?(n(0),0):Pt.setTimeout(n.bind(null,aT),aT)},Hz=(e,t,r=0,n,o)=>r?Pt.setTimeout(()=>{let s=`@smithy/node-http-handler - [${n?"ERROR":"WARN"}] a request has exceeded the configured ${r} ms requestTimeout.`;if(n){let i=Object.assign(new Error(s),{name:"TimeoutError",code:"ETIMEDOUT"});e.destroy(i),t(i)}else s+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",o?.warn?.(s)},r):-1,Bz=3e3,Vz=(e,{keepAlive:t,keepAliveMsecs:r},n=Bz)=>{if(t!==!0)return-1;let o=()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",s=>{s.setKeepAlive(t,r||0)})};return n===0?(o(),0):Pt.setTimeout(o,n)},cT=3e3,Gz=(e,t,r=0)=>{let n=o=>{let s=r-o,i=()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${r} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(s,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(s,i)};return 0<r&&r<6e3?(n(0),0):Pt.setTimeout(n.bind(null,r===0?0:cT),cT)},uT=6e3;async function mT(e,t,r=uT,n=!1){let o=t.headers??{},s=o.Expect||o.expect,i=-1,a=!0;!n&&s==="100-continue"&&(a=await Promise.race([new Promise(c=>{i=Number(Pt.setTimeout(()=>c(!0),Math.max(uT,r)))}),new Promise(c=>{e.on("continue",()=>{Pt.clearTimeout(i),c(!0)}),e.on("response",()=>{Pt.clearTimeout(i),c(!1)}),e.on("error",()=>{Pt.clearTimeout(i),c(!1)})})])),a&&zz(e,t.body)}function zz(e,t){if(t instanceof fT.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}var Wz=0,$y=class e{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(t){return typeof t?.handle=="function"?t:new e(t)}static checkSocketUsage(t,r,n=console){let{sockets:o,requests:s,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(o&&s)for(let c in o){let u=o[c]?.length??0,d=s[c]?.length??0;if(u>=i&&d>=2*i)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${u} and ${d} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,socketAcquisitionWarningTimeout:s,httpAgent:i,httpsAgent:a,throwOnRequestTimeout:c}=t||{},u=!0,d=50;return{connectionTimeout:n,requestTimeout:r,socketTimeout:o,socketAcquisitionWarningTimeout:s,throwOnRequestTimeout:c,httpAgent:i instanceof wl.Agent||typeof i?.destroy=="function"?(this.externalAgent=!0,i):new wl.Agent({keepAlive:u,maxSockets:d,...i}),httpsAgent:a instanceof Pl.Agent||typeof a?.destroy=="function"?(this.externalAgent=!0,a):new Pl.Agent({keepAlive:u,maxSockets:d,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((o,s)=>{let i=this.config,a,c=[],u=async V=>{await a,c.forEach(Pt.clearTimeout),o(V)},d=async V=>{await a,c.forEach(Pt.clearTimeout),s(V)};if(r?.aborted){let V=new Error("Request aborted");V.name="AbortError",d(V);return}let l=t.protocol==="https:",h=t.headers??{},g=(h.Expect??h.expect)==="100-continue",S=l?i.httpsAgent:i.httpAgent;g&&!this.externalAgent&&(S=new(l?Pl.Agent:wl.Agent)({keepAlive:!1,maxSockets:1/0})),c.push(Pt.setTimeout(()=>{this.socketWarningTimestamp=e.checkSocketUsage(S,this.socketWarningTimestamp,i.logger)},i.socketAcquisitionWarningTimeout??(i.requestTimeout??2e3)+(i.connectionTimeout??1e3)));let C=dT.buildQueryString(t.query||{}),E;if(t.username!=null||t.password!=null){let V=t.username??"",G=t.password??"";E=`${V}:${G}`}let D=t.path;C&&(D+=`?${C}`),t.fragment&&(D+=`#${t.fragment}`);let M=t.hostname??"";M[0]==="["&&M.endsWith("]")?M=t.hostname.slice(1,-1):M=t.hostname;let q={headers:t.headers,host:M,method:t.method,path:D,port:t.port,agent:S,auth:E},H=(l?Pl.request:wl.request)(q,V=>{let G=new lT.HttpResponse({statusCode:V.statusCode||-1,reason:V.statusMessage,headers:pT(V.headers),body:V});u({response:G})});if(H.on("error",V=>{qz.includes(V.code)?d(Object.assign(V,{name:"TimeoutError"})):d(V)}),r){let V=()=>{H.destroy();let G=new Error("Request aborted");G.name="AbortError",d(G)};if(typeof r.addEventListener=="function"){let G=r;G.addEventListener("abort",V,{once:!0}),H.once("close",()=>G.removeEventListener("abort",V))}else r.onabort=V}let oe=n??i.requestTimeout;c.push(jz(H,d,i.connectionTimeout)),c.push(Hz(H,d,oe,i.throwOnRequestTimeout,i.logger??console)),c.push(Gz(H,d,i.socketTimeout));let Pe=q.agent;typeof Pe=="object"&&"keepAlive"in Pe&&c.push(Vz(H,{keepAlive:Pe.keepAlive,keepAliveMsecs:Pe.keepAliveMsecs})),a=mT(H,t,oe,this.externalAgent).catch(V=>(c.forEach(Pt.clearTimeout),s(V)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},Ly=class{sessions=[];constructor(t){this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}},My=class{constructor(t){if(this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(t,r){let n=this.getUrlString(t),o=this.sessionCache.get(n);if(o){let c=o.poll();if(c&&!this.config.disableConcurrency)return c}let s=ky.connect(n);this.config.maxConcurrency&&s.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),s.unref();let i=()=>{s.destroy(),this.deleteSession(n,s)};s.on("goaway",i),s.on("error",i),s.on("frameError",i),s.on("close",()=>this.deleteSession(n,s)),r.requestTimeout&&s.setTimeout(r.requestTimeout,i);let a=this.sessionCache.get(n)||new Ly;return a.offerLast(s),this.sessionCache.set(n,a),s}deleteSession(t,r){let n=this.sessionCache.get(t);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(t,n))}release(t,r){let n=this.getUrlString(t);this.sessionCache.get(n)?.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(t&&t<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}},Uy=class e{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new My({});static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:o,disableConcurrentStreams:s}=this.config,i=n??o;return new Promise((a,c)=>{let u=!1,d,l=async j=>{await d,a(j)},h=async j=>{await d,c(j)};if(r?.aborted){u=!0;let j=new Error("Request aborted");j.name="AbortError",h(j);return}let{hostname:g,method:S,port:C,protocol:E,query:D}=t,M="";if(t.username!=null||t.password!=null){let j=t.username??"",_e=t.password??"";M=`${j}:${_e}@`}let q=`${E}//${M}${g}${C?`:${C}`:""}`,z={destination:new URL(q)},H=this.connectionManager.lease(z,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:s||!1}),oe=j=>{s&&this.destroySession(H),u=!0,h(j)},Pe=dT.buildQueryString(D||{}),V=t.path;Pe&&(V+=`?${Pe}`),t.fragment&&(V+=`#${t.fragment}`);let G=H.request({...t.headers,[ky.constants.HTTP2_HEADER_PATH]:V,[ky.constants.HTTP2_HEADER_METHOD]:S});if(H.ref(),G.on("response",j=>{let _e=new lT.HttpResponse({statusCode:j[":status"]||-1,headers:pT(j),body:G});u=!0,l({response:_e}),s&&(H.close(),this.connectionManager.deleteSession(q,H))}),i&&G.setTimeout(i,()=>{G.close();let j=new Error(`Stream timed out because of no activity for ${i} ms`);j.name="TimeoutError",oe(j)}),r){let j=()=>{G.close();let _e=new Error("Request aborted");_e.name="AbortError",oe(_e)};if(typeof r.addEventListener=="function"){let _e=r;_e.addEventListener("abort",j,{once:!0}),G.once("close",()=>_e.removeEventListener("abort",j))}else r.onabort=j}G.on("frameError",(j,_e,Je)=>{oe(new Error(`Frame type id ${j} in stream id ${Je} has failed with code ${_e}.`))}),G.on("error",oe),G.on("aborted",()=>{oe(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${G.rstCode}.`))}),G.on("close",()=>{H.unref(),s&&H.destroy(),u||oe(new Error("Unexpected error: http2 request did not get a response"))}),d=mT(G,t,i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},Fy=class extends fT.Writable{bufferedBytes=[];_write(t,r,n){this.bufferedBytes.push(t),n()}},Kz=e=>Yz(e)?Xz(e):new Promise((t,r)=>{let n=new Fy;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),Yz=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream;async function Xz(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}Zi.DEFAULT_REQUEST_TIMEOUT=Wz;Zi.NodeHttp2Handler=Uy;Zi.NodeHttpHandler=$y;Zi.streamCollector=Kz});var hT=N(Rl=>{"use strict";Object.defineProperty(Rl,"__esModule",{value:!0});Rl.checkUrl=void 0;var Qz=ct(),Jz="169.254.170.2",Zz="169.254.170.23",e4="[fd00:ec2::23]",t4=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===Jz||e.hostname===Zz||e.hostname===e4)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=o=>{let s=parseInt(o,10);return 0<=s&&s<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new Qz.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};Rl.checkUrl=t4});var jy=N(Cl=>{"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});Cl.ChecksumStream=void 0;var r4=je(),n4=Y("stream"),qy=class extends n4.Duplex{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:o,base64Encoder:s}){if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${n?.constructor?.name??n} in ChecksumStream.`);this.base64Encoder=s??r4.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=o,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(o){return n(o)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};Cl.ChecksumStream=qy});var Xr=N($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.isBlob=$s.isReadableStream=void 0;var o4=e=>typeof ReadableStream=="function"&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream);$s.isReadableStream=o4;var s4=e=>typeof Blob=="function"&&(e?.constructor?.name===Blob.name||e instanceof Blob);$s.isBlob=s4});var gT=N(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});Al.ChecksumStream=void 0;var i4=typeof ReadableStream=="function"?ReadableStream:function(){},Hy=class extends i4{};Al.ChecksumStream=Hy});var yT=N(Tl=>{"use strict";Object.defineProperty(Tl,"__esModule",{value:!0});Tl.createChecksumStream=void 0;var a4=je(),c4=Xr(),u4=gT(),l4=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:o})=>{if(!(0,c4.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${r?.constructor?.name??r} in ChecksumStream.`);let s=o??a4.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let i=new TransformStream({start(){},async transform(c,u){t.update(c),u.enqueue(c)},async flush(c){let u=await t.digest(),d=s(u);if(e!==d){let l=new Error(`Checksum mismatch: expected "${e}" but received "${d}" in response header "${n}".`);c.error(l)}else c.terminate()}});r.pipeThrough(i);let a=i.readable;return Object.setPrototypeOf(a,u4.ChecksumStream.prototype),a};Tl.createChecksumStream=l4});var ET=N(By=>{"use strict";Object.defineProperty(By,"__esModule",{value:!0});By.createChecksumStream=m4;var d4=Xr(),f4=jy(),p4=yT();function m4(e){return typeof ReadableStream=="function"&&(0,d4.isReadableStream)(e.source)?(0,p4.createChecksumStream)(e):new f4.ChecksumStream(e)}});var Gy=N(vl=>{"use strict";Object.defineProperty(vl,"__esModule",{value:!0});vl.ByteArrayCollector=void 0;var Vy=class{allocByteArray;byteLength=0;byteArrays=[];constructor(t){this.allocByteArray=t}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let o=this.byteArrays[n];t.set(o,r),r+=o.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};vl.ByteArrayCollector=Vy});var wT=N(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.createBufferedReadable=void 0;Qr.createBufferedReadableStream=ST;Qr.merge=_T;Qr.flush=xl;Qr.sizeOf=Ls;Qr.modeOf=bT;var h4=Gy();function ST(e,t,r){let n=e.getReader(),o=!1,s=0,i=["",new h4.ByteArrayCollector(u=>new Uint8Array(u))],a=-1,c=async u=>{let{value:d,done:l}=await n.read(),h=d;if(l){if(a!==-1){let g=xl(i,a);Ls(g)>0&&u.enqueue(g)}u.close()}else{let g=bT(h,!1);if(a!==g&&(a>=0&&u.enqueue(xl(i,a)),a=g),a===-1){u.enqueue(h);return}let S=Ls(h);s+=S;let C=Ls(i[a]);if(S>=t&&C===0)u.enqueue(h);else{let E=_T(i,a,h);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${S} is below threshold of ${t}, automatically buffering.`)),E>=t?u.enqueue(xl(i,a)):await c(u)}}};return new ReadableStream({pull:c})}Qr.createBufferedReadable=ST;function _T(e,t,r){switch(t){case 0:return e[0]+=r,Ls(e[0]);case 1:case 2:return e[t].push(r),Ls(e[t])}}function xl(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function Ls(e){return e?.byteLength??e?.length??0}function bT(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var RT=N(zy=>{"use strict";Object.defineProperty(zy,"__esModule",{value:!0});zy.createBufferedReadable=E4;var g4=Y("stream"),PT=Gy(),Jr=wT(),y4=Xr();function E4(e,t,r){if((0,y4.isReadableStream)(e))return(0,Jr.createBufferedReadableStream)(e,t,r);let n=new g4.Readable({read(){}}),o=!1,s=0,i=["",new PT.ByteArrayCollector(c=>new Uint8Array(c)),new PT.ByteArrayCollector(c=>Buffer.from(new Uint8Array(c)))],a=-1;return e.on("data",c=>{let u=(0,Jr.modeOf)(c,!0);if(a!==u&&(a>=0&&n.push((0,Jr.flush)(i,a)),a=u),a===-1){n.push(c);return}let d=(0,Jr.sizeOf)(c);s+=d;let l=(0,Jr.sizeOf)(i[a]);if(d>=t&&l===0)n.push(c);else{let h=(0,Jr.merge)(i,a,c);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${d} is below threshold of ${t}, automatically buffering.`)),h>=t&&n.push((0,Jr.flush)(i,a))}}),e.on("end",()=>{if(a!==-1){let c=(0,Jr.flush)(i,a);(0,Jr.sizeOf)(c)>0&&n.push(c)}n.push(null)}),n}});var CT=N(Il=>{"use strict";Object.defineProperty(Il,"__esModule",{value:!0});Il.getAwsChunkedEncodingStream=void 0;var S4=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,a=r!==void 0&&n!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,c=a?i(o,e):void 0,u=e.getReader();return new ReadableStream({async pull(d){let{value:l,done:h}=await u.read();if(h){if(d.enqueue(`0\r
`),a){let g=r(await c);d.enqueue(`${s}:${g}\r
`),d.enqueue(`\r
`)}d.close()}else d.enqueue(`${(n(l)||0).toString(16)}\r
${l}\r
`)}})};Il.getAwsChunkedEncodingStream=S4});var AT=N(Wy=>{"use strict";Object.defineProperty(Wy,"__esModule",{value:!0});Wy.getAwsChunkedEncodingStream=P4;var _4=Y("stream"),b4=CT(),w4=Xr();function P4(e,t){let r=e,n=e;if((0,w4.isReadableStream)(n))return(0,b4.getAwsChunkedEncodingStream)(n,t);let{base64Encoder:o,bodyLengthChecker:s,checksumAlgorithmFn:i,checksumLocationName:a,streamHasher:c}=t,u=o!==void 0&&i!==void 0&&a!==void 0&&c!==void 0,d=u?c(i,r):void 0,l=new _4.Readable({read:()=>{}});return r.on("data",h=>{let g=s(h)||0;g!==0&&(l.push(`${g.toString(16)}\r
`),l.push(h),l.push(`\r
`))}),r.on("end",async()=>{if(l.push(`0\r
`),u){let h=o(await d);l.push(`${a}:${h}\r
`),l.push(`\r
`)}l.push(null)}),l}});var TT=N(Ky=>{"use strict";Object.defineProperty(Ky,"__esModule",{value:!0});Ky.headStream=R4;async function R4(e,t){let r=0,n=[],o=e.getReader(),s=!1;for(;!s;){let{done:c,value:u}=await o.read();if(u&&(n.push(u),r+=u?.byteLength??0),r>=t)break;s=c}o.releaseLock();let i=new Uint8Array(Math.min(t,r)),a=0;for(let c of n){if(c.byteLength>i.byteLength-a){i.set(c.subarray(0,i.byteLength-a),a);break}else i.set(c,a);a+=c.length}return i}});var vT=N(Ol=>{"use strict";Object.defineProperty(Ol,"__esModule",{value:!0});Ol.headStream=void 0;var C4=Y("stream"),A4=TT(),T4=Xr(),v4=(e,t)=>(0,T4.isReadableStream)(e)?(0,A4.headStream)(e,t):new Promise((r,n)=>{let o=new Yy;o.limit=t,e.pipe(o),e.on("error",s=>{o.end(),n(s)}),o.on("error",n),o.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.buffers));r(s)})});Ol.headStream=v4;var Yy=class extends C4.Writable{buffers=[];limit=1/0;bytesBuffered=0;_write(t,r,n){if(this.buffers.push(t),this.bytesBuffered+=t.byteLength??0,this.bytesBuffered>=this.limit){let o=this.bytesBuffered-this.limit,s=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=s.subarray(0,s.byteLength-o),this.emit("finish")}n()}}});var DT=N(Dl=>{"use strict";Object.defineProperty(Dl,"__esModule",{value:!0});Dl.sdkStreamMixin=void 0;var x4=Km(),I4=je(),O4=Jc(),D4=We(),xT=Xr(),IT="The stream has already been transformed.",N4=e=>{if(!OT(e)&&!(0,xT.isReadableStream)(e)){let o=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${o}`)}let t=!1,r=async()=>{if(t)throw new Error(IT);return t=!0,await(0,x4.streamCollector)(e)},n=o=>{if(typeof o.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return o.stream()};return Object.assign(e,{transformToByteArray:r,transformToString:async o=>{let s=await r();if(o==="base64")return(0,I4.toBase64)(s);if(o==="hex")return(0,O4.toHex)(s);if(o===void 0||o==="utf8"||o==="utf-8")return(0,D4.toUtf8)(s);if(typeof TextDecoder=="function")return new TextDecoder(o).decode(s);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(IT);if(t=!0,OT(e))return n(e);if((0,xT.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};Dl.sdkStreamMixin=N4;var OT=e=>typeof Blob=="function"&&e instanceof Blob});var kT=N(Nl=>{"use strict";Object.defineProperty(Nl,"__esModule",{value:!0});Nl.sdkStreamMixin=void 0;var k4=Un(),$4=fo(),Xy=Y("stream"),L4=DT(),NT="The stream has already been transformed.",M4=e=>{if(!(e instanceof Xy.Readable))try{return(0,L4.sdkStreamMixin)(e)}catch{let o=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${o}`)}let t=!1,r=async()=>{if(t)throw new Error(NT);return t=!0,await(0,k4.streamCollector)(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async n=>{let o=await r();return n===void 0||Buffer.isEncoding(n)?(0,$4.fromArrayBuffer)(o.buffer,o.byteOffset,o.byteLength).toString(n):new TextDecoder(n).decode(o)},transformToWebStream:()=>{if(t)throw new Error(NT);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Xy.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return t=!0,Xy.Readable.toWeb(e)}})};Nl.sdkStreamMixin=M4});var $T=N(Qy=>{"use strict";Object.defineProperty(Qy,"__esModule",{value:!0});Qy.splitStream=U4;async function U4(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var UT=N(Jy=>{"use strict";Object.defineProperty(Jy,"__esModule",{value:!0});Jy.splitStream=q4;var LT=Y("stream"),F4=$T(),MT=Xr();async function q4(e){if((0,MT.isReadableStream)(e)||(0,MT.isBlob)(e))return(0,F4.splitStream)(e);let t=new LT.PassThrough,r=new LT.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var eE=N(Xe=>{"use strict";var FT=je(),qT=We(),jT=jy(),HT=ET(),BT=RT(),VT=AT(),GT=vT(),zT=kT(),WT=UT(),KT=Xr(),Zy=class e extends Uint8Array{static fromString(t,r="utf-8"){if(typeof t=="string")return r==="base64"?e.mutate(FT.fromBase64(t)):e.mutate(qT.fromUtf8(t));throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}static mutate(t){return Object.setPrototypeOf(t,e.prototype),t}transformToString(t="utf-8"){return t==="base64"?FT.toBase64(this):qT.toUtf8(this)}};Object.defineProperty(Xe,"isBlob",{enumerable:!0,get:function(){return KT.isBlob}});Object.defineProperty(Xe,"isReadableStream",{enumerable:!0,get:function(){return KT.isReadableStream}});Xe.Uint8ArrayBlobAdapter=Zy;Object.keys(jT).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Xe,e)&&Object.defineProperty(Xe,e,{enumerable:!0,get:function(){return jT[e]}})});Object.keys(HT).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Xe,e)&&Object.defineProperty(Xe,e,{enumerable:!0,get:function(){return HT[e]}})});Object.keys(BT).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Xe,e)&&Object.defineProperty(Xe,e,{enumerable:!0,get:function(){return BT[e]}})});Object.keys(VT).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Xe,e)&&Object.defineProperty(Xe,e,{enumerable:!0,get:function(){return VT[e]}})});Object.keys(GT).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Xe,e)&&Object.defineProperty(Xe,e,{enumerable:!0,get:function(){return GT[e]}})});Object.keys(zT).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Xe,e)&&Object.defineProperty(Xe,e,{enumerable:!0,get:function(){return zT[e]}})});Object.keys(WT).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Xe,e)&&Object.defineProperty(Xe,e,{enumerable:!0,get:function(){return WT[e]}})})});var YT=N(kl=>{"use strict";Object.defineProperty(kl,"__esModule",{value:!0});kl.createGetRequest=V4;kl.getCredentials=G4;var tE=ct(),j4=Ie(),H4=Ee(),B4=eE();function V4(e){return new j4.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function G4(e,t){let n=await(0,B4.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let o=JSON.parse(n);if(typeof o.AccessKeyId!="string"||typeof o.SecretAccessKey!="string"||typeof o.Token!="string"||typeof o.Expiration!="string")throw new tE.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.Token,expiration:(0,H4.parseRfc3339DateTime)(o.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let o={};try{o=JSON.parse(n)}catch{}throw Object.assign(new tE.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:o.Code,Message:o.Message})}throw new tE.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var XT=N($l=>{"use strict";Object.defineProperty($l,"__esModule",{value:!0});$l.retryWrapper=void 0;var z4=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(s=>setTimeout(s,r))}return await e()};$l.retryWrapper=z4});var ZT=N(Ll=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});Ll.fromHttp=void 0;var W4=($i(),Se(ki)),K4=(Vt(),Se(Hr)),Y4=Un(),QT=ct(),X4=W4.__importDefault(Y("fs/promises")),Q4=hT(),JT=YT(),J4=XT(),Z4="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",e6="http://169.254.170.2",t6="AWS_CONTAINER_CREDENTIALS_FULL_URI",r6="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",n6="AWS_CONTAINER_AUTHORIZATION_TOKEN",o6=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[Z4],n=e.awsContainerCredentialsFullUri??process.env[t6],o=e.awsContainerAuthorizationToken??process.env[n6],s=e.awsContainerAuthorizationTokenFile??process.env[r6],i=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?.warn?console.warn:e.logger.warn.bind(e.logger);if(r&&n&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),i("awsContainerCredentialsFullUri will take precedence.")),o&&s&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),i("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${e6}${r}`;else throw new QT.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,Q4.checkUrl)(a,e.logger);let c=Y4.NodeHttpHandler.create({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,J4.retryWrapper)(async()=>{let u=(0,JT.createGetRequest)(a);o?u.headers.Authorization=o:s&&(u.headers.Authorization=(await X4.default.readFile(s)).toString());try{let d=await c.handle(u);return(0,JT.getCredentials)(d.response).then(l=>(0,K4.setCredentialFeature)(l,"CREDENTIALS_HTTP","z"))}catch(d){throw new QT.CredentialsProviderError(String(d),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};Ll.fromHttp=o6});var rE=N(Ml=>{"use strict";Object.defineProperty(Ml,"__esModule",{value:!0});Ml.fromHttp=void 0;var s6=ZT();Object.defineProperty(Ml,"fromHttp",{enumerable:!0,get:function(){return s6.fromHttp}})});function i6(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function a6(e){return{schemeId:"smithy.api#noAuth"}}var ea,ev,tv,rv,nE=R(()=>{et();ea=T(ht()),ev=async(e,t,r)=>({operation:(0,ea.getSmithyContext)(t).operation,region:await(0,ea.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});tv=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(a6(e));break}default:t.push(i6(e))}return t},rv=e=>{let t=Br(e);return Object.assign(t,{authSchemePreference:(0,ea.normalizeProvider)(e.authSchemePreference??[])})}});var nv,ov,oE=R(()=>{nv=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),ov={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Ms,Ul=R(()=>{Ms={name:"@aws-sdk/nested-clients",version:"3.980.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=20.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.5","@aws-sdk/middleware-host-header":"^3.972.3","@aws-sdk/middleware-logger":"^3.972.3","@aws-sdk/middleware-recursion-detection":"^3.972.3","@aws-sdk/middleware-user-agent":"^3.972.5","@aws-sdk/region-config-resolver":"^3.972.3","@aws-sdk/types":"^3.973.1","@aws-sdk/util-endpoints":"3.980.0","@aws-sdk/util-user-agent-browser":"^3.972.3","@aws-sdk/util-user-agent-node":"^3.972.3","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.22.0","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.12","@smithy/middleware-retry":"^4.4.29","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.8","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.11.1","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.28","@smithy/util-defaults-mode-node":"^4.2.31","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./signin.d.ts","./signin.js","./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/signin/runtimeConfig":"./dist-es/submodules/signin/runtimeConfig.browser","./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./package.json":"./package.json","./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"},"./signin":{types:"./dist-types/submodules/signin/index.d.ts",module:"./dist-es/submodules/signin/index.js",node:"./dist-cjs/submodules/signin/index.js",import:"./dist-es/submodules/signin/index.js",require:"./dist-cjs/submodules/signin/index.js"}}}});var Us=N(vo=>{"use strict";var sv=Y("os"),sE=Y("process"),u6=Co(),iv={isCrtAvailable:!1},l6=()=>iv.isCrtAvailable?["md/crt-avail"]:null,av=({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${sv.platform()}`,sv.release()],["lang/js"],["md/nodejs",`${sE.versions.node}`]],o=l6();o&&n.push(o),e&&n.push([`api/${e}`,t]),sE.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${sE.env.AWS_EXECUTION_ENV}`]);let s=await r?.userAgentAppId?.();return s?[...n,[`app/${s}`]]:[...n]},d6=av,cv="AWS_SDK_UA_APP_ID",uv="sdk_ua_app_id",f6="sdk-ua-app-id",p6={environmentVariableSelector:e=>e[cv],configFileSelector:e=>e[uv]??e[f6],default:u6.DEFAULT_UA_APP_ID};vo.NODE_APP_ID_CONFIG_OPTIONS=p6;vo.UA_APP_ID_ENV_NAME=cv;vo.UA_APP_ID_INI_NAME=uv;vo.createDefaultUserAgentProvider=av;vo.crtAvailability=iv;vo.defaultUserAgent=d6});var Fs=N(fv=>{"use strict";var iE=fo(),m6=We(),h6=Y("buffer"),lv=Y("crypto"),aE=class{algorithmIdentifier;secret;hash;constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update(m6.toUint8Array(dv(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?lv.createHmac(this.algorithmIdentifier,dv(this.secret)):lv.createHash(this.algorithmIdentifier)}};function dv(e,t){return h6.Buffer.isBuffer(e)?e:typeof e=="string"?iE.fromString(e,t):ArrayBuffer.isView(e)?iE.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength):iE.fromArrayBuffer(e)}fv.Hash=aE});var qs=N(pv=>{"use strict";var cE=Y("fs"),g6=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(e instanceof cE.ReadStream){if(e.path!=null)return cE.lstatSync(e.path).size;if(typeof e.fd=="number")return cE.fstatSync(e.fd).size}throw new Error(`Body Length computation failed for ${e}`)};pv.calculateBodyLength=g6});var js=N(yv=>{"use strict";var y6=At(),mv=Er(),E6=ct(),S6="AWS_EXECUTION_ENV",hv="AWS_REGION",gv="AWS_DEFAULT_REGION",_6="AWS_EC2_METADATA_DISABLED",b6=["in-region","cross-region","mobile","standard","legacy"],w6="/latest/meta-data/placement/region",P6="AWS_DEFAULTS_MODE",R6="defaults_mode",C6={environmentVariableSelector:e=>e[P6],configFileSelector:e=>e[R6],default:"legacy"},A6=({region:e=mv.loadConfig(y6.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=mv.loadConfig(C6)}={})=>E6.memoize(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return T6(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${b6.join(", ")}, got ${r}`)}}),T6=async e=>{if(e){let t=typeof e=="function"?await e():e,r=await v6();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},v6=async()=>{if(process.env[S6]&&(process.env[hv]||process.env[gv]))return process.env[hv]??process.env[gv];if(!process.env[_6])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>T(Ji())),r=await e();return(await t({...r,path:w6})).toString()}catch{}};yv.resolveDefaultsModeConfig=A6});var Tv,Wt,Kt,Vs,Ev,ta,Hs,Bs,Zr,uE,lE,Sv,_v,bv,vv,xv,zt,wv,Iv,Pv,Rv,Cv,Av,x6,Ov,Dv=R(()=>{Tv="required",Wt="fn",Kt="argv",Vs="ref",Ev="isSet",ta="booleanEquals",Hs="error",Bs="endpoint",Zr="tree",uE="PartitionResult",lE="getAttr",Sv={[Tv]:!1,type:"string"},_v={[Tv]:!0,default:!1,type:"boolean"},bv={[Vs]:"Endpoint"},vv={[Wt]:ta,[Kt]:[{[Vs]:"UseFIPS"},!0]},xv={[Wt]:ta,[Kt]:[{[Vs]:"UseDualStack"},!0]},zt={},wv={[Wt]:lE,[Kt]:[{[Vs]:uE},"supportsFIPS"]},Iv={[Vs]:uE},Pv={[Wt]:ta,[Kt]:[!0,{[Wt]:lE,[Kt]:[Iv,"supportsDualStack"]}]},Rv=[vv],Cv=[xv],Av=[{[Vs]:"Region"}],x6={version:"1.0",parameters:{Region:Sv,UseDualStack:_v,UseFIPS:_v,Endpoint:Sv},rules:[{conditions:[{[Wt]:Ev,[Kt]:[bv]}],rules:[{conditions:Rv,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Hs},{conditions:Cv,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Hs},{endpoint:{url:bv,properties:zt,headers:zt},type:Bs}],type:Zr},{conditions:[{[Wt]:Ev,[Kt]:Av}],rules:[{conditions:[{[Wt]:"aws.partition",[Kt]:Av,assign:uE}],rules:[{conditions:[vv,xv],rules:[{conditions:[{[Wt]:ta,[Kt]:[!0,wv]},Pv],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:zt,headers:zt},type:Bs}],type:Zr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Hs}],type:Zr},{conditions:Rv,rules:[{conditions:[{[Wt]:ta,[Kt]:[wv,!0]}],rules:[{conditions:[{[Wt]:"stringEquals",[Kt]:[{[Wt]:lE,[Kt]:[Iv,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:zt,headers:zt},type:Bs},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:zt,headers:zt},type:Bs}],type:Zr},{error:"FIPS is enabled but this partition does not support FIPS",type:Hs}],type:Zr},{conditions:Cv,rules:[{conditions:[Pv],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:zt,headers:zt},type:Bs}],type:Zr},{error:"DualStack is enabled but this partition does not support DualStack",type:Hs}],type:Zr},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:zt,headers:zt},type:Bs}],type:Zr}],type:Zr},{error:"Invalid Configuration: Missing Region",type:Hs}]},Ov=x6});var Nv,Gs,I6,kv,$v=R(()=>{Nv=T(gs()),Gs=T(jr());Dv();I6=new Gs.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),kv=(e,t={})=>I6.get(e,()=>(0,Gs.resolveEndpoint)(Ov,{endpointParams:e,logger:t.logger}));Gs.customEndpointFunctions.aws=Nv.awsEndpointFunctions});var Lv,Mv,Fl,ql,Uv,Fv=R(()=>{et();Ro();_t();Lv=T(Ee()),Mv=T(mr()),Fl=T(je()),ql=T(We());nE();$v();Uv=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Fl.fromBase64,base64Encoder:e?.base64Encoder??Fl.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??kv,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??tv,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new at},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new er}],logger:e?.logger??new Lv.NoOpLogger,protocol:e?.protocol??vn,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.ssooidc",version:"2019-06-10",serviceTarget:"AWSSSOOIDCService"},serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??Mv.parseUrl,utf8Decoder:e?.utf8Decoder??ql.fromUtf8,utf8Encoder:e?.utf8Encoder??ql.toUtf8})});var jl,qn,qv,Hl,Fn,Bl,Vl,jv,Hv,Bv,Vv,Gv=R(()=>{Ul();et();jl=T(Us()),qn=T(At()),qv=T(Fs()),Hl=T(rr()),Fn=T(Er()),Bl=T(Un()),Vl=T(Ee()),jv=T(qs()),Hv=T(js()),Bv=T(To());Fv();Vv=e=>{(0,Vl.emitWarningIfUnsupportedVersion)(process.version);let t=(0,Hv.resolveDefaultsModeConfig)(e),r=()=>t().then(Vl.loadConfigsForDefaultMode),n=Uv(e);gn(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Fn.loadConfig)(En,o),bodyLengthChecker:e?.bodyLengthChecker??jv.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,jl.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Ms.version}),maxAttempts:e?.maxAttempts??(0,Fn.loadConfig)(Hl.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Fn.loadConfig)(qn.NODE_REGION_CONFIG_OPTIONS,{...qn.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:Bl.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Fn.loadConfig)({...Hl.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Bv.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??qv.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Bl.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Fn.loadConfig)(qn.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Fn.loadConfig)(qn.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,Fn.loadConfig)(jl.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var Wv=N(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});zs.warning=void 0;zs.stsRegionDefaultResolver=D6;var zv=At(),O6=Er();function D6(e={}){return(0,O6.loadConfig)({...zv.NODE_REGION_CONFIG_OPTIONS,async default(){return zs.warning.silence||console.warn("@aws-sdk - WARN - default STS region of us-east-1 used. See @aws-sdk/credential-providers README and set a region explicitly."),"us-east-1"}},{...zv.NODE_REGION_CONFIG_FILE_OPTIONS,...e})}zs.warning={silence:!1}});var xo=N(br=>{"use strict";var Kv=Wv(),ra=At(),N6=e=>({setRegion(t){e.region=t},region(){return e.region}}),k6=e=>({region:e.region()});Object.defineProperty(br,"NODE_REGION_CONFIG_FILE_OPTIONS",{enumerable:!0,get:function(){return ra.NODE_REGION_CONFIG_FILE_OPTIONS}});Object.defineProperty(br,"NODE_REGION_CONFIG_OPTIONS",{enumerable:!0,get:function(){return ra.NODE_REGION_CONFIG_OPTIONS}});Object.defineProperty(br,"REGION_ENV_NAME",{enumerable:!0,get:function(){return ra.REGION_ENV_NAME}});Object.defineProperty(br,"REGION_INI_NAME",{enumerable:!0,get:function(){return ra.REGION_INI_NAME}});Object.defineProperty(br,"resolveRegionConfig",{enumerable:!0,get:function(){return ra.resolveRegionConfig}});br.getAwsRegionExtensionConfiguration=N6;br.resolveAwsRegionExtensionConfiguration=k6;Object.keys(Kv).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(br,e)&&Object.defineProperty(br,e,{enumerable:!0,get:function(){return Kv[e]}})})});var Yv,Xv,Qv=R(()=>{Yv=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},Xv=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Gl,zl,Wl,Jv,Zv=R(()=>{Gl=T(xo()),zl=T(Ie()),Wl=T(Ee());Qv();Jv=(e,t)=>{let r=Object.assign((0,Gl.getAwsRegionExtensionConfiguration)(e),(0,Wl.getDefaultExtensionConfiguration)(e),(0,zl.getHttpHandlerExtensionConfiguration)(e),Yv(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Gl.resolveAwsRegionExtensionConfiguration)(r),(0,Wl.resolveDefaultRuntimeConfig)(r),(0,zl.resolveHttpHandlerRuntimeConfig)(r),Xv(r))}});var Kl,ex,tx,Yl,rx,nx,ox,Xl,dE,na,fE=R(()=>{Kl=T(rs()),ex=T(ns()),tx=T(os()),Yl=T(Co()),rx=T(At());_t();Te();nx=T(Os()),ox=T(Sr()),Xl=T(rr()),dE=T(Ee());nE();oE();Gv();Zv();na=class extends dE.Client{config;constructor(...[t]){let r=Vv(t||{});super(r),this.initConfig=r;let n=nv(r),o=(0,Yl.resolveUserAgentConfig)(n),s=(0,Xl.resolveRetryConfig)(o),i=(0,rx.resolveRegionConfig)(s),a=(0,Kl.resolveHostHeaderConfig)(i),c=(0,ox.resolveEndpointConfig)(a),u=rv(c),d=Jv(u,t?.extensions||[]);this.config=d,this.middlewareStack.use(po(this.config)),this.middlewareStack.use((0,Yl.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Xl.getRetryPlugin)(this.config)),this.middlewareStack.use((0,nx.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Kl.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,ex.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,tx.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(uo(this.config,{httpAuthSchemeParametersProvider:ev,identityProviderConfigProvider:async l=>new qr({"aws.auth#sigv4":l.credentials})})),this.middlewareStack.use(lo(this.config))}destroy(){super.destroy()}}});var sx,Qe,Ql=R(()=>{sx=T(Ee()),Qe=class e extends sx.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var oa,sa,ia,aa,ca,ua,la,da,fa,pa,ma,pE=R(()=>{Ql();oa=class e extends Qe{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},sa=class e extends Qe{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ia=class e extends Qe{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},aa=class e extends Qe{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ca=class e extends Qe{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ua=class e extends Qe{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},la=class e extends Qe{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},da=class e extends Qe{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},fa=class e extends Qe{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},pa=class e extends Qe{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ma=class e extends Qe{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var $6,L6,M6,U6,F6,q6,j6,H6,B6,V6,G6,z6,W6,K6,Y6,X6,Q6,J6,Z6,eW,wr,tW,rW,nW,oW,sW,Be,iW,nr,aW,cW,or,uW,ix,ax,lW,dW,fW,cx,pW,ve,mW,hW,gW,yW,ux,lx,dx,fx,px,mx,hx,gx,yx,Ex,Sx,_x,bx,wx,Px,mE,hE=R(()=>{Te();pE();Ql();$6="AccessDeniedException",L6="AuthorizationPendingException",M6="AccessToken",U6="ClientSecret",F6="CreateToken",q6="CreateTokenRequest",j6="CreateTokenResponse",H6="CodeVerifier",B6="ExpiredTokenException",V6="InvalidClientException",G6="InvalidGrantException",z6="InvalidRequestException",W6="InternalServerException",K6="InvalidScopeException",Y6="IdToken",X6="RefreshToken",Q6="SlowDownException",J6="UnauthorizedClientException",Z6="UnsupportedGrantTypeException",eW="accessToken",wr="client",tW="clientId",rW="clientSecret",nW="codeVerifier",oW="code",sW="deviceCode",Be="error",iW="expiresIn",nr="error_description",aW="grantType",cW="http",or="httpError",uW="idToken",ix="reason",ax="refreshToken",lW="redirectUri",dW="scope",fW="server",cx="smithy.ts.sdk.synthetic.com.amazonaws.ssooidc",pW="tokenType",ve="com.amazonaws.ssooidc",mW=[0,ve,M6,8,0],hW=[0,ve,U6,8,0],gW=[0,ve,H6,8,0],yW=[0,ve,Y6,8,0],ux=[0,ve,X6,8,0],lx=[-3,ve,$6,{[Be]:wr,[or]:400},[Be,ix,nr],[0,0,0]];ae.for(ve).registerError(lx,oa);dx=[-3,ve,L6,{[Be]:wr,[or]:400},[Be,nr],[0,0]];ae.for(ve).registerError(dx,sa);fx=[3,ve,q6,0,[tW,rW,aW,sW,oW,ax,dW,lW,nW],[0,[()=>hW,0],0,0,0,[()=>ux,0],64,0,[()=>gW,0]],3],px=[3,ve,j6,0,[eW,pW,iW,ax,uW],[[()=>mW,0],0,1,[()=>ux,0],[()=>yW,0]]],mx=[-3,ve,B6,{[Be]:wr,[or]:400},[Be,nr],[0,0]];ae.for(ve).registerError(mx,ia);hx=[-3,ve,W6,{[Be]:fW,[or]:500},[Be,nr],[0,0]];ae.for(ve).registerError(hx,aa);gx=[-3,ve,V6,{[Be]:wr,[or]:401},[Be,nr],[0,0]];ae.for(ve).registerError(gx,ca);yx=[-3,ve,G6,{[Be]:wr,[or]:400},[Be,nr],[0,0]];ae.for(ve).registerError(yx,ua);Ex=[-3,ve,z6,{[Be]:wr,[or]:400},[Be,ix,nr],[0,0,0]];ae.for(ve).registerError(Ex,la);Sx=[-3,ve,K6,{[Be]:wr,[or]:400},[Be,nr],[0,0]];ae.for(ve).registerError(Sx,da);_x=[-3,ve,Q6,{[Be]:wr,[or]:400},[Be,nr],[0,0]];ae.for(ve).registerError(_x,fa);bx=[-3,ve,J6,{[Be]:wr,[or]:400},[Be,nr],[0,0]];ae.for(ve).registerError(bx,pa);wx=[-3,ve,Z6,{[Be]:wr,[or]:400},[Be,nr],[0,0]];ae.for(ve).registerError(wx,ma);Px=[-3,cx,"SSOOIDCServiceException",0,[],[]];ae.for(cx).registerError(Px,Qe);mE=[9,ve,F6,{[cW]:["POST","/token",200]},()=>fx,()=>px]});var Rx,gE,ha,yE=R(()=>{Rx=T(Sr()),gE=T(Ee());oE();hE();ha=class extends gE.Command.classBuilder().ep(ov).m(function(t,r,n,o){return[(0,Rx.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").sc(mE).build(){}});var Cx,EW,Jl,Ax=R(()=>{Cx=T(Ee());yE();fE();EW={CreateTokenCommand:ha},Jl=class extends na{};(0,Cx.createAggregatedClient)(EW,Jl)});var Tx=R(()=>{yE()});var SW,_W,vx=R(()=>{SW={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},_W={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"}});var xx=R(()=>{});var EE={};ot(EE,{$Command:()=>gE.Command,AccessDeniedException:()=>oa,AccessDeniedException$:()=>lx,AccessDeniedExceptionReason:()=>SW,AuthorizationPendingException:()=>sa,AuthorizationPendingException$:()=>dx,CreateToken$:()=>mE,CreateTokenCommand:()=>ha,CreateTokenRequest$:()=>fx,CreateTokenResponse$:()=>px,ExpiredTokenException:()=>ia,ExpiredTokenException$:()=>mx,InternalServerException:()=>aa,InternalServerException$:()=>hx,InvalidClientException:()=>ca,InvalidClientException$:()=>gx,InvalidGrantException:()=>ua,InvalidGrantException$:()=>yx,InvalidRequestException:()=>la,InvalidRequestException$:()=>Ex,InvalidRequestExceptionReason:()=>_W,InvalidScopeException:()=>da,InvalidScopeException$:()=>Sx,SSOOIDC:()=>Jl,SSOOIDCClient:()=>na,SSOOIDCServiceException:()=>Qe,SSOOIDCServiceException$:()=>Px,SlowDownException:()=>fa,SlowDownException$:()=>_x,UnauthorizedClientException:()=>pa,UnauthorizedClientException$:()=>bx,UnsupportedGrantTypeException:()=>ma,UnsupportedGrantTypeException$:()=>wx,__Client:()=>dE.Client});var SE=R(()=>{fE();Ax();Tx();hE();vx();pE();xx();Ql()});var Nx=N(ya=>{"use strict";var bW=(Vt(),Se(Hr)),wW=(Sg(),Se(IC)),$t=ct(),ga=yr(),PW=Y("fs"),RW=({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new $t.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=wW.getBearerTokenEnvKey(t);if(!(r in process.env))throw new $t.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return bW.setTokenFeature(n,"BEARER_SERVICE_ENV_VARS","3"),n},CW=5*60*1e3,_E="To refresh this SSO session run 'aws sso login' with the corresponding profile.",AW=async(e,t={},r)=>{let{SSOOIDCClient:n}=await Promise.resolve().then(()=>(SE(),EE)),o=i=>t.clientConfig?.[i]??t.parentClientConfig?.[i]??r?.[i];return new n(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:o("logger"),userAgentAppId:o("userAgentAppId")}))},TW=async(e,t,r={},n)=>{let{CreateTokenCommand:o}=await Promise.resolve().then(()=>(SE(),EE));return(await AW(t,r,n)).send(new o({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},Ix=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new $t.TokenProviderError(`Token is expired. ${_E}`,!1)},Io=(e,t,r=!1)=>{if(typeof t>"u")throw new $t.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${_E}`,!1)},{writeFile:vW}=PW.promises,xW=(e,t)=>{let r=ga.getSSOTokenFilepath(e),n=JSON.stringify(t,null,2);return vW(r,n)},Ox=new Date(0),Dx=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/token-providers - fromSso");let r=await ga.parseKnownFiles(e),n=ga.getProfileName({profile:e.profile??t?.profile}),o=r[n];if(o){if(!o.sso_session)throw new $t.TokenProviderError(`Profile '${n}' is missing required property 'sso_session'.`)}else throw new $t.TokenProviderError(`Profile '${n}' could not be found in shared credentials file.`,!1);let s=o.sso_session,a=(await ga.loadSsoSessionData(e))[s];if(!a)throw new $t.TokenProviderError(`Sso session '${s}' could not be found in shared credentials file.`,!1);for(let g of["sso_start_url","sso_region"])if(!a[g])throw new $t.TokenProviderError(`Sso session '${s}' is missing required property '${g}'.`,!1);a.sso_start_url;let c=a.sso_region,u;try{u=await ga.getSSOTokenFromFile(s)}catch{throw new $t.TokenProviderError(`The SSO session token associated with profile=${n} was not found or is invalid. ${_E}`,!1)}Io("accessToken",u.accessToken),Io("expiresAt",u.expiresAt);let{accessToken:d,expiresAt:l}=u,h={token:d,expiration:new Date(l)};if(h.expiration.getTime()-Date.now()>CW)return h;if(Date.now()-Ox.getTime()<30*1e3)return Ix(h),h;Io("clientId",u.clientId,!0),Io("clientSecret",u.clientSecret,!0),Io("refreshToken",u.refreshToken,!0);try{Ox.setTime(Date.now());let g=await TW(u,c,e,t);Io("accessToken",g.accessToken),Io("expiresIn",g.expiresIn);let S=new Date(Date.now()+g.expiresIn*1e3);try{await xW(s,{...u,accessToken:g.accessToken,expiresAt:S.toISOString(),refreshToken:g.refreshToken})}catch{}return{token:g.accessToken,expiration:S}}catch{return Ix(h),h}},IW=({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new $t.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},OW=(e={})=>$t.memoize($t.chain(Dx(e),async()=>{throw new $t.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);ya.fromEnvSigningName=RW;ya.fromSso=Dx;ya.fromStatic=IW;ya.nodeProvider=OW});var wE=N(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});jn.resolveHttpAuthSchemeConfig=jn.defaultSSOHttpAuthSchemeProvider=jn.defaultSSOHttpAuthSchemeParametersProvider=void 0;var DW=(et(),Se(On)),bE=ht(),NW=async(e,t,r)=>({operation:(0,bE.getSmithyContext)(t).operation,region:await(0,bE.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});jn.defaultSSOHttpAuthSchemeParametersProvider=NW;function kW(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Zl(e){return{schemeId:"smithy.api#noAuth"}}var $W=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(Zl(e));break}case"ListAccountRoles":{t.push(Zl(e));break}case"ListAccounts":{t.push(Zl(e));break}case"Logout":{t.push(Zl(e));break}default:t.push(kW(e))}return t};jn.defaultSSOHttpAuthSchemeProvider=$W;var LW=e=>{let t=(0,DW.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,bE.normalizeProvider)(e.authSchemePreference??[])})};jn.resolveHttpAuthSchemeConfig=LW});var kx=N((pue,MW)=>{MW.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.980.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.5","@aws-sdk/middleware-host-header":"^3.972.3","@aws-sdk/middleware-logger":"^3.972.3","@aws-sdk/middleware-recursion-detection":"^3.972.3","@aws-sdk/middleware-user-agent":"^3.972.5","@aws-sdk/region-config-resolver":"^3.972.3","@aws-sdk/types":"^3.973.1","@aws-sdk/util-endpoints":"3.980.0","@aws-sdk/util-user-agent-browser":"^3.972.3","@aws-sdk/util-user-agent-node":"^3.972.3","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.22.0","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.12","@smithy/middleware-retry":"^4.4.29","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.8","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.11.1","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.28","@smithy/util-defaults-mode-node":"^4.2.31","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node20":"20.1.8","@types/node":"^20.14.8",concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},engines:{node:">=20.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var Yx=N(ed=>{"use strict";Object.defineProperty(ed,"__esModule",{value:!0});ed.ruleSet=void 0;var Gx="required",Xt="fn",Qt="argv",Ys="ref",$x=!0,Lx="isSet",Ea="booleanEquals",Ws="error",Ks="endpoint",en="tree",PE="PartitionResult",RE="getAttr",Mx={[Gx]:!1,type:"string"},Ux={[Gx]:!0,default:!1,type:"boolean"},Fx={[Ys]:"Endpoint"},zx={[Xt]:Ea,[Qt]:[{[Ys]:"UseFIPS"},!0]},Wx={[Xt]:Ea,[Qt]:[{[Ys]:"UseDualStack"},!0]},Yt={},qx={[Xt]:RE,[Qt]:[{[Ys]:PE},"supportsFIPS"]},Kx={[Ys]:PE},jx={[Xt]:Ea,[Qt]:[!0,{[Xt]:RE,[Qt]:[Kx,"supportsDualStack"]}]},Hx=[zx],Bx=[Wx],Vx=[{[Ys]:"Region"}],UW={version:"1.0",parameters:{Region:Mx,UseDualStack:Ux,UseFIPS:Ux,Endpoint:Mx},rules:[{conditions:[{[Xt]:Lx,[Qt]:[Fx]}],rules:[{conditions:Hx,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Ws},{conditions:Bx,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Ws},{endpoint:{url:Fx,properties:Yt,headers:Yt},type:Ks}],type:en},{conditions:[{[Xt]:Lx,[Qt]:Vx}],rules:[{conditions:[{[Xt]:"aws.partition",[Qt]:Vx,assign:PE}],rules:[{conditions:[zx,Wx],rules:[{conditions:[{[Xt]:Ea,[Qt]:[$x,qx]},jx],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Yt,headers:Yt},type:Ks}],type:en},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Ws}],type:en},{conditions:Hx,rules:[{conditions:[{[Xt]:Ea,[Qt]:[qx,$x]}],rules:[{conditions:[{[Xt]:"stringEquals",[Qt]:[{[Xt]:RE,[Qt]:[Kx,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Yt,headers:Yt},type:Ks},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Yt,headers:Yt},type:Ks}],type:en},{error:"FIPS is enabled but this partition does not support FIPS",type:Ws}],type:en},{conditions:Bx,rules:[{conditions:[jx],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Yt,headers:Yt},type:Ks}],type:en},{error:"DualStack is enabled but this partition does not support DualStack",type:Ws}],type:en},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Yt,headers:Yt},type:Ks}],type:en}],type:en},{error:"Invalid Configuration: Missing Region",type:Ws}]};ed.ruleSet=UW});var Xx=N(td=>{"use strict";Object.defineProperty(td,"__esModule",{value:!0});td.defaultEndpointResolver=void 0;var FW=gs(),CE=jr(),qW=Yx(),jW=new CE.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),HW=(e,t={})=>jW.get(e,()=>(0,CE.resolveEndpoint)(qW.ruleSet,{endpointParams:e,logger:t.logger}));td.defaultEndpointResolver=HW;CE.customEndpointFunctions.aws=FW.awsEndpointFunctions});var Zx=N(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});rd.getRuntimeConfig=void 0;var BW=(et(),Se(On)),VW=(Ro(),Se(ay)),GW=(_t(),Se(ms)),zW=Ee(),WW=mr(),Qx=je(),Jx=We(),KW=wE(),YW=Xx(),XW=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Qx.fromBase64,base64Encoder:e?.base64Encoder??Qx.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??YW.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??KW.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new BW.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new GW.NoAuthSigner}],logger:e?.logger??new zW.NoOpLogger,protocol:e?.protocol??VW.AwsRestJsonProtocol,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.sso",version:"2019-06-10",serviceTarget:"SWBPortalService"},serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??WW.parseUrl,utf8Decoder:e?.utf8Decoder??Jx.fromUtf8,utf8Encoder:e?.utf8Encoder??Jx.toUtf8});rd.getRuntimeConfig=XW});var sI=N(od=>{"use strict";Object.defineProperty(od,"__esModule",{value:!0});od.getRuntimeConfig=void 0;var QW=($i(),Se(ki)),JW=QW.__importDefault(kx()),eI=(et(),Se(On)),tI=Us(),nd=At(),ZW=Fs(),rI=rr(),Oo=Er(),nI=Un(),oI=Ee(),e8=qs(),t8=js(),r8=To(),n8=Zx(),o8=e=>{(0,oI.emitWarningIfUnsupportedVersion)(process.version);let t=(0,t8.resolveDefaultsModeConfig)(e),r=()=>t().then(oI.loadConfigsForDefaultMode),n=(0,n8.getRuntimeConfig)(e);(0,eI.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Oo.loadConfig)(eI.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??e8.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,tI.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:JW.default.version}),maxAttempts:e?.maxAttempts??(0,Oo.loadConfig)(rI.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Oo.loadConfig)(nd.NODE_REGION_CONFIG_OPTIONS,{...nd.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:nI.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Oo.loadConfig)({...rI.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||r8.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??ZW.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??nI.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Oo.loadConfig)(nd.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Oo.loadConfig)(nd.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,Oo.loadConfig)(tI.NODE_APP_ID_CONFIG_OPTIONS,o)}};od.getRuntimeConfig=o8});var FI=N(be=>{"use strict";var iI=rs(),s8=ns(),i8=os(),aI=Co(),a8=At(),Sa=(_t(),Se(ms)),Qs=(Te(),Se(uu)),c8=Os(),wa=Sr(),cI=rr(),sr=Ee(),uI=wE(),u8=sI(),lI=xo(),dI=Ie(),l8=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),fd={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},d8=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},f8=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),p8=(e,t)=>{let r=Object.assign(lI.getAwsRegionExtensionConfiguration(e),sr.getDefaultExtensionConfiguration(e),dI.getHttpHandlerExtensionConfiguration(e),d8(e));return t.forEach(n=>n.configure(r)),Object.assign(e,lI.resolveAwsRegionExtensionConfiguration(r),sr.resolveDefaultRuntimeConfig(r),dI.resolveHttpHandlerRuntimeConfig(r),f8(r))},Xs=class extends sr.Client{config;constructor(...[t]){let r=u8.getRuntimeConfig(t||{});super(r),this.initConfig=r;let n=l8(r),o=aI.resolveUserAgentConfig(n),s=cI.resolveRetryConfig(o),i=a8.resolveRegionConfig(s),a=iI.resolveHostHeaderConfig(i),c=wa.resolveEndpointConfig(a),u=uI.resolveHttpAuthSchemeConfig(c),d=p8(u,t?.extensions||[]);this.config=d,this.middlewareStack.use(Qs.getSchemaSerdePlugin(this.config)),this.middlewareStack.use(aI.getUserAgentPlugin(this.config)),this.middlewareStack.use(cI.getRetryPlugin(this.config)),this.middlewareStack.use(c8.getContentLengthPlugin(this.config)),this.middlewareStack.use(iI.getHostHeaderPlugin(this.config)),this.middlewareStack.use(s8.getLoggerPlugin(this.config)),this.middlewareStack.use(i8.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(Sa.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:uI.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async l=>new Sa.DefaultIdentityProviderConfig({"aws.auth#sigv4":l.credentials})})),this.middlewareStack.use(Sa.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},Hn=class e extends sr.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},sd=class e extends Hn{name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},id=class e extends Hn{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ad=class e extends Hn{name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},cd=class e extends Hn{name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},m8="AccountInfo",h8="AccountListType",g8="AccessTokenType",y8="GetRoleCredentials",E8="GetRoleCredentialsRequest",S8="GetRoleCredentialsResponse",_8="InvalidRequestException",b8="Logout",w8="ListAccounts",P8="ListAccountsRequest",R8="ListAccountRolesRequest",C8="ListAccountRolesResponse",A8="ListAccountsResponse",T8="ListAccountRoles",v8="LogoutRequest",x8="RoleCredentials",I8="RoleInfo",O8="RoleListType",D8="ResourceNotFoundException",N8="SecretAccessKeyType",k8="SessionTokenType",$8="TooManyRequestsException",L8="UnauthorizedException",pd="accountId",M8="accessKeyId",U8="accountList",F8="accountName",md="accessToken",fI="account_id",hd="client",gd="error",q8="emailAddress",j8="expiration",yd="http",Ed="httpError",Sd="httpHeader",Do="httpQuery",_d="message",pI="maxResults",mI="max_result",bd="nextToken",hI="next_token",H8="roleCredentials",B8="roleList",gI="roleName",V8="role_name",yI="smithy.ts.sdk.synthetic.com.amazonaws.sso",G8="secretAccessKey",z8="sessionToken",wd="x-amz-sso_bearer_token",$e="com.amazonaws.sso",Pd=[0,$e,g8,8,0],W8=[0,$e,N8,8,0],K8=[0,$e,k8,8,0],EI=[3,$e,m8,0,[pd,F8,q8],[0,0,0]],SI=[3,$e,E8,0,[gI,pd,md],[[0,{[Do]:V8}],[0,{[Do]:fI}],[()=>Pd,{[Sd]:wd}]],3],_I=[3,$e,S8,0,[H8],[[()=>vI,0]]],bI=[-3,$e,_8,{[gd]:hd,[Ed]:400},[_d],[0]];Qs.TypeRegistry.for($e).registerError(bI,sd);var wI=[3,$e,R8,0,[md,pd,bd,pI],[[()=>Pd,{[Sd]:wd}],[0,{[Do]:fI}],[0,{[Do]:hI}],[1,{[Do]:mI}]],2],PI=[3,$e,C8,0,[bd,B8],[0,()=>Q8]],RI=[3,$e,P8,0,[md,bd,pI],[[()=>Pd,{[Sd]:wd}],[0,{[Do]:hI}],[1,{[Do]:mI}]],1],CI=[3,$e,A8,0,[bd,U8],[0,()=>X8]],AI=[3,$e,v8,0,[md],[[()=>Pd,{[Sd]:wd}]],1],TI=[-3,$e,D8,{[gd]:hd,[Ed]:404},[_d],[0]];Qs.TypeRegistry.for($e).registerError(TI,id);var vI=[3,$e,x8,0,[M8,G8,z8,j8],[0,[()=>W8,0],[()=>K8,0],1]],xI=[3,$e,I8,0,[gI,pd],[0,0]],II=[-3,$e,$8,{[gd]:hd,[Ed]:429},[_d],[0]];Qs.TypeRegistry.for($e).registerError(II,ad);var OI=[-3,$e,L8,{[gd]:hd,[Ed]:401},[_d],[0]];Qs.TypeRegistry.for($e).registerError(OI,cd);var Y8="unit",DI=[-3,yI,"SSOServiceException",0,[],[]];Qs.TypeRegistry.for(yI).registerError(DI,Hn);var X8=[1,$e,h8,0,()=>EI],Q8=[1,$e,O8,0,()=>xI],NI=[9,$e,y8,{[yd]:["GET","/federation/credentials",200]},()=>SI,()=>_I],kI=[9,$e,T8,{[yd]:["GET","/assignment/roles",200]},()=>wI,()=>PI],$I=[9,$e,w8,{[yd]:["GET","/assignment/accounts",200]},()=>RI,()=>CI],LI=[9,$e,b8,{[yd]:["POST","/logout",200]},()=>AI,()=>Y8],ud=class extends sr.Command.classBuilder().ep(fd).m(function(t,r,n,o){return[wa.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").sc(NI).build(){},_a=class extends sr.Command.classBuilder().ep(fd).m(function(t,r,n,o){return[wa.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").sc(kI).build(){},ba=class extends sr.Command.classBuilder().ep(fd).m(function(t,r,n,o){return[wa.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").sc($I).build(){},ld=class extends sr.Command.classBuilder().ep(fd).m(function(t,r,n,o){return[wa.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").sc(LI).build(){},MI=Sa.createPaginator(Xs,_a,"nextToken","nextToken","maxResults"),UI=Sa.createPaginator(Xs,ba,"nextToken","nextToken","maxResults"),J8={GetRoleCredentialsCommand:ud,ListAccountRolesCommand:_a,ListAccountsCommand:ba,LogoutCommand:ld},Z8={paginateListAccountRoles:MI,paginateListAccounts:UI},dd=class extends Xs{};sr.createAggregatedClient(J8,dd,{paginators:Z8});Object.defineProperty(be,"$Command",{enumerable:!0,get:function(){return sr.Command}});Object.defineProperty(be,"__Client",{enumerable:!0,get:function(){return sr.Client}});be.AccountInfo$=EI;be.GetRoleCredentials$=NI;be.GetRoleCredentialsCommand=ud;be.GetRoleCredentialsRequest$=SI;be.GetRoleCredentialsResponse$=_I;be.InvalidRequestException=sd;be.InvalidRequestException$=bI;be.ListAccountRoles$=kI;be.ListAccountRolesCommand=_a;be.ListAccountRolesRequest$=wI;be.ListAccountRolesResponse$=PI;be.ListAccounts$=$I;be.ListAccountsCommand=ba;be.ListAccountsRequest$=RI;be.ListAccountsResponse$=CI;be.Logout$=LI;be.LogoutCommand=ld;be.LogoutRequest$=AI;be.ResourceNotFoundException=id;be.ResourceNotFoundException$=TI;be.RoleCredentials$=vI;be.RoleInfo$=xI;be.SSO=dd;be.SSOClient=Xs;be.SSOServiceException=Hn;be.SSOServiceException$=DI;be.TooManyRequestsException=ad;be.TooManyRequestsException$=II;be.UnauthorizedException=cd;be.UnauthorizedException$=OI;be.paginateListAccountRoles=MI;be.paginateListAccounts=UI});var jI=N(AE=>{"use strict";var qI=FI();Object.defineProperty(AE,"GetRoleCredentialsCommand",{enumerable:!0,get:function(){return qI.GetRoleCredentialsCommand}});Object.defineProperty(AE,"SSOClient",{enumerable:!0,get:function(){return qI.SSOClient}})});var TE=N(Cd=>{"use strict";var ir=ct(),Rd=yr(),HI=(Vt(),Se(Hr)),eK=Nx(),VI=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),Pa=!1,BI=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,clientConfig:i,parentClientConfig:a,callerClientConfig:c,profile:u,filepath:d,configFilepath:l,ignoreCache:h,logger:g})=>{let S,C="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let Je=await eK.fromSso({profile:u,filepath:d,configFilepath:l,ignoreCache:h})();S={accessToken:Je.token,expiresAt:new Date(Je.expiration).toISOString()}}catch(Je){throw new ir.CredentialsProviderError(Je.message,{tryNextLink:Pa,logger:g})}else try{S=await Rd.getSSOTokenFromFile(e)}catch{throw new ir.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${C}`,{tryNextLink:Pa,logger:g})}if(new Date(S.expiresAt).getTime()-Date.now()<=0)throw new ir.CredentialsProviderError(`The SSO session associated with this profile has expired. ${C}`,{tryNextLink:Pa,logger:g});let{accessToken:E}=S,{SSOClient:D,GetRoleCredentialsCommand:M}=await Promise.resolve().then(function(){return jI()}),q=s||new D(Object.assign({},i??{},{logger:i?.logger??c?.logger??a?.logger,region:i?.region??n,userAgentAppId:i?.userAgentAppId??c?.userAgentAppId??a?.userAgentAppId})),z;try{z=await q.send(new M({accountId:r,roleName:o,accessToken:E}))}catch(Je){throw new ir.CredentialsProviderError(Je,{tryNextLink:Pa,logger:g})}let{roleCredentials:{accessKeyId:H,secretAccessKey:oe,sessionToken:Pe,expiration:V,credentialScope:G,accountId:j}={}}=z;if(!H||!oe||!Pe||!V)throw new ir.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:Pa,logger:g});let _e={accessKeyId:H,secretAccessKey:oe,sessionToken:Pe,expiration:new Date(V),...G&&{credentialScope:G},...j&&{accountId:j}};return t?HI.setCredentialFeature(_e,"CREDENTIALS_SSO","s"):HI.setCredentialFeature(_e,"CREDENTIALS_SSO_LEGACY","u"),_e},GI=(e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:o,sso_role_name:s}=e;if(!r||!n||!o||!s)throw new ir.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},tK=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoSession:i}=e,{ssoClient:a}=e,c=Rd.getProfileName({profile:e.profile??t?.profile});if(!r&&!n&&!o&&!s&&!i){let d=(await Rd.parseKnownFiles(e))[c];if(!d)throw new ir.CredentialsProviderError(`Profile ${c} was not found.`,{logger:e.logger});if(!VI(d))throw new ir.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:e.logger});if(d?.sso_session){let D=(await Rd.loadSsoSessionData(e))[d.sso_session],M=` configurations in profile ${c} and sso-session ${d.sso_session}`;if(o&&o!==D.sso_region)throw new ir.CredentialsProviderError("Conflicting SSO region"+M,{tryNextLink:!1,logger:e.logger});if(r&&r!==D.sso_start_url)throw new ir.CredentialsProviderError("Conflicting SSO start_url"+M,{tryNextLink:!1,logger:e.logger});d.sso_region=D.sso_region,d.sso_start_url=D.sso_start_url}let{sso_start_url:l,sso_account_id:h,sso_region:g,sso_role_name:S,sso_session:C}=GI(d,e.logger);return BI({ssoStartUrl:l,ssoSession:C,ssoAccountId:h,ssoRegion:g,ssoRoleName:S,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,callerClientConfig:e.callerClientConfig,profile:c,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}else{if(!r||!n||!o||!s)throw new ir.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return BI({ssoStartUrl:r,ssoSession:i,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,callerClientConfig:e.callerClientConfig,profile:c,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}};Cd.fromSSO=tK;Cd.isSsoProfile=VI;Cd.validateSsoProfile=GI});function rK(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"signin",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function nK(e){return{schemeId:"smithy.api#noAuth"}}var Ra,zI,WI,KI,vE=R(()=>{et();Ra=T(ht()),zI=async(e,t,r)=>({operation:(0,Ra.getSmithyContext)(t).operation,region:await(0,Ra.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});WI=e=>{let t=[];switch(e.operation){case"CreateOAuth2Token":{t.push(nK(e));break}default:t.push(rK(e))}return t},KI=e=>{let t=Br(e);return Object.assign(t,{authSchemePreference:(0,Ra.normalizeProvider)(e.authSchemePreference??[])})}});var YI,XI,xE=R(()=>{YI=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"signin"}),XI={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var oO,ft,pt,tn,QI,No,Js,Bn,ar,vd,IE,JI,ZI,eO,OE,DE,dt,NE,Ad,Td,tO,rO,nO,oK,sO,iO=R(()=>{oO="required",ft="fn",pt="argv",tn="ref",QI="isSet",No="booleanEquals",Js="error",Bn="endpoint",ar="tree",vd="PartitionResult",IE="stringEquals",JI={[oO]:!0,default:!1,type:"boolean"},ZI={[oO]:!1,type:"string"},eO={[tn]:"Endpoint"},OE={[ft]:No,[pt]:[{[tn]:"UseFIPS"},!0]},DE={[ft]:No,[pt]:[{[tn]:"UseDualStack"},!0]},dt={},NE={[ft]:"getAttr",[pt]:[{[tn]:vd},"name"]},Ad={[ft]:No,[pt]:[{[tn]:"UseFIPS"},!1]},Td={[ft]:No,[pt]:[{[tn]:"UseDualStack"},!1]},tO={[ft]:"getAttr",[pt]:[{[tn]:vd},"supportsFIPS"]},rO={[ft]:No,[pt]:[!0,{[ft]:"getAttr",[pt]:[{[tn]:vd},"supportsDualStack"]}]},nO=[{[tn]:"Region"}],oK={version:"1.0",parameters:{UseDualStack:JI,UseFIPS:JI,Endpoint:ZI,Region:ZI},rules:[{conditions:[{[ft]:QI,[pt]:[eO]}],rules:[{conditions:[OE],error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Js},{rules:[{conditions:[DE],error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Js},{endpoint:{url:eO,properties:dt,headers:dt},type:Bn}],type:ar}],type:ar},{rules:[{conditions:[{[ft]:QI,[pt]:nO}],rules:[{conditions:[{[ft]:"aws.partition",[pt]:nO,assign:vd}],rules:[{conditions:[{[ft]:IE,[pt]:[NE,"aws"]},Ad,Td],endpoint:{url:"https://{Region}.signin.aws.amazon.com",properties:dt,headers:dt},type:Bn},{conditions:[{[ft]:IE,[pt]:[NE,"aws-cn"]},Ad,Td],endpoint:{url:"https://{Region}.signin.amazonaws.cn",properties:dt,headers:dt},type:Bn},{conditions:[{[ft]:IE,[pt]:[NE,"aws-us-gov"]},Ad,Td],endpoint:{url:"https://{Region}.signin.amazonaws-us-gov.com",properties:dt,headers:dt},type:Bn},{conditions:[OE,DE],rules:[{conditions:[{[ft]:No,[pt]:[!0,tO]},rO],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:dt,headers:dt},type:Bn}],type:ar},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Js}],type:ar},{conditions:[OE,Td],rules:[{conditions:[{[ft]:No,[pt]:[tO,!0]}],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dnsSuffix}",properties:dt,headers:dt},type:Bn}],type:ar},{error:"FIPS is enabled but this partition does not support FIPS",type:Js}],type:ar},{conditions:[Ad,DE],rules:[{conditions:[rO],rules:[{endpoint:{url:"https://signin.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:dt,headers:dt},type:Bn}],type:ar},{error:"DualStack is enabled but this partition does not support DualStack",type:Js}],type:ar},{endpoint:{url:"https://signin.{Region}.{PartitionResult#dnsSuffix}",properties:dt,headers:dt},type:Bn}],type:ar}],type:ar},{error:"Invalid Configuration: Missing Region",type:Js}],type:ar}]},sO=oK});var aO,Zs,sK,cO,uO=R(()=>{aO=T(gs()),Zs=T(jr());iO();sK=new Zs.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),cO=(e,t={})=>sK.get(e,()=>(0,Zs.resolveEndpoint)(sO,{endpointParams:e,logger:t.logger}));Zs.customEndpointFunctions.aws=aO.awsEndpointFunctions});var lO,dO,xd,Id,fO,pO=R(()=>{et();Ro();_t();lO=T(Ee()),dO=T(mr()),xd=T(je()),Id=T(We());vE();uO();fO=e=>({apiVersion:"2023-01-01",base64Decoder:e?.base64Decoder??xd.fromBase64,base64Encoder:e?.base64Encoder??xd.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??cO,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??WI,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new at},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new er}],logger:e?.logger??new lO.NoOpLogger,protocol:e?.protocol??vn,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.signin",version:"2023-01-01",serviceTarget:"Signin"},serviceId:e?.serviceId??"Signin",urlParser:e?.urlParser??dO.parseUrl,utf8Decoder:e?.utf8Decoder??Id.fromUtf8,utf8Encoder:e?.utf8Encoder??Id.toUtf8})});var Od,Gn,mO,Dd,Vn,Nd,kd,hO,gO,yO,EO,SO=R(()=>{Ul();et();Od=T(Us()),Gn=T(At()),mO=T(Fs()),Dd=T(rr()),Vn=T(Er()),Nd=T(Un()),kd=T(Ee()),hO=T(qs()),gO=T(js()),yO=T(To());pO();EO=e=>{(0,kd.emitWarningIfUnsupportedVersion)(process.version);let t=(0,gO.resolveDefaultsModeConfig)(e),r=()=>t().then(kd.loadConfigsForDefaultMode),n=fO(e);gn(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Vn.loadConfig)(En,o),bodyLengthChecker:e?.bodyLengthChecker??hO.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Od.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Ms.version}),maxAttempts:e?.maxAttempts??(0,Vn.loadConfig)(Dd.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Vn.loadConfig)(Gn.NODE_REGION_CONFIG_OPTIONS,{...Gn.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:Nd.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Vn.loadConfig)({...Dd.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||yO.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??mO.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Nd.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Vn.loadConfig)(Gn.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Vn.loadConfig)(Gn.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,Vn.loadConfig)(Od.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var _O,bO,wO=R(()=>{_O=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},bO=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var $d,Ld,Md,PO,RO=R(()=>{$d=T(xo()),Ld=T(Ie()),Md=T(Ee());wO();PO=(e,t)=>{let r=Object.assign((0,$d.getAwsRegionExtensionConfiguration)(e),(0,Md.getDefaultExtensionConfiguration)(e),(0,Ld.getHttpHandlerExtensionConfiguration)(e),_O(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,$d.resolveAwsRegionExtensionConfiguration)(r),(0,Md.resolveDefaultRuntimeConfig)(r),(0,Ld.resolveHttpHandlerRuntimeConfig)(r),bO(r))}});var Ud,CO,AO,Fd,TO,vO,xO,qd,kE,Ca,$E=R(()=>{Ud=T(rs()),CO=T(ns()),AO=T(os()),Fd=T(Co()),TO=T(At());_t();Te();vO=T(Os()),xO=T(Sr()),qd=T(rr()),kE=T(Ee());vE();xE();SO();RO();Ca=class extends kE.Client{config;constructor(...[t]){let r=EO(t||{});super(r),this.initConfig=r;let n=YI(r),o=(0,Fd.resolveUserAgentConfig)(n),s=(0,qd.resolveRetryConfig)(o),i=(0,TO.resolveRegionConfig)(s),a=(0,Ud.resolveHostHeaderConfig)(i),c=(0,xO.resolveEndpointConfig)(a),u=KI(c),d=PO(u,t?.extensions||[]);this.config=d,this.middlewareStack.use(po(this.config)),this.middlewareStack.use((0,Fd.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,qd.getRetryPlugin)(this.config)),this.middlewareStack.use((0,vO.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Ud.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,CO.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,AO.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(uo(this.config,{httpAuthSchemeParametersProvider:zI,identityProviderConfigProvider:async l=>new qr({"aws.auth#sigv4":l.credentials})})),this.middlewareStack.use(lo(this.config))}destroy(){super.destroy()}}});var IO,cr,jd=R(()=>{IO=T(Ee()),cr=class e extends IO.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Aa,Ta,va,xa,LE=R(()=>{jd();Aa=class e extends cr{name="AccessDeniedException";$fault="client";error;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},Ta=class e extends cr{name="InternalServerException";$fault="server";error;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},va=class e extends cr{name="TooManyRequestsError";$fault="client";error;constructor(t){super({name:"TooManyRequestsError",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},xa=class e extends cr{name="ValidationException";$fault="client";error;constructor(t){super({name:"ValidationException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}}});var iK,aK,cK,uK,lK,dK,fK,pK,mK,hK,gK,OO,DO,ME,NO,kO,yK,zn,$O,LO,EK,UE,MO,Lt,Bd,Hd,UO,SK,FO,qO,HO,_K,bK,jO,Rt,BO,VO,GO,zO,WO,KO,YO,XO,QO,JO,ZO,FE,qE=R(()=>{Te();LE();jd();iK="AccessDeniedException",aK="AccessToken",cK="CreateOAuth2Token",uK="CreateOAuth2TokenRequest",lK="CreateOAuth2TokenRequestBody",dK="CreateOAuth2TokenResponseBody",fK="CreateOAuth2TokenResponse",pK="InternalServerException",mK="RefreshToken",hK="TooManyRequestsError",gK="ValidationException",OO="accessKeyId",DO="accessToken",ME="client",NO="clientId",kO="codeVerifier",yK="code",zn="error",$O="expiresIn",LO="grantType",EK="http",UE="httpError",MO="idToken",Lt="jsonName",Bd="message",Hd="refreshToken",UO="redirectUri",SK="server",FO="secretAccessKey",qO="sessionToken",HO="smithy.ts.sdk.synthetic.com.amazonaws.signin",_K="tokenInput",bK="tokenOutput",jO="tokenType",Rt="com.amazonaws.signin",BO=[0,Rt,mK,8,0],VO=[-3,Rt,iK,{[zn]:ME},[zn,Bd],[0,0],2];ae.for(Rt).registerError(VO,Aa);GO=[3,Rt,aK,8,[OO,FO,qO],[[0,{[Lt]:OO}],[0,{[Lt]:FO}],[0,{[Lt]:qO}]],3],zO=[3,Rt,uK,0,[_K],[[()=>WO,16]],1],WO=[3,Rt,lK,0,[NO,LO,yK,UO,kO,Hd],[[0,{[Lt]:NO}],[0,{[Lt]:LO}],0,[0,{[Lt]:UO}],[0,{[Lt]:kO}],[()=>BO,{[Lt]:Hd}]],2],KO=[3,Rt,fK,0,[bK],[[()=>YO,16]],1],YO=[3,Rt,dK,0,[DO,jO,$O,Hd,MO],[[()=>GO,{[Lt]:DO}],[0,{[Lt]:jO}],[1,{[Lt]:$O}],[()=>BO,{[Lt]:Hd}],[0,{[Lt]:MO}]],4],XO=[-3,Rt,pK,{[zn]:SK,[UE]:500},[zn,Bd],[0,0],2];ae.for(Rt).registerError(XO,Ta);QO=[-3,Rt,hK,{[zn]:ME,[UE]:429},[zn,Bd],[0,0],2];ae.for(Rt).registerError(QO,va);JO=[-3,Rt,gK,{[zn]:ME,[UE]:400},[zn,Bd],[0,0],2];ae.for(Rt).registerError(JO,xa);ZO=[-3,HO,"SigninServiceException",0,[],[]];ae.for(HO).registerError(ZO,cr);FE=[9,Rt,cK,{[EK]:["POST","/v1/token",200]},()=>zO,()=>KO]});var eD,jE,Ia,HE=R(()=>{eD=T(Sr()),jE=T(Ee());xE();qE();Ia=class extends jE.Command.classBuilder().ep(XI).m(function(t,r,n,o){return[(0,eD.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Signin","CreateOAuth2Token",{}).n("SigninClient","CreateOAuth2TokenCommand").sc(FE).build(){}});var tD,wK,Vd,rD=R(()=>{tD=T(Ee());HE();$E();wK={CreateOAuth2TokenCommand:Ia},Vd=class extends Ca{};(0,tD.createAggregatedClient)(wK,Vd)});var nD=R(()=>{HE()});var PK,oD=R(()=>{PK={AUTHCODE_EXPIRED:"AUTHCODE_EXPIRED",INSUFFICIENT_PERMISSIONS:"INSUFFICIENT_PERMISSIONS",INVALID_REQUEST:"INVALID_REQUEST",SERVER_ERROR:"server_error",TOKEN_EXPIRED:"TOKEN_EXPIRED",USER_CREDENTIALS_CHANGED:"USER_CREDENTIALS_CHANGED"}});var sD=R(()=>{});var iD={};ot(iD,{$Command:()=>jE.Command,AccessDeniedException:()=>Aa,AccessDeniedException$:()=>VO,AccessToken$:()=>GO,CreateOAuth2Token$:()=>FE,CreateOAuth2TokenCommand:()=>Ia,CreateOAuth2TokenRequest$:()=>zO,CreateOAuth2TokenRequestBody$:()=>WO,CreateOAuth2TokenResponse$:()=>KO,CreateOAuth2TokenResponseBody$:()=>YO,InternalServerException:()=>Ta,InternalServerException$:()=>XO,OAuth2ErrorCode:()=>PK,Signin:()=>Vd,SigninClient:()=>Ca,SigninServiceException:()=>cr,SigninServiceException$:()=>ZO,TooManyRequestsError:()=>va,TooManyRequestsError$:()=>QO,ValidationException:()=>xa,ValidationException$:()=>JO,__Client:()=>kE.Client});var aD=R(()=>{$E();rD();nD();qE();oD();LE();sD();jd()});var uD=N(cD=>{"use strict";var RK=(Vt(),Se(Hr)),Wn=ct(),GE=yr(),CK=Ie(),Gd=Y("crypto"),BE=Y("fs"),AK=Y("os"),VE=Y("path"),zE=class e{profileData;init;callerClientConfig;static REFRESH_THRESHOLD=5*60*1e3;constructor(t,r,n){this.profileData=t,this.init=r,this.callerClientConfig=n}async loadCredentials(){let t=await this.loadToken();if(!t)throw new Wn.CredentialsProviderError(`Failed to load a token for session ${this.loginSession}, please re-authenticate using aws login`,{tryNextLink:!1,logger:this.logger});let r=t.accessToken,n=Date.now();return new Date(r.expiresAt).getTime()-n<=e.REFRESH_THRESHOLD?this.refresh(t):{accessKeyId:r.accessKeyId,secretAccessKey:r.secretAccessKey,sessionToken:r.sessionToken,accountId:r.accountId,expiration:new Date(r.expiresAt)}}get logger(){return this.init?.logger}get loginSession(){return this.profileData.login_session}async refresh(t){let{SigninClient:r,CreateOAuth2TokenCommand:n}=await Promise.resolve().then(()=>(aD(),iD)),{logger:o,userAgentAppId:s}=this.callerClientConfig??{},a=(l=>l?.metadata?.handlerProtocol==="h2")(this.callerClientConfig?.requestHandler)?void 0:this.callerClientConfig?.requestHandler,c=this.profileData.region??await this.callerClientConfig?.region?.()??process.env.AWS_REGION,u=new r({credentials:{accessKeyId:"",secretAccessKey:""},region:c,requestHandler:a,logger:o,userAgentAppId:s,...this.init?.clientConfig});this.createDPoPInterceptor(u.middlewareStack);let d={tokenInput:{clientId:t.clientId,refreshToken:t.refreshToken,grantType:"refresh_token"}};try{let l=await u.send(new n(d)),{accessKeyId:h,secretAccessKey:g,sessionToken:S}=l.tokenOutput?.accessToken??{},{refreshToken:C,expiresIn:E}=l.tokenOutput??{};if(!h||!g||!S||!C)throw new Wn.CredentialsProviderError("Token refresh response missing required fields",{logger:this.logger,tryNextLink:!1});let D=(E??900)*1e3,M=new Date(Date.now()+D),q={...t,accessToken:{...t.accessToken,accessKeyId:h,secretAccessKey:g,sessionToken:S,expiresAt:M.toISOString()},refreshToken:C};await this.saveToken(q);let z=q.accessToken;return{accessKeyId:z.accessKeyId,secretAccessKey:z.secretAccessKey,sessionToken:z.sessionToken,accountId:z.accountId,expiration:M}}catch(l){if(l.name==="AccessDeniedException"){let h=l.error,g;switch(h){case"TOKEN_EXPIRED":g="Your session has expired. Please reauthenticate.";break;case"USER_CREDENTIALS_CHANGED":g="Unable to refresh credentials because of a change in your password. Please reauthenticate with your new password.";break;case"INSUFFICIENT_PERMISSIONS":g="Unable to refresh credentials due to insufficient permissions. You may be missing permission for the 'CreateOAuth2Token' action.";break;default:g=`Failed to refresh token: ${String(l)}. Please re-authenticate using \`aws login\``}throw new Wn.CredentialsProviderError(g,{logger:this.logger,tryNextLink:!1})}throw new Wn.CredentialsProviderError(`Failed to refresh token: ${String(l)}. Please re-authenticate using aws login`,{logger:this.logger})}}async loadToken(){let t=this.getTokenFilePath();try{let r;try{r=await GE.readFile(t,{ignoreCache:this.init?.ignoreCache})}catch{r=await BE.promises.readFile(t,"utf8")}let n=JSON.parse(r),o=["accessToken","clientId","refreshToken","dpopKey"].filter(s=>!n[s]);if(n.accessToken?.accountId||o.push("accountId"),o.length>0)throw new Wn.CredentialsProviderError(`Token validation failed, missing fields: ${o.join(", ")}`,{logger:this.logger,tryNextLink:!1});return n}catch(r){throw new Wn.CredentialsProviderError(`Failed to load token from ${t}: ${String(r)}`,{logger:this.logger,tryNextLink:!1})}}async saveToken(t){let r=this.getTokenFilePath(),n=VE.dirname(r);try{await BE.promises.mkdir(n,{recursive:!0})}catch{}await BE.promises.writeFile(r,JSON.stringify(t,null,2),"utf8")}getTokenFilePath(){let t=process.env.AWS_LOGIN_CACHE_DIRECTORY??VE.join(AK.homedir(),".aws","login","cache"),r=Buffer.from(this.loginSession,"utf8"),n=Gd.createHash("sha256").update(r).digest("hex");return VE.join(t,`${n}.json`)}derToRawSignature(t){let r=2;if(t[r]!==2)throw new Error("Invalid DER signature");r++;let n=t[r++],o=t.subarray(r,r+n);if(r+=n,t[r]!==2)throw new Error("Invalid DER signature");r++;let s=t[r++],i=t.subarray(r,r+s);o=o[0]===0?o.subarray(1):o,i=i[0]===0?i.subarray(1):i;let a=Buffer.concat([Buffer.alloc(32-o.length),o]),c=Buffer.concat([Buffer.alloc(32-i.length),i]);return Buffer.concat([a,c])}createDPoPInterceptor(t){t.add(r=>async n=>{if(CK.HttpRequest.isInstance(n.request)){let o=n.request,s=`${o.protocol}//${o.hostname}${o.port?`:${o.port}`:""}${o.path}`,i=await this.generateDpop(o.method,s);o.headers={...o.headers,DPoP:i}}return r(n)},{step:"finalizeRequest",name:"dpopInterceptor",override:!0})}async generateDpop(t="POST",r){let n=await this.loadToken();try{let o=Gd.createPrivateKey({key:n.dpopKey,format:"pem",type:"sec1"}),i=Gd.createPublicKey(o).export({format:"der",type:"spki"}),a=-1;for(let M=0;M<i.length;M++)if(i[M]===4){a=M;break}let c=i.slice(a+1,a+33),u=i.slice(a+33,a+65),d={alg:"ES256",typ:"dpop+jwt",jwk:{kty:"EC",crv:"P-256",x:c.toString("base64url"),y:u.toString("base64url")}},l={jti:crypto.randomUUID(),htm:t,htu:r,iat:Math.floor(Date.now()/1e3)},h=Buffer.from(JSON.stringify(d)).toString("base64url"),g=Buffer.from(JSON.stringify(l)).toString("base64url"),S=`${h}.${g}`,C=Gd.sign("sha256",Buffer.from(S),o),D=this.derToRawSignature(C).toString("base64url");return`${S}.${D}`}catch(o){throw new Wn.CredentialsProviderError(`Failed to generate Dpop proof: ${o instanceof Error?o.message:String(o)}`,{logger:this.logger,tryNextLink:!1})}}},TK=e=>async({callerClientConfig:t}={})=>{e?.logger?.debug?.("@aws-sdk/credential-providers - fromLoginCredentials");let r=await GE.parseKnownFiles(e||{}),n=GE.getProfileName({profile:e?.profile??t?.profile}),o=r[n];if(!o?.login_session)throw new Wn.CredentialsProviderError(`Profile ${n} does not contain login_session.`,{tryNextLink:!0,logger:e?.logger});let i=await new zE(o,e,t).loadCredentials();return RK.setCredentialFeature(i,"CREDENTIALS_LOGIN","AD")};cD.fromLoginCredentials=TK});function vK(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function xK(e){return{schemeId:"smithy.api#noAuth"}}var Oa,lD,dD,IK,fD,WE=R(()=>{et();Oa=T(ht());Da();lD=async(e,t,r)=>({operation:(0,Oa.getSmithyContext)(t).operation,region:await(0,Oa.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});dD=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(xK(e));break}default:t.push(vK(e))}return t},IK=e=>Object.assign(e,{stsClientCtor:Pr}),fD=e=>{let t=IK(e),r=Br(t);return Object.assign(r,{authSchemePreference:(0,Oa.normalizeProvider)(e.authSchemePreference??[])})}});var pD,zd,Wd=R(()=>{pD=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),zd={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var RD,pe,Ce,Ae,Yn,Kn,rt,CD,AD,TD,Fe,mD,Rr,ei,YE,hD,KE,vD,gD,nt,yD,xD,ID,mt,Mt,ED,OD,DD,SD,ND,_D,bD,wD,PD,OK,kD,$D=R(()=>{RD="required",pe="type",Ce="fn",Ae="argv",Yn="ref",Kn="booleanEquals",rt="stringEquals",CD="sigv4",AD="sts",TD="us-east-1",Fe="endpoint",mD="https://sts.{Region}.{PartitionResult#dnsSuffix}",Rr="tree",ei="error",YE="getAttr",hD={[RD]:!1,[pe]:"string"},KE={[RD]:!0,default:!1,[pe]:"boolean"},vD={[Yn]:"Endpoint"},gD={[Ce]:"isSet",[Ae]:[{[Yn]:"Region"}]},nt={[Yn]:"Region"},yD={[Ce]:"aws.partition",[Ae]:[nt],assign:"PartitionResult"},xD={[Yn]:"UseFIPS"},ID={[Yn]:"UseDualStack"},mt={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:CD,signingName:AD,signingRegion:TD}]},headers:{}},Mt={},ED={conditions:[{[Ce]:rt,[Ae]:[nt,"aws-global"]}],[Fe]:mt,[pe]:Fe},OD={[Ce]:Kn,[Ae]:[xD,!0]},DD={[Ce]:Kn,[Ae]:[ID,!0]},SD={[Ce]:YE,[Ae]:[{[Yn]:"PartitionResult"},"supportsFIPS"]},ND={[Yn]:"PartitionResult"},_D={[Ce]:Kn,[Ae]:[!0,{[Ce]:YE,[Ae]:[ND,"supportsDualStack"]}]},bD=[{[Ce]:"isSet",[Ae]:[vD]}],wD=[OD],PD=[DD],OK={version:"1.0",parameters:{Region:hD,UseDualStack:KE,UseFIPS:KE,Endpoint:hD,UseGlobalEndpoint:KE},rules:[{conditions:[{[Ce]:Kn,[Ae]:[{[Yn]:"UseGlobalEndpoint"},!0]},{[Ce]:"not",[Ae]:bD},gD,yD,{[Ce]:Kn,[Ae]:[xD,!1]},{[Ce]:Kn,[Ae]:[ID,!1]}],rules:[{conditions:[{[Ce]:rt,[Ae]:[nt,"ap-northeast-1"]}],endpoint:mt,[pe]:Fe},{conditions:[{[Ce]:rt,[Ae]:[nt,"ap-south-1"]}],endpoint:mt,[pe]:Fe},{conditions:[{[Ce]:rt,[Ae]:[nt,"ap-southeast-1"]}],endpoint:mt,[pe]:Fe},{conditions:[{[Ce]:rt,[Ae]:[nt,"ap-southeast-2"]}],endpoint:mt,[pe]:Fe},ED,{conditions:[{[Ce]:rt,[Ae]:[nt,"ca-central-1"]}],endpoint:mt,[pe]:Fe},{conditions:[{[Ce]:rt,[Ae]:[nt,"eu-central-1"]}],endpoint:mt,[pe]:Fe},{conditions:[{[Ce]:rt,[Ae]:[nt,"eu-north-1"]}],endpoint:mt,[pe]:Fe},{conditions:[{[Ce]:rt,[Ae]:[nt,"eu-west-1"]}],endpoint:mt,[pe]:Fe},{conditions:[{[Ce]:rt,[Ae]:[nt,"eu-west-2"]}],endpoint:mt,[pe]:Fe},{conditions:[{[Ce]:rt,[Ae]:[nt,"eu-west-3"]}],endpoint:mt,[pe]:Fe},{conditions:[{[Ce]:rt,[Ae]:[nt,"sa-east-1"]}],endpoint:mt,[pe]:Fe},{conditions:[{[Ce]:rt,[Ae]:[nt,TD]}],endpoint:mt,[pe]:Fe},{conditions:[{[Ce]:rt,[Ae]:[nt,"us-east-2"]}],endpoint:mt,[pe]:Fe},{conditions:[{[Ce]:rt,[Ae]:[nt,"us-west-1"]}],endpoint:mt,[pe]:Fe},{conditions:[{[Ce]:rt,[Ae]:[nt,"us-west-2"]}],endpoint:mt,[pe]:Fe},{endpoint:{url:mD,properties:{authSchemes:[{name:CD,signingName:AD,signingRegion:"{Region}"}]},headers:Mt},[pe]:Fe}],[pe]:Rr},{conditions:bD,rules:[{conditions:wD,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[pe]:ei},{conditions:PD,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[pe]:ei},{endpoint:{url:vD,properties:Mt,headers:Mt},[pe]:Fe}],[pe]:Rr},{conditions:[gD],rules:[{conditions:[yD],rules:[{conditions:[OD,DD],rules:[{conditions:[{[Ce]:Kn,[Ae]:[!0,SD]},_D],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Mt,headers:Mt},[pe]:Fe}],[pe]:Rr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[pe]:ei}],[pe]:Rr},{conditions:wD,rules:[{conditions:[{[Ce]:Kn,[Ae]:[SD,!0]}],rules:[{conditions:[{[Ce]:rt,[Ae]:[{[Ce]:YE,[Ae]:[ND,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Mt,headers:Mt},[pe]:Fe},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Mt,headers:Mt},[pe]:Fe}],[pe]:Rr},{error:"FIPS is enabled but this partition does not support FIPS",[pe]:ei}],[pe]:Rr},{conditions:PD,rules:[{conditions:[_D],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Mt,headers:Mt},[pe]:Fe}],[pe]:Rr},{error:"DualStack is enabled but this partition does not support DualStack",[pe]:ei}],[pe]:Rr},ED,{endpoint:{url:mD,properties:Mt,headers:Mt},[pe]:Fe}],[pe]:Rr}],[pe]:Rr},{error:"Invalid Configuration: Missing Region",[pe]:ei}]},kD=OK});var LD,ti,DK,MD,UD=R(()=>{LD=T(gs()),ti=T(jr());$D();DK=new ti.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),MD=(e,t={})=>DK.get(e,()=>(0,ti.resolveEndpoint)(kD,{endpointParams:e,logger:t.logger}));ti.customEndpointFunctions.aws=LD.awsEndpointFunctions});var FD,qD,Kd,Yd,jD,HD=R(()=>{et();Ro();_t();FD=T(Ee()),qD=T(mr()),Kd=T(je()),Yd=T(We());WE();UD();jD=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Kd.fromBase64,base64Encoder:e?.base64Encoder??Kd.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??MD,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??dD,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new at},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new er}],logger:e?.logger??new FD.NoOpLogger,protocol:e?.protocol??In,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.sts",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/",version:"2011-06-15",serviceTarget:"AWSSecurityTokenServiceV20110615"},serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??qD.parseUrl,utf8Decoder:e?.utf8Decoder??Yd.fromUtf8,utf8Encoder:e?.utf8Encoder??Yd.toUtf8})});var Xd,Qn,BD,Qd,Xn,Jd,Zd,VD,GD,zD,WD,KD=R(()=>{Ul();et();Xd=T(Us()),Qn=T(At());_t();BD=T(Fs()),Qd=T(rr()),Xn=T(Er()),Jd=T(Un()),Zd=T(Ee()),VD=T(qs()),GD=T(js()),zD=T(To());HD();WD=e=>{(0,Zd.emitWarningIfUnsupportedVersion)(process.version);let t=(0,GD.resolveDefaultsModeConfig)(e),r=()=>t().then(Zd.loadConfigsForDefaultMode),n=jD(e);gn(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Xn.loadConfig)(En,o),bodyLengthChecker:e?.bodyLengthChecker??VD.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Xd.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Ms.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4")||(async i=>await e.credentialDefaultProvider(i?.__config||{})()),signer:new at},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new er}],maxAttempts:e?.maxAttempts??(0,Xn.loadConfig)(Qd.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Xn.loadConfig)(Qn.NODE_REGION_CONFIG_OPTIONS,{...Qn.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:Jd.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Xn.loadConfig)({...Qd.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||zD.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??BD.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Jd.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Xn.loadConfig)(Qn.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Xn.loadConfig)(Qn.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,Xn.loadConfig)(Xd.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var YD,XD,QD=R(()=>{YD=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},XD=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var ef,tf,rf,JD,ZD=R(()=>{ef=T(xo()),tf=T(Ie()),rf=T(Ee());QD();JD=(e,t)=>{let r=Object.assign((0,ef.getAwsRegionExtensionConfiguration)(e),(0,rf.getDefaultExtensionConfiguration)(e),(0,tf.getHttpHandlerExtensionConfiguration)(e),YD(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,ef.resolveAwsRegionExtensionConfiguration)(r),(0,rf.resolveDefaultRuntimeConfig)(r),(0,tf.resolveHttpHandlerRuntimeConfig)(r),XD(r))}});var nf,eN,tN,of,rN,nN,oN,sf,XE,Pr,Da=R(()=>{nf=T(rs()),eN=T(ns()),tN=T(os()),of=T(Co()),rN=T(At());_t();Te();nN=T(Os()),oN=T(Sr()),sf=T(rr()),XE=T(Ee());WE();Wd();KD();ZD();Pr=class extends XE.Client{config;constructor(...[t]){let r=WD(t||{});super(r),this.initConfig=r;let n=pD(r),o=(0,of.resolveUserAgentConfig)(n),s=(0,sf.resolveRetryConfig)(o),i=(0,rN.resolveRegionConfig)(s),a=(0,nf.resolveHostHeaderConfig)(i),c=(0,oN.resolveEndpointConfig)(a),u=fD(c),d=JD(u,t?.extensions||[]);this.config=d,this.middlewareStack.use(po(this.config)),this.middlewareStack.use((0,of.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,sf.getRetryPlugin)(this.config)),this.middlewareStack.use((0,nN.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,nf.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,eN.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,tN.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(uo(this.config,{httpAuthSchemeParametersProvider:lD,identityProviderConfigProvider:async l=>new qr({"aws.auth#sigv4":l.credentials})})),this.middlewareStack.use(lo(this.config))}destroy(){super.destroy()}}});var sN,Tt,af=R(()=>{sN=T(Ee()),Tt=class e extends sN.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Na,ka,$a,La,Ma,Ua,Fa,QE=R(()=>{af();Na=class e extends Tt{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ka=class e extends Tt{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},$a=class e extends Tt{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},La=class e extends Tt{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ma=class e extends Tt{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ua=class e extends Tt{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Fa=class e extends Tt{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var NK,kK,$K,LK,MK,UK,JE,FK,qK,jK,HK,ZE,BK,iN,VK,GK,zK,WK,KK,YK,XK,QK,aN,cN,JK,ZK,e5,t5,r5,n5,uN,o5,s5,lN,i5,dN,a5,c5,eS,u5,l5,d5,f5,p5,m5,h5,g5,y5,E5,ko,$o,S5,Lo,Mo,Uo,_5,fN,b5,xe,w5,P5,tS,pN,mN,hN,gN,rS,yN,EN,SN,_N,bN,wN,PN,RN,CN,AN,TN,vN,R5,C5,nS,oS,cf=R(()=>{Te();QE();af();NK="Arn",kK="AccessKeyId",$K="AssumeRole",LK="AssumedRoleId",MK="AssumeRoleRequest",UK="AssumeRoleResponse",JE="AssumedRoleUser",FK="AssumeRoleWithWebIdentity",qK="AssumeRoleWithWebIdentityRequest",jK="AssumeRoleWithWebIdentityResponse",HK="Audience",ZE="Credentials",BK="ContextAssertion",iN="DurationSeconds",VK="Expiration",GK="ExternalId",zK="ExpiredTokenException",WK="IDPCommunicationErrorException",KK="IDPRejectedClaimException",YK="InvalidIdentityTokenException",XK="Key",QK="MalformedPolicyDocumentException",aN="Policy",cN="PolicyArns",JK="ProviderArn",ZK="ProvidedContexts",e5="ProvidedContextsListType",t5="ProvidedContext",r5="PolicyDescriptorType",n5="ProviderId",uN="PackedPolicySize",o5="PackedPolicyTooLargeException",s5="Provider",lN="RoleArn",i5="RegionDisabledException",dN="RoleSessionName",a5="SecretAccessKey",c5="SubjectFromWebIdentityToken",eS="SourceIdentity",u5="SerialNumber",l5="SessionToken",d5="Tags",f5="TokenCode",p5="TransitiveTagKeys",m5="Tag",h5="Value",g5="WebIdentityToken",y5="arn",E5="accessKeySecretType",ko="awsQueryError",$o="client",S5="clientTokenType",Lo="error",Mo="httpError",Uo="message",_5="policyDescriptorListType",fN="smithy.ts.sdk.synthetic.com.amazonaws.sts",b5="tagListType",xe="com.amazonaws.sts",w5=[0,xe,E5,8,0],P5=[0,xe,S5,8,0],tS=[3,xe,JE,0,[LK,NK],[0,0],2],pN=[3,xe,MK,0,[lN,dN,cN,aN,iN,d5,p5,GK,u5,f5,eS,ZK],[0,0,()=>vN,0,1,()=>C5,64,0,0,0,0,()=>R5],2],mN=[3,xe,UK,0,[ZE,JE,uN,eS],[[()=>rS,0],()=>tS,1,0]],hN=[3,xe,qK,0,[lN,dN,g5,n5,cN,aN,iN],[0,0,[()=>P5,0],0,()=>vN,0,1],3],gN=[3,xe,jK,0,[ZE,c5,JE,uN,s5,HK,eS],[[()=>rS,0],0,()=>tS,1,0,0,0]],rS=[3,xe,ZE,0,[kK,a5,l5,VK],[0,[()=>w5,0],0,4],4],yN=[-3,xe,zK,{[ko]:["ExpiredTokenException",400],[Lo]:$o,[Mo]:400},[Uo],[0]];ae.for(xe).registerError(yN,Na);EN=[-3,xe,WK,{[ko]:["IDPCommunicationError",400],[Lo]:$o,[Mo]:400},[Uo],[0]];ae.for(xe).registerError(EN,Fa);SN=[-3,xe,KK,{[ko]:["IDPRejectedClaim",403],[Lo]:$o,[Mo]:403},[Uo],[0]];ae.for(xe).registerError(SN,Ma);_N=[-3,xe,YK,{[ko]:["InvalidIdentityToken",400],[Lo]:$o,[Mo]:400},[Uo],[0]];ae.for(xe).registerError(_N,Ua);bN=[-3,xe,QK,{[ko]:["MalformedPolicyDocument",400],[Lo]:$o,[Mo]:400},[Uo],[0]];ae.for(xe).registerError(bN,ka);wN=[-3,xe,o5,{[ko]:["PackedPolicyTooLarge",400],[Lo]:$o,[Mo]:400},[Uo],[0]];ae.for(xe).registerError(wN,$a);PN=[3,xe,r5,0,[y5],[0]],RN=[3,xe,t5,0,[JK,BK],[0,0]],CN=[-3,xe,i5,{[ko]:["RegionDisabledException",403],[Lo]:$o,[Mo]:403},[Uo],[0]];ae.for(xe).registerError(CN,La);AN=[3,xe,m5,0,[XK,h5],[0,0],2],TN=[-3,fN,"STSServiceException",0,[],[]];ae.for(fN).registerError(TN,Tt);vN=[1,xe,_5,0,()=>PN],R5=[1,xe,e5,0,()=>RN],C5=[1,xe,b5,0,()=>AN],nS=[9,xe,$K,0,()=>pN,()=>mN],oS=[9,xe,FK,0,()=>hN,()=>gN]});var xN,IN,Fo,uf=R(()=>{xN=T(Sr()),IN=T(Ee());Wd();cf();Fo=class extends IN.Command.classBuilder().ep(zd).m(function(t,r,n,o){return[(0,xN.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").sc(nS).build(){}});var ON,DN,qo,lf=R(()=>{ON=T(Sr()),DN=T(Ee());Wd();cf();qo=class extends DN.Command.classBuilder().ep(zd).m(function(t,r,n,o){return[(0,ON.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").sc(oS).build(){}});var NN,A5,df,kN=R(()=>{NN=T(Ee());uf();lf();Da();A5={AssumeRoleCommand:Fo,AssumeRoleWithWebIdentityCommand:qo},df=class extends Pr{};(0,NN.createAggregatedClient)(A5,df)});var $N=R(()=>{uf();lf()});var LN=R(()=>{});var MN,UN,FN,qN,jN,HN,BN=R(()=>{Vt();MN=T(xo());uf();lf();UN=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},FN=async(e,t,r,n={})=>{let o=typeof e=="function"?await e():e,s=typeof t=="function"?await t():t,i="",a=o??s??(i=await(0,MN.stsRegionDefaultResolver)(n)());return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${o} (credential provider clientConfig)`,`${s} (contextual client)`,`${i} (STS default: AWS_REGION, profile region, or us-east-1)`),a},qN=(e,t)=>{let r,n;return async(o,s)=>{if(n=o,!r){let{logger:d=e?.parentClientConfig?.logger,profile:l=e?.parentClientConfig?.profile,region:h,requestHandler:g=e?.parentClientConfig?.requestHandler,credentialProviderLogger:S,userAgentAppId:C=e?.parentClientConfig?.userAgentAppId}=e,E=await FN(h,e?.parentClientConfig?.region,S,{logger:d,profile:l}),D=!HN(g);r=new t({...e,userAgentAppId:C,profile:l,credentialDefaultProvider:()=>async()=>n,region:E,requestHandler:D?g:void 0,logger:d})}let{Credentials:i,AssumedRoleUser:a}=await r.send(new Fo(s));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);let c=UN(a),u={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...c&&{accountId:c}};return yn(u,"CREDENTIALS_STS_ASSUME_ROLE","i"),u}},jN=(e,t)=>{let r;return async n=>{if(!r){let{logger:c=e?.parentClientConfig?.logger,profile:u=e?.parentClientConfig?.profile,region:d,requestHandler:l=e?.parentClientConfig?.requestHandler,credentialProviderLogger:h,userAgentAppId:g=e?.parentClientConfig?.userAgentAppId}=e,S=await FN(d,e?.parentClientConfig?.region,h,{logger:c,profile:u}),C=!HN(l);r=new t({...e,userAgentAppId:g,profile:u,region:S,requestHandler:C?l:void 0,logger:c})}let{Credentials:o,AssumedRoleUser:s}=await r.send(new qo(n));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let i=UN(s),a={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...i&&{accountId:i}};return i&&yn(a,"RESOLVED_ACCOUNT_ID","T"),yn(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},HN=e=>e?.metadata?.handlerProtocol==="h2"});var VN,GN,zN,T5,WN=R(()=>{BN();Da();VN=(e,t)=>t?class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}}:e,GN=(e={},t)=>qN(e,VN(Pr,t)),zN=(e={},t)=>jN(e,VN(Pr,t)),T5=e=>t=>e({roleAssumer:GN(t),roleAssumerWithWebIdentity:zN(t),...t})});var sS={};ot(sS,{AssumeRole$:()=>nS,AssumeRoleCommand:()=>Fo,AssumeRoleRequest$:()=>pN,AssumeRoleResponse$:()=>mN,AssumeRoleWithWebIdentity$:()=>oS,AssumeRoleWithWebIdentityCommand:()=>qo,AssumeRoleWithWebIdentityRequest$:()=>hN,AssumeRoleWithWebIdentityResponse$:()=>gN,AssumedRoleUser$:()=>tS,Credentials$:()=>rS,ExpiredTokenException:()=>Na,ExpiredTokenException$:()=>yN,IDPCommunicationErrorException:()=>Fa,IDPCommunicationErrorException$:()=>EN,IDPRejectedClaimException:()=>Ma,IDPRejectedClaimException$:()=>SN,InvalidIdentityTokenException:()=>Ua,InvalidIdentityTokenException$:()=>_N,MalformedPolicyDocumentException:()=>ka,MalformedPolicyDocumentException$:()=>bN,PackedPolicyTooLargeException:()=>$a,PackedPolicyTooLargeException$:()=>wN,PolicyDescriptorType$:()=>PN,ProvidedContext$:()=>RN,RegionDisabledException:()=>La,RegionDisabledException$:()=>CN,STS:()=>df,STSClient:()=>Pr,STSServiceException:()=>Tt,STSServiceException$:()=>TN,Tag$:()=>AN,__Client:()=>XE.Client,decorateDefaultCredentialProvider:()=>T5,getDefaultRoleAssumer:()=>GN,getDefaultRoleAssumerWithWebIdentity:()=>zN});var iS=R(()=>{Da();kN();$N();cf();QE();LN();WN();af()});var uS=N(KN=>{"use strict";var cS=yr(),aS=ct(),v5=Y("child_process"),x5=Y("util"),I5=(Vt(),Se(Hr)),O5=(e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let s=new Date;if(new Date(t.Expiration)<s)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let o={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return I5.setCredentialFeature(o,"CREDENTIALS_PROCESS","w"),o},D5=async(e,t,r)=>{let n=t[e];if(t[e]){let o=n.credential_process;if(o!==void 0){let s=x5.promisify(cS.externalDataInterceptor?.getTokenRecord?.().exec??v5.exec);try{let{stdout:i}=await s(o),a;try{a=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return O5(e,a,t)}catch(i){throw new aS.CredentialsProviderError(i.message,{logger:r})}}else throw new aS.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new aS.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},N5=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await cS.parseKnownFiles(e);return D5(cS.getProfileName({profile:e.profile??t?.profile}),r,e.logger)};KN.fromProcess=N5});var lS=N(Cr=>{"use strict";var k5=Cr&&Cr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$5=Cr&&Cr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),L5=Cr&&Cr.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&k5(r,t,n[o]);return $5(r,t),r}}();Object.defineProperty(Cr,"__esModule",{value:!0});Cr.fromWebToken=void 0;var M5=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:o,providerId:s,policyArns:i,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:u}=e;if(!u){let{getDefaultRoleAssumerWithWebIdentity:d}=await Promise.resolve().then(()=>L5((iS(),Se(sS))));u=d({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return u({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:o,ProviderId:s,PolicyArns:i,Policy:a,DurationSeconds:c})};Cr.fromWebToken=M5});var XN=N(ff=>{"use strict";Object.defineProperty(ff,"__esModule",{value:!0});ff.fromTokenFile=void 0;var U5=(Vt(),Se(Hr)),F5=ct(),q5=yr(),j5=Y("fs"),H5=lS(),YN="AWS_WEB_IDENTITY_TOKEN_FILE",B5="AWS_ROLE_ARN",V5="AWS_ROLE_SESSION_NAME",G5=(e={})=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let r=e?.webIdentityTokenFile??process.env[YN],n=e?.roleArn??process.env[B5],o=e?.roleSessionName??process.env[V5];if(!r||!n)throw new F5.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let s=await(0,H5.fromWebToken)({...e,webIdentityToken:q5.externalDataInterceptor?.getTokenRecord?.()[r]??(0,j5.readFileSync)(r,{encoding:"ascii"}),roleArn:n,roleSessionName:o})(t);return r===process.env[YN]&&(0,U5.setCredentialFeature)(s,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),s};ff.fromTokenFile=G5});var dS=N(qa=>{"use strict";var QN=XN(),JN=lS();Object.keys(QN).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(qa,e)&&Object.defineProperty(qa,e,{enumerable:!0,get:function(){return QN[e]}})});Object.keys(JN).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(qa,e)&&Object.defineProperty(qa,e,{enumerable:!0,get:function(){return JN[e]}})})});var ok=N(nk=>{"use strict";var pS=yr(),ja=ct(),rn=(Vt(),Se(Hr)),z5=uD(),W5=(e,t,r)=>{let n={EcsContainer:async o=>{let{fromHttp:s}=await Promise.resolve().then(()=>T(rE())),{fromContainerMetadata:i}=await Promise.resolve().then(()=>T(Ji()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>ja.chain(s(o??{}),i(o))().then(fS)},Ec2InstanceMetadata:async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:s}=await Promise.resolve().then(()=>T(Ji()));return async()=>s(o)().then(fS)},Environment:async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:s}=await Promise.resolve().then(()=>T(Sl()));return async()=>s(o)().then(fS)}};if(e in n)return n[e];throw new ja.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},fS=e=>rn.setCredentialFeature(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),K5=(e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(Y5(e,{profile:t,logger:r})||X5(e,{profile:t,logger:r})),Y5=(e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},X5=(e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},Q5=async(e,t,r,n,o={},s)=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let i=t[e],{source_profile:a,region:c}=i;if(!r.roleAssumer){let{getDefaultRoleAssumer:d}=await Promise.resolve().then(()=>(iS(),sS));r.roleAssumer=d({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...n,...r?.parentClientConfig,region:c??r?.parentClientConfig?.region??n?.region}},r.clientPlugins)}if(a&&a in o)throw new ja.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${pS.getProfileName(r)}. Profiles visited: `+Object.keys(o).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${a?`source_profile=[${a}]`:`profile=[${e}]`}`);let u=a?s(a,t,r,n,{...o,[a]:!0},ZN(t[a]??{})):(await W5(i.credential_source,e,r.logger)(r))();if(ZN(i))return u.then(d=>rn.setCredentialFeature(d,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let d={RoleArn:i.role_arn,RoleSessionName:i.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:i.external_id,DurationSeconds:parseInt(i.duration_seconds||"3600",10)},{mfa_serial:l}=i;if(l){if(!r.mfaCodeProvider)throw new ja.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});d.SerialNumber=l,d.TokenCode=await r.mfaCodeProvider(l)}let h=await u;return r.roleAssumer(h,d).then(g=>rn.setCredentialFeature(g,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},ZN=e=>!e.role_arn&&!!e.credential_source,J5=e=>!!(e&&e.login_session),Z5=async(e,t,r)=>{let n=await z5.fromLoginCredentials({...t,profile:e})({callerClientConfig:r});return rn.setCredentialFeature(n,"CREDENTIALS_PROFILE_LOGIN","AC")},e9=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",t9=async(e,t)=>Promise.resolve().then(()=>T(uS())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>rn.setCredentialFeature(n,"CREDENTIALS_PROFILE_PROCESS","v"))),r9=async(e,t,r={},n)=>{let{fromSSO:o}=await Promise.resolve().then(()=>T(TE()));return o({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})({callerClientConfig:n}).then(s=>t.sso_session?rn.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO","r"):rn.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},n9=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),ek=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,tk=async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return rn.setCredentialFeature(r,"CREDENTIALS_PROFILE","n")},o9=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,s9=async(e,t,r)=>Promise.resolve().then(()=>T(dS())).then(({fromTokenFile:n})=>n({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})({callerClientConfig:r}).then(o=>rn.setCredentialFeature(o,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),rk=async(e,t,r,n,o={},s=!1)=>{let i=t[e];if(Object.keys(o).length>0&&ek(i))return tk(i,r);if(s||K5(i,{profile:e,logger:r.logger}))return Q5(e,t,r,n,o,rk);if(ek(i))return tk(i,r);if(o9(i))return s9(i,r,n);if(e9(i))return t9(r,e);if(n9(i))return await r9(e,i,r,n);if(J5(i))return Z5(e,r,n);throw new ja.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},i9=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let r=await pS.parseKnownFiles(e);return rk(pS.getProfileName({profile:e.profile??t?.profile}),r,e,t)};nk.fromIni=i9});var hS=N(pf=>{"use strict";var mS=Sl(),Ha=ct(),a9=yr(),sk="AWS_EC2_METADATA_DISABLED",c9=async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:o}=await Promise.resolve().then(()=>T(Ji()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:s}=await Promise.resolve().then(()=>T(rE()));return Ha.chain(s(e),n(e))}return process.env[sk]&&process.env[sk]!=="false"?async()=>{throw new Ha.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),o(e))};function u9(e,t){let r=l9(e),n,o,s,i=async a=>{if(a?.forceRefresh)return await r(a);if(s?.expiration&&s?.expiration?.getTime()<Date.now()&&(s=void 0),n)await n;else if(!s||t?.(s))if(s)o||(o=r(a).then(c=>{s=c}).finally(()=>{o=void 0}));else return n=r(a).then(c=>{s=c}).finally(()=>{n=void 0}),i(a);return s};return i}var l9=e=>async t=>{let r;for(let n of e)try{return await n(t)}catch(o){if(r=o,o?.tryNextLink)continue;throw o}throw r},ik=!1,d9=(e={})=>u9([async()=>{if(e.profile??process.env[a9.ENV_PROFILE])throw process.env[mS.ENV_KEY]&&process.env[mS.ENV_SECRET]&&(ik||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),ik=!0)),new Ha.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),mS.fromEnv(e)()},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoSession:i}=e;if(!r&&!n&&!o&&!s&&!i)throw new Ha.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:a}=await Promise.resolve().then(()=>T(TE()));return a(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>T(ok()));return r(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>T(uS()));return r(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>T(dS()));return r(e)(t)},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await c9(e))()),async()=>{throw new Ha.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}],ak),f9=e=>e?.expiration!==void 0,ak=e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5;pf.credentialsTreatedAsExpired=ak;pf.credentialsWillNeedRefresh=f9;pf.defaultProvider=d9});var yk=N(ur=>{"use strict";var ri=jr(),p9=mr(),uk=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!uk(r))return!1;return!0}return!(!ri.isValidHostLabel(e)||e.length<3||e.length>63||e!==e.toLowerCase()||ri.isIpAddress(e))},ck=":",m9="/",h9=e=>{let t=e.split(ck);if(t.length<6)return null;let[r,n,o,s,i,...a]=t;if(r!=="arn"||n===""||o===""||a.join(ck)==="")return null;let c=a.map(u=>u.split(m9)).flat();return{partition:n,service:o,region:s,accountId:i,resourceId:c}},g9=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"AWS European Sovereign Cloud (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],y9="1.1",lk={partitions:g9,version:y9},dk=lk,fk="",pk=e=>{let{partitions:t}=dk;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,a]of Object.entries(o))if(i===e)return{...s,...a}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},mk=(e,t="")=>{dk=e,fk=t},E9=()=>{mk(lk,"")},S9=()=>fk,hk={isVirtualHostableS3Bucket:uk,parseArn:h9,partition:pk};ri.customEndpointFunctions.aws=hk;var _9=e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>gk(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},gk=e=>p9.parseUrl(e.url);Object.defineProperty(ur,"EndpointError",{enumerable:!0,get:function(){return ri.EndpointError}});Object.defineProperty(ur,"isIpAddress",{enumerable:!0,get:function(){return ri.isIpAddress}});Object.defineProperty(ur,"resolveEndpoint",{enumerable:!0,get:function(){return ri.resolveEndpoint}});ur.awsEndpointFunctions=hk;ur.getUserAgentPrefix=S9;ur.partition=pk;ur.resolveDefaultAwsRegionalEndpointsConfig=_9;ur.setPartitionInfo=mk;ur.toEndpointV1=gk;ur.useDefaultPartitionInfo=E9});var Ok=N(mf=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});mf.ruleSet=void 0;var vk="required",Tr="fn",vr="argv",oi="ref",Ek=!0,Sk="isSet",Va="booleanEquals",ni="error",Ba="endpoint",nn="tree",gS="PartitionResult",_k={[vk]:!1,type:"string"},bk={[vk]:!0,default:!1,type:"boolean"},wk={[oi]:"Endpoint"},xk={[Tr]:Va,[vr]:[{[oi]:"UseFIPS"},!0]},Ik={[Tr]:Va,[vr]:[{[oi]:"UseDualStack"},!0]},Ar={},Pk={[Tr]:"getAttr",[vr]:[{[oi]:gS},"supportsFIPS"]},Rk={[Tr]:Va,[vr]:[!0,{[Tr]:"getAttr",[vr]:[{[oi]:gS},"supportsDualStack"]}]},Ck=[xk],Ak=[Ik],Tk=[{[oi]:"Region"}],b9={version:"1.0",parameters:{Region:_k,UseDualStack:bk,UseFIPS:bk,Endpoint:_k},rules:[{conditions:[{[Tr]:Sk,[vr]:[wk]}],rules:[{conditions:Ck,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ni},{conditions:Ak,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ni},{endpoint:{url:wk,properties:Ar,headers:Ar},type:Ba}],type:nn},{conditions:[{[Tr]:Sk,[vr]:Tk}],rules:[{conditions:[{[Tr]:"aws.partition",[vr]:Tk,assign:gS}],rules:[{conditions:[xk,Ik],rules:[{conditions:[{[Tr]:Va,[vr]:[Ek,Pk]},Rk],rules:[{endpoint:{url:"https://codeartifact-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ar,headers:Ar},type:Ba}],type:nn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ni}],type:nn},{conditions:Ck,rules:[{conditions:[{[Tr]:Va,[vr]:[Pk,Ek]}],rules:[{endpoint:{url:"https://codeartifact-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ar,headers:Ar},type:Ba}],type:nn},{error:"FIPS is enabled but this partition does not support FIPS",type:ni}],type:nn},{conditions:Ak,rules:[{conditions:[Rk],rules:[{endpoint:{url:"https://codeartifact.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ar,headers:Ar},type:Ba}],type:nn},{error:"DualStack is enabled but this partition does not support DualStack",type:ni}],type:nn},{endpoint:{url:"https://codeartifact.{Region}.{PartitionResult#dnsSuffix}",properties:Ar,headers:Ar},type:Ba}],type:nn}],type:nn},{error:"Invalid Configuration: Missing Region",type:ni}]};mf.ruleSet=b9});var Dk=N(hf=>{"use strict";Object.defineProperty(hf,"__esModule",{value:!0});hf.defaultEndpointResolver=void 0;var w9=yk(),yS=jr(),P9=Ok(),R9=new yS.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),C9=(e,t={})=>R9.get(e,()=>(0,yS.resolveEndpoint)(P9.ruleSet,{endpointParams:e,logger:t.logger}));hf.defaultEndpointResolver=C9;yS.customEndpointFunctions.aws=w9.awsEndpointFunctions});var $k=N(gf=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});gf.getRuntimeConfig=void 0;var A9=(et(),Se(On)),T9=(Ro(),Se(ay)),v9=Ee(),x9=mr(),Nk=je(),I9=eE(),kk=We(),O9=Ty(),D9=Dk(),N9=e=>({apiVersion:"2018-09-22",base64Decoder:e?.base64Decoder??Nk.fromBase64,base64Encoder:e?.base64Encoder??Nk.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??D9.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??O9.defaultCodeartifactHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new A9.AwsSdkSigV4Signer}],logger:e?.logger??new v9.NoOpLogger,protocol:e?.protocol??T9.AwsRestJsonProtocol,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.codeartifact",version:"2018-09-22",serviceTarget:"CodeArtifactControlPlaneService"},sdkStreamMixin:e?.sdkStreamMixin??I9.sdkStreamMixin,serviceId:e?.serviceId??"codeartifact",urlParser:e?.urlParser??x9.parseUrl,utf8Decoder:e?.utf8Decoder??kk.fromUtf8,utf8Encoder:e?.utf8Encoder??kk.toUtf8});gf.getRuntimeConfig=N9});var jk=N(Ef=>{"use strict";Object.defineProperty(Ef,"__esModule",{value:!0});Ef.getRuntimeConfig=void 0;var k9=($i(),Se(ki)),$9=k9.__importDefault(GA()),Lk=(et(),Se(On)),L9=hS(),Mk=Us(),yf=At(),M9=Fs(),Uk=rr(),jo=Er(),Fk=Un(),qk=Ee(),U9=qs(),F9=js(),q9=To(),j9=$k(),H9=e=>{(0,qk.emitWarningIfUnsupportedVersion)(process.version);let t=(0,F9.resolveDefaultsModeConfig)(e),r=()=>t().then(qk.loadConfigsForDefaultMode),n=(0,j9.getRuntimeConfig)(e);(0,Lk.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,jo.loadConfig)(Lk.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??U9.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??L9.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Mk.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:$9.default.version}),maxAttempts:e?.maxAttempts??(0,jo.loadConfig)(Uk.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,jo.loadConfig)(yf.NODE_REGION_CONFIG_OPTIONS,{...yf.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:Fk.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,jo.loadConfig)({...Uk.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||q9.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??M9.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Fk.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,jo.loadConfig)(yf.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,jo.loadConfig)(yf.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,jo.loadConfig)(Mk.NODE_APP_ID_CONFIG_OPTIONS,o)}};Ef.getRuntimeConfig=H9});var FM=N(y=>{"use strict";var Hk=rs(),B9=ns(),V9=os(),Bk=Co(),G9=At(),Ut=(_t(),Se(ms)),sn=(Te(),Se(uu)),z9=Os(),ne=Sr(),Vk=rr(),te=Ee(),Gk=Ty(),W9=jk(),zk=xo(),Wk=Ie(),K9=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"codeartifact"}),se={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Y9=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},X9=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),Q9=(e,t)=>{let r=Object.assign(zk.getAwsRegionExtensionConfiguration(e),te.getDefaultExtensionConfiguration(e),Wk.getHttpHandlerExtensionConfiguration(e),Y9(e));return t.forEach(n=>n.configure(r)),Object.assign(e,zk.resolveAwsRegionExtensionConfiguration(r),te.resolveDefaultRuntimeConfig(r),Wk.resolveHttpHandlerRuntimeConfig(r),X9(r))},vt=class extends te.Client{config;constructor(...[t]){let r=W9.getRuntimeConfig(t||{});super(r),this.initConfig=r;let n=K9(r),o=Bk.resolveUserAgentConfig(n),s=Vk.resolveRetryConfig(o),i=G9.resolveRegionConfig(s),a=Hk.resolveHostHeaderConfig(i),c=ne.resolveEndpointConfig(a),u=Gk.resolveHttpAuthSchemeConfig(c),d=Q9(u,t?.extensions||[]);this.config=d,this.middlewareStack.use(sn.getSchemaSerdePlugin(this.config)),this.middlewareStack.use(Bk.getUserAgentPlugin(this.config)),this.middlewareStack.use(Vk.getRetryPlugin(this.config)),this.middlewareStack.use(z9.getContentLengthPlugin(this.config)),this.middlewareStack.use(Hk.getHostHeaderPlugin(this.config)),this.middlewareStack.use(B9.getLoggerPlugin(this.config)),this.middlewareStack.use(V9.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(Ut.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:Gk.defaultCodeartifactHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async l=>new Ut.DefaultIdentityProviderConfig({"aws.auth#sigv4":l.credentials})})),this.middlewareStack.use(Ut.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},lr=class e extends te.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},Sf=class e extends lr{name="AccessDeniedException";$fault="client";constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},_f=class e extends lr{name="ConflictException";$fault="client";resourceId;resourceType;constructor(t){super({name:"ConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.resourceId=t.resourceId,this.resourceType=t.resourceType}},bf=class e extends lr{name="InternalServerException";$fault="server";constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype)}},wf=class e extends lr{name="ResourceNotFoundException";$fault="client";resourceId;resourceType;constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.resourceId=t.resourceId,this.resourceType=t.resourceType}},Pf=class e extends lr{name="ServiceQuotaExceededException";$fault="client";resourceId;resourceType;constructor(t){super({name:"ServiceQuotaExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.resourceId=t.resourceId,this.resourceType=t.resourceType}},Rf=class e extends lr{name="ThrottlingException";$fault="client";retryAfterSeconds;constructor(t){super({name:"ThrottlingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.retryAfterSeconds=t.retryAfterSeconds}},Cf=class e extends lr{name="ValidationException";$fault="client";reason;constructor(t){super({name:"ValidationException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.reason=t.reason}},J9="Asset",Z9="AccessDeniedException",eY="AssociateExternalConnection",tY="AssociateExternalConnectionRequest",rY="AssociateExternalConnectionResult",nY="AssociatedPackage",oY="AssociatedPackageList",sY="AssetSummary",iY="AssetSummaryList",aY="CreateDomain",cY="CreateDomainRequest",uY="CreateDomainResult",lY="ConflictException",dY="CreatePackageGroup",fY="CreatePackageGroupRequest",pY="CreatePackageGroupResult",mY="CopyPackageVersions",hY="CopyPackageVersionsRequest",gY="CopyPackageVersionsResult",yY="CreateRepository",EY="CreateRepositoryRequest",SY="CreateRepositoryResult",_Y="DomainDescription",bY="DeleteDomainPermissionsPolicy",wY="DeleteDomainPermissionsPolicyRequest",PY="DeleteDomainPermissionsPolicyResult",RY="DeleteDomainRequest",CY="DeleteDomainResult",AY="DescribeDomainRequest",TY="DescribeDomainResult",vY="DeleteDomain",xY="DescribeDomain",IY="DisassociateExternalConnection",OY="DisassociateExternalConnectionRequest",DY="DisassociateExternalConnectionResult",NY="DomainEntryPoint",kY="DeletePackage",$Y="DeletePackageGroup",LY="DeletePackageGroupRequest",MY="DeletePackageGroupResult",UY="DescribePackageGroupRequest",FY="DescribePackageGroupResult",qY="DescribePackageGroup",jY="DeletePackageRequest",HY="DeletePackageResult",BY="DescribePackageRequest",VY="DescribePackageResult",GY="DeletePackageVersions",zY="DeletePackageVersionsRequest",WY="DeletePackageVersionsResult",KY="DescribePackageVersionRequest",YY="DescribePackageVersionResult",XY="DisposePackageVersionsRequest",QY="DisposePackageVersionsResult",JY="DescribePackageVersion",ZY="DisposePackageVersions",eX="DescribePackage",tX="DeleteRepository",rX="DeleteRepositoryPermissionsPolicy",nX="DeleteRepositoryPermissionsPolicyRequest",oX="DeleteRepositoryPermissionsPolicyResult",sX="DeleteRepositoryRequest",iX="DeleteRepositoryResult",aX="DescribeRepositoryRequest",cX="DescribeRepositoryResult",uX="DescribeRepository",lX="DomainSummary",dX="DomainSummaryList",fX="GetAssociatedPackageGroup",pX="GetAssociatedPackageGroupRequest",mX="GetAssociatedPackageGroupResult",hX="GetAuthorizationToken",gX="GetAuthorizationTokenRequest",yX="GetAuthorizationTokenResult",EX="GetDomainPermissionsPolicy",SX="GetDomainPermissionsPolicyRequest",_X="GetDomainPermissionsPolicyResult",bX="GetPackageVersionAsset",wX="GetPackageVersionAssetRequest",PX="GetPackageVersionAssetResult",RX="GetPackageVersionReadme",CX="GetPackageVersionReadmeRequest",AX="GetPackageVersionReadmeResult",TX="GetRepositoryEndpoint",vX="GetRepositoryEndpointRequest",xX="GetRepositoryEndpointResult",IX="GetRepositoryPermissionsPolicy",OX="GetRepositoryPermissionsPolicyRequest",DX="GetRepositoryPermissionsPolicyResult",NX="InternalServerException",kX="ListAssociatedPackages",$X="ListAssociatedPackagesRequest",LX="ListAssociatedPackagesResult",MX="ListAllowedRepositoriesForGroup",UX="ListAllowedRepositoriesForGroupRequest",FX="ListAllowedRepositoriesForGroupResult",qX="ListDomains",jX="ListDomainsRequest",HX="ListDomainsResult",BX="LicenseInfo",VX="LicenseInfoList",GX="ListPackages",zX="ListPackageGroups",WX="ListPackageGroupsRequest",KX="ListPackageGroupsResult",YX="ListPackagesRequest",XX="ListPackagesResult",QX="ListPackageVersions",JX="ListPackageVersionAssets",ZX="ListPackageVersionAssetsRequest",eQ="ListPackageVersionAssetsResult",tQ="ListPackageVersionDependencies",rQ="ListPackageVersionDependenciesRequest",nQ="ListPackageVersionDependenciesResult",oQ="ListPackageVersionsRequest",sQ="ListPackageVersionsResult",iQ="ListRepositories",aQ="ListRepositoriesInDomain",cQ="ListRepositoriesInDomainRequest",uQ="ListRepositoriesInDomainResult",lQ="ListRepositoriesRequest",dQ="ListRepositoriesResult",fQ="ListSubPackageGroups",pQ="ListSubPackageGroupsRequest",mQ="ListSubPackageGroupsResult",hQ="ListTagsForResource",gQ="ListTagsForResourceRequest",yQ="ListTagsForResourceResult",EQ="PackageDependency",SQ="PackageDependencyList",_Q="PutDomainPermissionsPolicy",bQ="PutDomainPermissionsPolicyRequest",wQ="PutDomainPermissionsPolicyResult",PQ="PackageDescription",RQ="PackageGroupAllowedRepository",CQ="PackageGroupAllowedRepositoryList",AQ="PackageGroupAllowedRepositoryUpdates",TQ="PackageGroupAllowedRepositoryUpdate",vQ="PackageGroupDescription",xQ="PackageGroupOriginConfiguration",IQ="PackageGroupOriginRestriction",OQ="PackageGroupOriginRestrictions",DQ="PackageGroupReference",NQ="PackageGroupSummary",kQ="PackageGroupSummaryList",$Q="PackageOriginConfiguration",LQ="PackageOriginRestrictions",MQ="PutPackageOriginConfiguration",UQ="PutPackageOriginConfigurationRequest",FQ="PutPackageOriginConfigurationResult",qQ="PublishPackageVersion",jQ="PublishPackageVersionRequest",HQ="PublishPackageVersionResult",BQ="PutRepositoryPermissionsPolicy",VQ="PutRepositoryPermissionsPolicyRequest",GQ="PutRepositoryPermissionsPolicyResult",zQ="PackageSummary",WQ="PackageSummaryList",KQ="PackageVersionDescription",YQ="PackageVersionError",XQ="PackageVersionErrorMap",QQ="PackageVersionOrigin",JQ="PackageVersionSummary",ZQ="PackageVersionSummaryList",eJ="Retry-After",tJ="RepositoryDescription",rJ="RepositoryExternalConnectionInfo",nJ="RepositoryExternalConnectionInfoList",oJ="ResourceNotFoundException",sJ="ResourcePolicy",iJ="RepositorySummary",aJ="RepositorySummaryList",cJ="SuccessfulPackageVersionInfo",uJ="SuccessfulPackageVersionInfoMap",lJ="ServiceQuotaExceededException",dJ="Tag",fJ="ThrottlingException",pJ="TagList",mJ="TagResource",hJ="TagResourceRequest",gJ="TagResourceResult",yJ="UpdatePackageGroup",EJ="UpdatePackageGroupOriginConfiguration",SJ="UpdatePackageGroupOriginConfigurationRequest",_J="UpdatePackageGroupOriginConfigurationResult",bJ="UpdatePackageGroupRequest",wJ="UpdatePackageGroupResult",PJ="UpdatePackageVersionsStatus",RJ="UpdatePackageVersionsStatusRequest",CJ="UpdatePackageVersionsStatusResult",AJ="UpstreamRepository",TJ="UpstreamRepositoryInfo",vJ="UpstreamRepositoryInfoList",xJ="UpstreamRepositoryList",IJ="UntagResourceRequest",OJ="UntagResourceResult",DJ="UpdateRepositoryRequest",NJ="UpdateRepositoryResult",kJ="UntagResource",$J="UpdateRepository",LJ="ValidationException",MJ="X-AssetName",UJ="X-PackageVersion",FJ="X-PackageVersionRevision",Bo="arn",wS="administratorAccount",qJ="addAllowedRepositories",jJ="assetContent",e1="assetName",HJ="allowOverwrite",BJ="allowedRepositories",VJ="allowedRepositoryUpdates",GJ="assetSizeBytes",zJ="assetSHA256",t1="associationType",WJ="authorizationToken",KJ="administrator-account",za="asset",YJ="assets",si="client",dp="contactInfo",ii="createdTime",U="domain",XJ="defaultDisplayVersion",QJ="domainEntryPoint",fp="domainName",JJ="displayName",le="domainOwner",ZJ="deletedPackage",e7="destinationRepository",t7="durationSeconds",r7="dependencyType",Jn="description",n7="dependencies",me="domain-owner",o7="document",s7="domains",i7="destination-repository",a7="duration",Vo="error",r1="externalConnection",n1="externalConnectionName",c7="errorCode",u7="externalConnections",PS="encryptionKey",l7="effectiveMode",d7="errorMessage",RS="expectedStatus",Kk="endpointType",o1="external-connection",f7="expiration",de="format",pp="failedVersions",p7="hashes",Go="httpError",Ga="httpHeader",m7="homePage",_="httpQuery",ie="http",h7="inheritedFrom",g7="includeFromUpstream",y7="key",E7="licenses",zo="message",xr="maxResults",S7="mode",an="max-results",Wo="name",Ve="nextToken",fe="namespace",Ir="next-token",s1="owner",nc="originConfiguration",ES="originRestrictionType",SS="originType",i1="origin",ge="package",a1="policyDocument",_7="packageFormat",xt="packageGroup",c1="packageGroups",b7="packageName",w7="packagePrefix",mp="policyRevision",P7="publishedTime",Zn="packageVersion",u1="packageVersionRevision",l1="packages",d1="parent",CS="pattern",ai="package-group",ci="policy",R7="package-prefix",f1="policy-revision",Yk="preview",Xk="prefix",_S="publish",re="repository",Ho="resourceArn",C7="removeAllowedRepositories",A7="retryAfterSeconds",T7="repositoryCount",v7="repositoriesCount",x7="repositoryEndpoint",AS="resourceId",hp="repositoryName",p1="repositoryPrefix",TS="resourceType",oc="revision",I7="readme",O7="reason",m1="repositories",gp="restrictions",h1="repository-prefix",D7="streaming",Qk="sortBy",N7="s3BucketArn",k7="sourceCodeRepository",$7="sourceRepository",yp="successfulVersions",L7="server",M7="size",g1="smithy.ts.sdk.synthetic.com.amazonaws.codeartifact",U7="source-repository",on="status",F7="summary",sc="tags",q7="tagKeys",j7="targetStatus",vS="upstreams",Jk="unfinished",bS="upstream",H7="url",ic="versions",xS="versionRevisions",Ep="versionRevision",B7="versionRequirement",V7="value",Jt="version",G7="x-amz-content-sha256",w="com.amazonaws.codeartifact",y1=[0,w,J9,{[D7]:1},42],E1=[-3,w,Z9,{[Vo]:si,[Go]:403},[zo],[0],1];sn.TypeRegistry.for(w).registerError(E1,Sf);var IS=[3,w,sY,0,[Wo,M7,p7],[0,1,128],1],S1=[3,w,nY,0,[de,fe,ge,t1],[0,0,0,0]],_1=[3,w,tY,0,[U,re,r1,le],[[0,{[_]:U}],[0,{[_]:re}],[0,{[_]:o1}],[0,{[_]:me}]],3],b1=[3,w,rY,0,[re],[()=>Yo]],w1=[-3,w,lY,{[Vo]:si,[Go]:409},[zo,AS,TS],[0,0,0],1];sn.TypeRegistry.for(w).registerError(w1,_f);var P1=[3,w,hY,0,[U,$7,e7,de,ge,le,fe,ic,xS,HJ,g7],[[0,{[_]:U}],[0,{[_]:U7}],[0,{[_]:i7}],[0,{[_]:de}],[0,{[_]:ge}],[0,{[_]:me}],[0,{[_]:fe}],64,128,2,2],5],R1=[3,w,gY,0,[yp,pp],[()=>Pp,()=>wp]],C1=[3,w,cY,0,[U,PS,sc],[[0,{[_]:U}],0,()=>ac],1],A1=[3,w,uY,0,[U],[()=>Sp]],T1=[3,w,fY,0,[U,xt,le,dp,Jn,sc],[[0,{[_]:U}],0,[0,{[_]:me}],0,0,()=>ac],2],v1=[3,w,pY,0,[xt],[()=>Ko]],x1=[3,w,EY,0,[U,re,le,Jn,vS,sc],[[0,{[_]:U}],[0,{[_]:re}],[0,{[_]:me}],0,()=>kL,()=>ac],2],I1=[3,w,SY,0,[re],[()=>Yo]],O1=[3,w,wY,0,[U,le,mp],[[0,{[_]:U}],[0,{[_]:me}],[0,{[_]:f1}]],1],D1=[3,w,PY,0,[ci],[()=>Xo]],N1=[3,w,RY,0,[U,le],[[0,{[_]:U}],[0,{[_]:me}]],1],k1=[3,w,CY,0,[U],[()=>Sp]],$1=[3,w,LY,0,[U,xt,le],[[0,{[_]:U}],[0,{[_]:ai}],[0,{[_]:me}]],2],L1=[3,w,MY,0,[xt],[()=>Ko]],M1=[3,w,jY,0,[U,re,de,ge,le,fe],[[0,{[_]:U}],[0,{[_]:re}],[0,{[_]:de}],[0,{[_]:ge}],[0,{[_]:me}],[0,{[_]:fe}]],4],U1=[3,w,HY,0,[ZJ],[()=>NS]],F1=[3,w,zY,0,[U,re,de,ge,ic,le,fe,RS],[[0,{[_]:U}],[0,{[_]:re}],[0,{[_]:de}],[0,{[_]:ge}],64,[0,{[_]:me}],[0,{[_]:fe}],0],5],q1=[3,w,WY,0,[yp,pp],[()=>Pp,()=>wp]],j1=[3,w,nX,0,[U,re,le,mp],[[0,{[_]:U}],[0,{[_]:re}],[0,{[_]:me}],[0,{[_]:f1}]],2],H1=[3,w,oX,0,[ci],[()=>Xo]],B1=[3,w,sX,0,[U,re,le],[[0,{[_]:U}],[0,{[_]:re}],[0,{[_]:me}]],2],V1=[3,w,iX,0,[re],[()=>Yo]],G1=[3,w,AY,0,[U,le],[[0,{[_]:U}],[0,{[_]:me}]],1],z1=[3,w,TY,0,[U],[()=>Sp]],W1=[3,w,UY,0,[U,xt,le],[[0,{[_]:U}],[0,{[_]:ai}],[0,{[_]:me}]],2],K1=[3,w,FY,0,[xt],[()=>Ko]],Y1=[3,w,BY,0,[U,re,de,ge,le,fe],[[0,{[_]:U}],[0,{[_]:re}],[0,{[_]:de}],[0,{[_]:ge}],[0,{[_]:me}],[0,{[_]:fe}]],4],X1=[3,w,VY,0,[ge],[()=>K$],1],Q1=[3,w,KY,0,[U,re,de,ge,Zn,le,fe],[[0,{[_]:U}],[0,{[_]:re}],[0,{[_]:de}],[0,{[_]:ge}],[0,{[_]:Jt}],[0,{[_]:me}],[0,{[_]:fe}]],5],J1=[3,w,YY,0,[Zn],[()=>J$],1],Z1=[3,w,aX,0,[U,re,le],[[0,{[_]:U}],[0,{[_]:re}],[0,{[_]:me}]],2],e$=[3,w,cX,0,[re],[()=>Yo]],t$=[3,w,OY,0,[U,re,r1,le],[[0,{[_]:U}],[0,{[_]:re}],[0,{[_]:o1}],[0,{[_]:me}]],3],r$=[3,w,DY,0,[re],[()=>Yo]],n$=[3,w,XY,0,[U,re,de,ge,ic,le,fe,xS,RS],[[0,{[_]:U}],[0,{[_]:re}],[0,{[_]:de}],[0,{[_]:ge}],64,[0,{[_]:me}],[0,{[_]:fe}],128,0],5],o$=[3,w,QY,0,[yp,pp],[()=>Pp,()=>wp]],Sp=[3,w,_Y,0,[Wo,s1,Bo,on,ii,PS,T7,GJ,N7],[0,0,0,0,4,0,1,1,0]],s$=[3,w,NY,0,[hp,n1],[0,0]],i$=[3,w,lX,0,[Wo,s1,Bo,on,ii,PS],[0,0,0,0,4,0]],a$=[3,w,pX,0,[U,de,ge,le,fe],[[0,{[_]:U}],[0,{[_]:de}],[0,{[_]:ge}],[0,{[_]:me}],[0,{[_]:fe}]],3],c$=[3,w,mX,0,[xt,t1],[()=>Ko,0]],u$=[3,w,gX,0,[U,le,t7],[[0,{[_]:U}],[0,{[_]:me}],[1,{[_]:a7}]],1],l$=[3,w,yX,8,[WJ,f7],[0,4]],d$=[3,w,SX,0,[U,le],[[0,{[_]:U}],[0,{[_]:me}]],1],f$=[3,w,_X,0,[ci],[()=>Xo]],p$=[3,w,wX,0,[U,re,de,ge,Zn,za,le,fe,u1],[[0,{[_]:U}],[0,{[_]:re}],[0,{[_]:de}],[0,{[_]:ge}],[0,{[_]:Jt}],[0,{[_]:za}],[0,{[_]:me}],[0,{[_]:fe}],[0,{[_]:oc}]],6],m$=[3,w,PX,0,[za,e1,Zn,u1],[[()=>y1,16],[0,{[Ga]:MJ}],[0,{[Ga]:UJ}],[0,{[Ga]:FJ}]]],h$=[3,w,CX,0,[U,re,de,ge,Zn,le,fe],[[0,{[_]:U}],[0,{[_]:re}],[0,{[_]:de}],[0,{[_]:ge}],[0,{[_]:Jt}],[0,{[_]:me}],[0,{[_]:fe}]],5],g$=[3,w,AX,0,[de,fe,ge,Jt,Ep,I7],[0,0,0,0,0,0]],y$=[3,w,vX,0,[U,re,de,le,Kk],[[0,{[_]:U}],[0,{[_]:re}],[0,{[_]:de}],[0,{[_]:me}],[0,{[_]:Kk}]],3],E$=[3,w,xX,0,[x7],[0]],S$=[3,w,OX,0,[U,re,le],[[0,{[_]:U}],[0,{[_]:re}],[0,{[_]:me}]],2],_$=[3,w,DX,0,[ci],[()=>Xo]],b$=[-3,w,NX,{[Vo]:L7,[Go]:500},[zo],[0],1];sn.TypeRegistry.for(w).registerError(b$,bf);var w$=[3,w,BX,0,[Wo,H7],[0,0]],P$=[3,w,UX,0,[U,xt,ES,le,xr,Ve],[[0,{[_]:U}],[0,{[_]:ai}],[0,{[_]:ES}],[0,{[_]:me}],[1,{[_]:an}],[0,{[_]:Ir}]],3],R$=[3,w,FX,0,[BJ,Ve],[64,0]],C$=[3,w,$X,0,[U,xt,le,xr,Ve,Yk],[[0,{[_]:U}],[0,{[_]:ai}],[0,{[_]:me}],[1,{[_]:an}],[0,{[_]:Ir}],[2,{[_]:Yk}]],2],A$=[3,w,LX,0,[l1,Ve],[()=>W7,0]],T$=[3,w,jX,0,[xr,Ve],[1,0]],v$=[3,w,HX,0,[s7,Ve],[()=>K7,0]],x$=[3,w,WX,0,[U,le,xr,Ve,Xk],[[0,{[_]:U}],[0,{[_]:me}],[1,{[_]:an}],[0,{[_]:Ir}],[0,{[_]:Xk}]],1],I$=[3,w,KX,0,[c1,Ve],[()=>DL,0]],O$=[3,w,YX,0,[U,re,le,de,fe,w7,xr,Ve,_S,bS],[[0,{[_]:U}],[0,{[_]:re}],[0,{[_]:me}],[0,{[_]:de}],[0,{[_]:fe}],[0,{[_]:R7}],[1,{[_]:an}],[0,{[_]:Ir}],[0,{[_]:_S}],[0,{[_]:bS}]],2],D$=[3,w,XX,0,[l1,Ve],[()=>Q7,0]],N$=[3,w,ZX,0,[U,re,de,ge,Zn,le,fe,xr,Ve],[[0,{[_]:U}],[0,{[_]:re}],[0,{[_]:de}],[0,{[_]:ge}],[0,{[_]:Jt}],[0,{[_]:me}],[0,{[_]:fe}],[1,{[_]:an}],[0,{[_]:Ir}]],5],k$=[3,w,eQ,0,[de,fe,ge,Jt,Ep,Ve,YJ],[0,0,0,0,0,0,()=>z7]],$$=[3,w,rQ,0,[U,re,de,ge,Zn,le,fe,Ve],[[0,{[_]:U}],[0,{[_]:re}],[0,{[_]:de}],[0,{[_]:ge}],[0,{[_]:Jt}],[0,{[_]:me}],[0,{[_]:fe}],[0,{[_]:Ir}]],5],L$=[3,w,nQ,0,[de,fe,ge,Jt,Ep,Ve,n7],[0,0,0,0,0,0,()=>X7]],M$=[3,w,oQ,0,[U,re,de,ge,le,fe,on,Qk,xr,Ve,SS],[[0,{[_]:U}],[0,{[_]:re}],[0,{[_]:de}],[0,{[_]:ge}],[0,{[_]:me}],[0,{[_]:fe}],[0,{[_]:on}],[0,{[_]:Qk}],[1,{[_]:an}],[0,{[_]:Ir}],[0,{[_]:SS}]],4],U$=[3,w,sQ,0,[XJ,de,fe,ge,ic,Ve],[0,0,0,0,()=>J7,0]],F$=[3,w,cQ,0,[U,le,wS,p1,xr,Ve],[[0,{[_]:U}],[0,{[_]:me}],[0,{[_]:KJ}],[0,{[_]:h1}],[1,{[_]:an}],[0,{[_]:Ir}]],1],q$=[3,w,uQ,0,[m1,Ve],[()=>NL,0]],j$=[3,w,lQ,0,[p1,xr,Ve],[[0,{[_]:h1}],[1,{[_]:an}],[0,{[_]:Ir}]]],H$=[3,w,dQ,0,[m1,Ve],[()=>NL,0]],B$=[3,w,pQ,0,[U,xt,le,xr,Ve],[[0,{[_]:U}],[0,{[_]:ai}],[0,{[_]:me}],[1,{[_]:an}],[0,{[_]:Ir}]],2],V$=[3,w,mQ,0,[c1,Ve],[()=>DL,0]],G$=[3,w,gQ,0,[Ho],[[0,{[_]:Ho}]],1],z$=[3,w,yQ,0,[sc],[()=>ac]],W$=[3,w,EQ,0,[fe,ge,r7,B7],[0,0,0,0]],K$=[3,w,PQ,0,[de,fe,Wo,nc],[0,0,0,()=>bp]],Y$=[3,w,RQ,0,[hp,ES],[0,0]],Ko=[3,w,vQ,0,[Bo,CS,fp,le,ii,dp,Jn,nc,d1],[0,0,0,0,4,0,0,()=>OS,()=>_p]],OS=[3,w,xQ,0,[gp],[()=>tZ]],X$=[3,w,IQ,0,[S7,l7,h7,v7],[0,0,()=>_p,1]],_p=[3,w,DQ,0,[Bo,CS],[0,0]],Q$=[3,w,NQ,0,[Bo,CS,fp,le,ii,dp,Jn,nc,d1],[0,0,0,0,4,0,0,()=>OS,()=>_p]],bp=[3,w,$Q,0,[gp],[()=>DS]],DS=[3,w,LQ,0,[_S,bS],[0,0],2],NS=[3,w,zQ,0,[de,fe,ge,nc],[0,0,0,()=>bp]],J$=[3,w,KQ,0,[de,fe,b7,JJ,Jt,F7,m7,k7,P7,E7,oc,on,i1],[0,0,0,0,0,0,0,0,4,()=>Y7,0,0,()=>kS]],Z$=[3,w,YQ,0,[c7,d7],[0,0]],kS=[3,w,QQ,0,[QJ,SS],[()=>s$,0]],eL=[3,w,JQ,0,[Jt,on,oc,i1],[0,0,0,()=>kS],2],tL=[3,w,jQ,0,[U,re,de,ge,Zn,jJ,e1,zJ,le,fe,Jk],[[0,{[_]:U}],[0,{[_]:re}],[0,{[_]:de}],[0,{[_]:ge}],[0,{[_]:Jt}],[()=>y1,16],[0,{[_]:za}],[0,{[Ga]:G7}],[0,{[_]:me}],[0,{[_]:fe}],[2,{[_]:Jk}]],8],rL=[3,w,HQ,0,[de,fe,ge,Jt,Ep,on,za],[0,0,0,0,0,0,()=>IS]],nL=[3,w,bQ,0,[U,a1,le,mp],[0,0,0,0],2],oL=[3,w,wQ,0,[ci],[()=>Xo]],sL=[3,w,UQ,0,[U,re,de,ge,gp,le,fe],[[0,{[_]:U}],[0,{[_]:re}],[0,{[_]:de}],[0,{[_]:ge}],()=>DS,[0,{[_]:me}],[0,{[_]:fe}]],5],iL=[3,w,FQ,0,[nc],[()=>bp]],aL=[3,w,VQ,0,[U,re,a1,le,mp],[[0,{[_]:U}],[0,{[_]:re}],0,[0,{[_]:me}],0],3],cL=[3,w,GQ,0,[ci],[()=>Xo]],Yo=[3,w,tJ,0,[Wo,wS,fp,le,Bo,Jn,vS,u7,ii],[0,0,0,0,0,0,()=>eZ,()=>Z7,4]],uL=[3,w,rJ,0,[n1,_7,on],[0,0,0]],lL=[3,w,iJ,0,[Wo,wS,fp,le,Bo,Jn,ii],[0,0,0,0,0,0,4]],dL=[-3,w,oJ,{[Vo]:si,[Go]:404},[zo,AS,TS],[0,0,0],1];sn.TypeRegistry.for(w).registerError(dL,wf);var Xo=[3,w,sJ,0,[Ho,oc,o7],[0,0,0]],fL=[-3,w,lJ,{[Vo]:si,[Go]:402},[zo,AS,TS],[0,0,0],1];sn.TypeRegistry.for(w).registerError(fL,Pf);var pL=[3,w,cJ,0,[oc,on],[0,0]],mL=[3,w,dJ,0,[y7,V7],[0,0],2],hL=[3,w,hJ,0,[Ho,sc],[[0,{[_]:Ho}],()=>ac],2],gL=[3,w,gJ,0,[],[]],yL=[-3,w,fJ,{[Vo]:si,[Go]:429},[zo,A7],[0,[1,{[Ga]:eJ}]],1];sn.TypeRegistry.for(w).registerError(yL,Rf);var EL=[3,w,IJ,0,[Ho,q7],[[0,{[_]:Ho}],64],2],SL=[3,w,OJ,0,[],[]],_L=[3,w,SJ,0,[U,xt,le,gp,qJ,C7],[[0,{[_]:U}],[0,{[_]:ai}],[0,{[_]:me}],128,()=>Zk,()=>Zk],2],bL=[3,w,_J,0,[xt,VJ],[()=>Ko,[2,w,AQ,0,0,[2,w,TQ,0,0,64]]]],wL=[3,w,bJ,0,[U,xt,le,dp,Jn],[[0,{[_]:U}],0,[0,{[_]:me}],0,0],2],PL=[3,w,wJ,0,[xt],[()=>Ko]],RL=[3,w,RJ,0,[U,re,de,ge,ic,j7,le,fe,xS,RS],[[0,{[_]:U}],[0,{[_]:re}],[0,{[_]:de}],[0,{[_]:ge}],64,0,[0,{[_]:me}],[0,{[_]:fe}],128,0],6],CL=[3,w,CJ,0,[yp,pp],[()=>Pp,()=>wp]],AL=[3,w,DJ,0,[U,re,le,Jn,vS],[[0,{[_]:U}],[0,{[_]:re}],[0,{[_]:me}],0,()=>kL],2],TL=[3,w,NJ,0,[re],[()=>Yo]],vL=[3,w,AJ,0,[hp],[0],1],xL=[3,w,TJ,0,[hp],[0]],IL=[-3,w,LJ,{[Vo]:si,[Go]:400},[zo,O7],[0,0],1];sn.TypeRegistry.for(w).registerError(IL,Cf);var OL=[-3,g1,"CodeartifactServiceException",0,[],[]];sn.TypeRegistry.for(g1).registerError(OL,lr);var z7=[1,w,iY,0,()=>IS],W7=[1,w,oY,0,()=>S1],K7=[1,w,dX,0,()=>i$],Y7=[1,w,VX,0,()=>w$],X7=[1,w,SQ,0,()=>W$],Zk=[1,w,CQ,0,()=>Y$],DL=[1,w,kQ,0,()=>Q$],Q7=[1,w,WQ,0,()=>NS],J7=[1,w,ZQ,0,()=>eL],Z7=[1,w,nJ,0,()=>uL],NL=[1,w,aJ,0,()=>lL],ac=[1,w,pJ,0,()=>mL],eZ=[1,w,vJ,0,()=>xL],kL=[1,w,xJ,0,()=>vL],tZ=[2,w,OQ,0,0,()=>X$],wp=[2,w,XQ,0,0,()=>Z$],Pp=[2,w,uJ,0,0,()=>pL],$L=[9,w,eY,{[ie]:["POST","/v1/repository/external-connection",200]},()=>_1,()=>b1],LL=[9,w,mY,{[ie]:["POST","/v1/package/versions/copy",200]},()=>P1,()=>R1],ML=[9,w,aY,{[ie]:["POST","/v1/domain",200]},()=>C1,()=>A1],UL=[9,w,dY,{[ie]:["POST","/v1/package-group",200]},()=>T1,()=>v1],FL=[9,w,yY,{[ie]:["POST","/v1/repository",200]},()=>x1,()=>I1],qL=[9,w,vY,{[ie]:["DELETE","/v1/domain",200]},()=>N1,()=>k1],jL=[9,w,bY,{[ie]:["DELETE","/v1/domain/permissions/policy",200]},()=>O1,()=>D1],HL=[9,w,kY,{[ie]:["DELETE","/v1/package",200]},()=>M1,()=>U1],BL=[9,w,$Y,{[ie]:["DELETE","/v1/package-group",200]},()=>$1,()=>L1],VL=[9,w,GY,{[ie]:["POST","/v1/package/versions/delete",200]},()=>F1,()=>q1],GL=[9,w,tX,{[ie]:["DELETE","/v1/repository",200]},()=>B1,()=>V1],zL=[9,w,rX,{[ie]:["DELETE","/v1/repository/permissions/policies",200]},()=>j1,()=>H1],WL=[9,w,xY,{[ie]:["GET","/v1/domain",200]},()=>G1,()=>z1],KL=[9,w,eX,{[ie]:["GET","/v1/package",200]},()=>Y1,()=>X1],YL=[9,w,qY,{[ie]:["GET","/v1/package-group",200]},()=>W1,()=>K1],XL=[9,w,JY,{[ie]:["GET","/v1/package/version",200]},()=>Q1,()=>J1],QL=[9,w,uX,{[ie]:["GET","/v1/repository",200]},()=>Z1,()=>e$],JL=[9,w,IY,{[ie]:["DELETE","/v1/repository/external-connection",200]},()=>t$,()=>r$],ZL=[9,w,ZY,{[ie]:["POST","/v1/package/versions/dispose",200]},()=>n$,()=>o$],eM=[9,w,fX,{[ie]:["GET","/v1/get-associated-package-group",200]},()=>a$,()=>c$],tM=[9,w,hX,{[ie]:["POST","/v1/authorization-token",200]},()=>u$,()=>l$],rM=[9,w,EX,{[ie]:["GET","/v1/domain/permissions/policy",200]},()=>d$,()=>f$],nM=[9,w,bX,{[ie]:["GET","/v1/package/version/asset",200]},()=>p$,()=>m$],oM=[9,w,RX,{[ie]:["GET","/v1/package/version/readme",200]},()=>h$,()=>g$],sM=[9,w,TX,{[ie]:["GET","/v1/repository/endpoint",200]},()=>y$,()=>E$],iM=[9,w,IX,{[ie]:["GET","/v1/repository/permissions/policy",200]},()=>S$,()=>_$],aM=[9,w,MX,{[ie]:["GET","/v1/package-group-allowed-repositories",200]},()=>P$,()=>R$],cM=[9,w,kX,{[ie]:["GET","/v1/list-associated-packages",200]},()=>C$,()=>A$],uM=[9,w,qX,{[ie]:["POST","/v1/domains",200]},()=>T$,()=>v$],lM=[9,w,zX,{[ie]:["POST","/v1/package-groups",200]},()=>x$,()=>I$],dM=[9,w,GX,{[ie]:["POST","/v1/packages",200]},()=>O$,()=>D$],fM=[9,w,JX,{[ie]:["POST","/v1/package/version/assets",200]},()=>N$,()=>k$],pM=[9,w,tQ,{[ie]:["POST","/v1/package/version/dependencies",200]},()=>$$,()=>L$],mM=[9,w,QX,{[ie]:["POST","/v1/package/versions",200]},()=>M$,()=>U$],hM=[9,w,iQ,{[ie]:["POST","/v1/repositories",200]},()=>j$,()=>H$],gM=[9,w,aQ,{[ie]:["POST","/v1/domain/repositories",200]},()=>F$,()=>q$],yM=[9,w,fQ,{[ie]:["POST","/v1/package-groups/sub-groups",200]},()=>B$,()=>V$],EM=[9,w,hQ,{[ie]:["POST","/v1/tags",200]},()=>G$,()=>z$],SM=[9,w,qQ,{[ie]:["POST","/v1/package/version/publish",200]},()=>tL,()=>rL],_M=[9,w,_Q,{[ie]:["PUT","/v1/domain/permissions/policy",200]},()=>nL,()=>oL],bM=[9,w,MQ,{[ie]:["POST","/v1/package",200]},()=>sL,()=>iL],wM=[9,w,BQ,{[ie]:["PUT","/v1/repository/permissions/policy",200]},()=>aL,()=>cL],PM=[9,w,mJ,{[ie]:["POST","/v1/tag",200]},()=>hL,()=>gL],RM=[9,w,kJ,{[ie]:["POST","/v1/untag",200]},()=>EL,()=>SL],CM=[9,w,yJ,{[ie]:["PUT","/v1/package-group",200]},()=>wL,()=>PL],AM=[9,w,EJ,{[ie]:["PUT","/v1/package-group-origin-configuration",200]},()=>_L,()=>bL],TM=[9,w,PJ,{[ie]:["POST","/v1/package/versions/update_status",200]},()=>RL,()=>CL],vM=[9,w,$J,{[ie]:["PUT","/v1/repository",200]},()=>AL,()=>TL],Af=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","AssociateExternalConnection",{}).n("CodeartifactClient","AssociateExternalConnectionCommand").sc($L).build(){},Tf=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","CopyPackageVersions",{}).n("CodeartifactClient","CopyPackageVersionsCommand").sc(LL).build(){},vf=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","CreateDomain",{}).n("CodeartifactClient","CreateDomainCommand").sc(ML).build(){},xf=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","CreatePackageGroup",{}).n("CodeartifactClient","CreatePackageGroupCommand").sc(UL).build(){},If=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","CreateRepository",{}).n("CodeartifactClient","CreateRepositoryCommand").sc(FL).build(){},Of=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","DeleteDomain",{}).n("CodeartifactClient","DeleteDomainCommand").sc(qL).build(){},Df=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","DeleteDomainPermissionsPolicy",{}).n("CodeartifactClient","DeleteDomainPermissionsPolicyCommand").sc(jL).build(){},Nf=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","DeletePackage",{}).n("CodeartifactClient","DeletePackageCommand").sc(HL).build(){},kf=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","DeletePackageGroup",{}).n("CodeartifactClient","DeletePackageGroupCommand").sc(BL).build(){},$f=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","DeletePackageVersions",{}).n("CodeartifactClient","DeletePackageVersionsCommand").sc(VL).build(){},Lf=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","DeleteRepository",{}).n("CodeartifactClient","DeleteRepositoryCommand").sc(GL).build(){},Mf=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","DeleteRepositoryPermissionsPolicy",{}).n("CodeartifactClient","DeleteRepositoryPermissionsPolicyCommand").sc(zL).build(){},Uf=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","DescribeDomain",{}).n("CodeartifactClient","DescribeDomainCommand").sc(WL).build(){},Ff=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","DescribePackage",{}).n("CodeartifactClient","DescribePackageCommand").sc(KL).build(){},qf=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","DescribePackageGroup",{}).n("CodeartifactClient","DescribePackageGroupCommand").sc(YL).build(){},jf=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","DescribePackageVersion",{}).n("CodeartifactClient","DescribePackageVersionCommand").sc(XL).build(){},Hf=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","DescribeRepository",{}).n("CodeartifactClient","DescribeRepositoryCommand").sc(QL).build(){},Bf=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","DisassociateExternalConnection",{}).n("CodeartifactClient","DisassociateExternalConnectionCommand").sc(JL).build(){},Vf=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","DisposePackageVersions",{}).n("CodeartifactClient","DisposePackageVersionsCommand").sc(ZL).build(){},Gf=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","GetAssociatedPackageGroup",{}).n("CodeartifactClient","GetAssociatedPackageGroupCommand").sc(eM).build(){},zf=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","GetAuthorizationToken",{}).n("CodeartifactClient","GetAuthorizationTokenCommand").sc(tM).build(){},Wf=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","GetDomainPermissionsPolicy",{}).n("CodeartifactClient","GetDomainPermissionsPolicyCommand").sc(rM).build(){},Kf=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","GetPackageVersionAsset",{}).n("CodeartifactClient","GetPackageVersionAssetCommand").sc(nM).build(){},Yf=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","GetPackageVersionReadme",{}).n("CodeartifactClient","GetPackageVersionReadmeCommand").sc(oM).build(){},Xf=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","GetRepositoryEndpoint",{}).n("CodeartifactClient","GetRepositoryEndpointCommand").sc(sM).build(){},Qf=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","GetRepositoryPermissionsPolicy",{}).n("CodeartifactClient","GetRepositoryPermissionsPolicyCommand").sc(iM).build(){},Wa=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","ListAllowedRepositoriesForGroup",{}).n("CodeartifactClient","ListAllowedRepositoriesForGroupCommand").sc(aM).build(){},Ka=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","ListAssociatedPackages",{}).n("CodeartifactClient","ListAssociatedPackagesCommand").sc(cM).build(){},Ya=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","ListDomains",{}).n("CodeartifactClient","ListDomainsCommand").sc(uM).build(){},Xa=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","ListPackageGroups",{}).n("CodeartifactClient","ListPackageGroupsCommand").sc(lM).build(){},Qa=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","ListPackages",{}).n("CodeartifactClient","ListPackagesCommand").sc(dM).build(){},Ja=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","ListPackageVersionAssets",{}).n("CodeartifactClient","ListPackageVersionAssetsCommand").sc(fM).build(){},Jf=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","ListPackageVersionDependencies",{}).n("CodeartifactClient","ListPackageVersionDependenciesCommand").sc(pM).build(){},Za=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","ListPackageVersions",{}).n("CodeartifactClient","ListPackageVersionsCommand").sc(mM).build(){},ec=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","ListRepositories",{}).n("CodeartifactClient","ListRepositoriesCommand").sc(hM).build(){},tc=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","ListRepositoriesInDomain",{}).n("CodeartifactClient","ListRepositoriesInDomainCommand").sc(gM).build(){},rc=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","ListSubPackageGroups",{}).n("CodeartifactClient","ListSubPackageGroupsCommand").sc(yM).build(){},Zf=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","ListTagsForResource",{}).n("CodeartifactClient","ListTagsForResourceCommand").sc(EM).build(){},ep=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","PublishPackageVersion",{}).n("CodeartifactClient","PublishPackageVersionCommand").sc(SM).build(){},tp=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","PutDomainPermissionsPolicy",{}).n("CodeartifactClient","PutDomainPermissionsPolicyCommand").sc(_M).build(){},rp=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","PutPackageOriginConfiguration",{}).n("CodeartifactClient","PutPackageOriginConfigurationCommand").sc(bM).build(){},np=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","PutRepositoryPermissionsPolicy",{}).n("CodeartifactClient","PutRepositoryPermissionsPolicyCommand").sc(wM).build(){},op=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","TagResource",{}).n("CodeartifactClient","TagResourceCommand").sc(PM).build(){},sp=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","UntagResource",{}).n("CodeartifactClient","UntagResourceCommand").sc(RM).build(){},ip=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","UpdatePackageGroup",{}).n("CodeartifactClient","UpdatePackageGroupCommand").sc(CM).build(){},ap=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","UpdatePackageGroupOriginConfiguration",{}).n("CodeartifactClient","UpdatePackageGroupOriginConfigurationCommand").sc(AM).build(){},cp=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","UpdatePackageVersionsStatus",{}).n("CodeartifactClient","UpdatePackageVersionsStatusCommand").sc(TM).build(){},up=class extends te.Command.classBuilder().ep(se).m(function(t,r,n,o){return[ne.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("CodeArtifactControlPlaneService","UpdateRepository",{}).n("CodeartifactClient","UpdateRepositoryCommand").sc(vM).build(){},xM=Ut.createPaginator(vt,Wa,"nextToken","nextToken","maxResults"),IM=Ut.createPaginator(vt,Ka,"nextToken","nextToken","maxResults"),OM=Ut.createPaginator(vt,Ya,"nextToken","nextToken","maxResults"),DM=Ut.createPaginator(vt,Xa,"nextToken","nextToken","maxResults"),NM=Ut.createPaginator(vt,Qa,"nextToken","nextToken","maxResults"),kM=Ut.createPaginator(vt,Ja,"nextToken","nextToken","maxResults"),$M=Ut.createPaginator(vt,Za,"nextToken","nextToken","maxResults"),LM=Ut.createPaginator(vt,tc,"nextToken","nextToken","maxResults"),MM=Ut.createPaginator(vt,ec,"nextToken","nextToken","maxResults"),UM=Ut.createPaginator(vt,rc,"nextToken","nextToken","maxResults"),rZ={AssociateExternalConnectionCommand:Af,CopyPackageVersionsCommand:Tf,CreateDomainCommand:vf,CreatePackageGroupCommand:xf,CreateRepositoryCommand:If,DeleteDomainCommand:Of,DeleteDomainPermissionsPolicyCommand:Df,DeletePackageCommand:Nf,DeletePackageGroupCommand:kf,DeletePackageVersionsCommand:$f,DeleteRepositoryCommand:Lf,DeleteRepositoryPermissionsPolicyCommand:Mf,DescribeDomainCommand:Uf,DescribePackageCommand:Ff,DescribePackageGroupCommand:qf,DescribePackageVersionCommand:jf,DescribeRepositoryCommand:Hf,DisassociateExternalConnectionCommand:Bf,DisposePackageVersionsCommand:Vf,GetAssociatedPackageGroupCommand:Gf,GetAuthorizationTokenCommand:zf,GetDomainPermissionsPolicyCommand:Wf,GetPackageVersionAssetCommand:Kf,GetPackageVersionReadmeCommand:Yf,GetRepositoryEndpointCommand:Xf,GetRepositoryPermissionsPolicyCommand:Qf,ListAllowedRepositoriesForGroupCommand:Wa,ListAssociatedPackagesCommand:Ka,ListDomainsCommand:Ya,ListPackageGroupsCommand:Xa,ListPackagesCommand:Qa,ListPackageVersionAssetsCommand:Ja,ListPackageVersionDependenciesCommand:Jf,ListPackageVersionsCommand:Za,ListRepositoriesCommand:ec,ListRepositoriesInDomainCommand:tc,ListSubPackageGroupsCommand:rc,ListTagsForResourceCommand:Zf,PublishPackageVersionCommand:ep,PutDomainPermissionsPolicyCommand:tp,PutPackageOriginConfigurationCommand:rp,PutRepositoryPermissionsPolicyCommand:np,TagResourceCommand:op,UntagResourceCommand:sp,UpdatePackageGroupCommand:ip,UpdatePackageGroupOriginConfigurationCommand:ap,UpdatePackageVersionsStatusCommand:cp,UpdateRepositoryCommand:up},nZ={paginateListAllowedRepositoriesForGroup:xM,paginateListAssociatedPackages:IM,paginateListDomains:OM,paginateListPackageGroups:DM,paginateListPackages:NM,paginateListPackageVersionAssets:kM,paginateListPackageVersions:$M,paginateListRepositories:MM,paginateListRepositoriesInDomain:LM,paginateListSubPackageGroups:UM},lp=class extends vt{};te.createAggregatedClient(rZ,lp,{paginators:nZ});var oZ={ALLOW:"ALLOW",BLOCK:"BLOCK"},sZ={ALLOW:"ALLOW",BLOCK:"BLOCK"},iZ={MD5:"MD5",SHA1:"SHA-1",SHA256:"SHA-256",SHA512:"SHA-512"},aZ={STRONG:"STRONG",WEAK:"WEAK"},cZ={CARGO:"cargo",GENERIC:"generic",MAVEN:"maven",NPM:"npm",NUGET:"nuget",PYPI:"pypi",RUBY:"ruby",SWIFT:"swift"},uZ={AVAILABLE:"Available"},lZ={ASSET:"asset",DOMAIN:"domain",PACKAGE:"package",PACKAGE_VERSION:"package-version",REPOSITORY:"repository"},dZ={CANNOT_PARSE:"CANNOT_PARSE",ENCRYPTION_KEY_ERROR:"ENCRYPTION_KEY_ERROR",FIELD_VALIDATION_FAILED:"FIELD_VALIDATION_FAILED",OTHER:"OTHER",UNKNOWN_OPERATION:"UNKNOWN_OPERATION"},fZ={ALREADY_EXISTS:"ALREADY_EXISTS",MISMATCHED_REVISION:"MISMATCHED_REVISION",MISMATCHED_STATUS:"MISMATCHED_STATUS",NOT_ALLOWED:"NOT_ALLOWED",NOT_FOUND:"NOT_FOUND",SKIPPED:"SKIPPED"},pZ={ARCHIVED:"Archived",DELETED:"Deleted",DISPOSED:"Disposed",PUBLISHED:"Published",UNFINISHED:"Unfinished",UNLISTED:"Unlisted"},mZ={ACTIVE:"Active",DELETED:"Deleted"},hZ={EXTERNAL_UPSTREAM:"EXTERNAL_UPSTREAM",INTERNAL_UPSTREAM:"INTERNAL_UPSTREAM",PUBLISH:"PUBLISH"},gZ={ALLOW:"ALLOW",ALLOW_SPECIFIC_REPOSITORIES:"ALLOW_SPECIFIC_REPOSITORIES",BLOCK:"BLOCK",INHERIT:"INHERIT"},yZ={EXTERNAL:"EXTERNAL",INTERNAL:"INTERNAL",UNKNOWN:"UNKNOWN"},EZ={DUALSTACK:"dualstack",IPV4:"ipv4"},SZ={PUBLISHED_TIME:"PUBLISHED_TIME"},_Z={ADDED:"ADDED",REMOVED:"REMOVED"};Object.defineProperty(y,"$Command",{enumerable:!0,get:function(){return te.Command}});Object.defineProperty(y,"__Client",{enumerable:!0,get:function(){return te.Client}});y.AccessDeniedException=Sf;y.AccessDeniedException$=E1;y.AllowPublish=oZ;y.AllowUpstream=sZ;y.AssetSummary$=IS;y.AssociateExternalConnection$=$L;y.AssociateExternalConnectionCommand=Af;y.AssociateExternalConnectionRequest$=_1;y.AssociateExternalConnectionResult$=b1;y.AssociatedPackage$=S1;y.Codeartifact=lp;y.CodeartifactClient=vt;y.CodeartifactServiceException=lr;y.CodeartifactServiceException$=OL;y.ConflictException=_f;y.ConflictException$=w1;y.CopyPackageVersions$=LL;y.CopyPackageVersionsCommand=Tf;y.CopyPackageVersionsRequest$=P1;y.CopyPackageVersionsResult$=R1;y.CreateDomain$=ML;y.CreateDomainCommand=vf;y.CreateDomainRequest$=C1;y.CreateDomainResult$=A1;y.CreatePackageGroup$=UL;y.CreatePackageGroupCommand=xf;y.CreatePackageGroupRequest$=T1;y.CreatePackageGroupResult$=v1;y.CreateRepository$=FL;y.CreateRepositoryCommand=If;y.CreateRepositoryRequest$=x1;y.CreateRepositoryResult$=I1;y.DeleteDomain$=qL;y.DeleteDomainCommand=Of;y.DeleteDomainPermissionsPolicy$=jL;y.DeleteDomainPermissionsPolicyCommand=Df;y.DeleteDomainPermissionsPolicyRequest$=O1;y.DeleteDomainPermissionsPolicyResult$=D1;y.DeleteDomainRequest$=N1;y.DeleteDomainResult$=k1;y.DeletePackage$=HL;y.DeletePackageCommand=Nf;y.DeletePackageGroup$=BL;y.DeletePackageGroupCommand=kf;y.DeletePackageGroupRequest$=$1;y.DeletePackageGroupResult$=L1;y.DeletePackageRequest$=M1;y.DeletePackageResult$=U1;y.DeletePackageVersions$=VL;y.DeletePackageVersionsCommand=$f;y.DeletePackageVersionsRequest$=F1;y.DeletePackageVersionsResult$=q1;y.DeleteRepository$=GL;y.DeleteRepositoryCommand=Lf;y.DeleteRepositoryPermissionsPolicy$=zL;y.DeleteRepositoryPermissionsPolicyCommand=Mf;y.DeleteRepositoryPermissionsPolicyRequest$=j1;y.DeleteRepositoryPermissionsPolicyResult$=H1;y.DeleteRepositoryRequest$=B1;y.DeleteRepositoryResult$=V1;y.DescribeDomain$=WL;y.DescribeDomainCommand=Uf;y.DescribeDomainRequest$=G1;y.DescribeDomainResult$=z1;y.DescribePackage$=KL;y.DescribePackageCommand=Ff;y.DescribePackageGroup$=YL;y.DescribePackageGroupCommand=qf;y.DescribePackageGroupRequest$=W1;y.DescribePackageGroupResult$=K1;y.DescribePackageRequest$=Y1;y.DescribePackageResult$=X1;y.DescribePackageVersion$=XL;y.DescribePackageVersionCommand=jf;y.DescribePackageVersionRequest$=Q1;y.DescribePackageVersionResult$=J1;y.DescribeRepository$=QL;y.DescribeRepositoryCommand=Hf;y.DescribeRepositoryRequest$=Z1;y.DescribeRepositoryResult$=e$;y.DisassociateExternalConnection$=JL;y.DisassociateExternalConnectionCommand=Bf;y.DisassociateExternalConnectionRequest$=t$;y.DisassociateExternalConnectionResult$=r$;y.DisposePackageVersions$=ZL;y.DisposePackageVersionsCommand=Vf;y.DisposePackageVersionsRequest$=n$;y.DisposePackageVersionsResult$=o$;y.DomainDescription$=Sp;y.DomainEntryPoint$=s$;y.DomainStatus=mZ;y.DomainSummary$=i$;y.EndpointType=EZ;y.ExternalConnectionStatus=uZ;y.GetAssociatedPackageGroup$=eM;y.GetAssociatedPackageGroupCommand=Gf;y.GetAssociatedPackageGroupRequest$=a$;y.GetAssociatedPackageGroupResult$=c$;y.GetAuthorizationToken$=tM;y.GetAuthorizationTokenCommand=zf;y.GetAuthorizationTokenRequest$=u$;y.GetAuthorizationTokenResult$=l$;y.GetDomainPermissionsPolicy$=rM;y.GetDomainPermissionsPolicyCommand=Wf;y.GetDomainPermissionsPolicyRequest$=d$;y.GetDomainPermissionsPolicyResult$=f$;y.GetPackageVersionAsset$=nM;y.GetPackageVersionAssetCommand=Kf;y.GetPackageVersionAssetRequest$=p$;y.GetPackageVersionAssetResult$=m$;y.GetPackageVersionReadme$=oM;y.GetPackageVersionReadmeCommand=Yf;y.GetPackageVersionReadmeRequest$=h$;y.GetPackageVersionReadmeResult$=g$;y.GetRepositoryEndpoint$=sM;y.GetRepositoryEndpointCommand=Xf;y.GetRepositoryEndpointRequest$=y$;y.GetRepositoryEndpointResult$=E$;y.GetRepositoryPermissionsPolicy$=iM;y.GetRepositoryPermissionsPolicyCommand=Qf;y.GetRepositoryPermissionsPolicyRequest$=S$;y.GetRepositoryPermissionsPolicyResult$=_$;y.HashAlgorithm=iZ;y.InternalServerException=bf;y.InternalServerException$=b$;y.LicenseInfo$=w$;y.ListAllowedRepositoriesForGroup$=aM;y.ListAllowedRepositoriesForGroupCommand=Wa;y.ListAllowedRepositoriesForGroupRequest$=P$;y.ListAllowedRepositoriesForGroupResult$=R$;y.ListAssociatedPackages$=cM;y.ListAssociatedPackagesCommand=Ka;y.ListAssociatedPackagesRequest$=C$;y.ListAssociatedPackagesResult$=A$;y.ListDomains$=uM;y.ListDomainsCommand=Ya;y.ListDomainsRequest$=T$;y.ListDomainsResult$=v$;y.ListPackageGroups$=lM;y.ListPackageGroupsCommand=Xa;y.ListPackageGroupsRequest$=x$;y.ListPackageGroupsResult$=I$;y.ListPackageVersionAssets$=fM;y.ListPackageVersionAssetsCommand=Ja;y.ListPackageVersionAssetsRequest$=N$;y.ListPackageVersionAssetsResult$=k$;y.ListPackageVersionDependencies$=pM;y.ListPackageVersionDependenciesCommand=Jf;y.ListPackageVersionDependenciesRequest$=$$;y.ListPackageVersionDependenciesResult$=L$;y.ListPackageVersions$=mM;y.ListPackageVersionsCommand=Za;y.ListPackageVersionsRequest$=M$;y.ListPackageVersionsResult$=U$;y.ListPackages$=dM;y.ListPackagesCommand=Qa;y.ListPackagesRequest$=O$;y.ListPackagesResult$=D$;y.ListRepositories$=hM;y.ListRepositoriesCommand=ec;y.ListRepositoriesInDomain$=gM;y.ListRepositoriesInDomainCommand=tc;y.ListRepositoriesInDomainRequest$=F$;y.ListRepositoriesInDomainResult$=q$;y.ListRepositoriesRequest$=j$;y.ListRepositoriesResult$=H$;y.ListSubPackageGroups$=yM;y.ListSubPackageGroupsCommand=rc;y.ListSubPackageGroupsRequest$=B$;y.ListSubPackageGroupsResult$=V$;y.ListTagsForResource$=EM;y.ListTagsForResourceCommand=Zf;y.ListTagsForResourceRequest$=G$;y.ListTagsForResourceResult$=z$;y.PackageDependency$=W$;y.PackageDescription$=K$;y.PackageFormat=cZ;y.PackageGroupAllowedRepository$=Y$;y.PackageGroupAllowedRepositoryUpdateType=_Z;y.PackageGroupAssociationType=aZ;y.PackageGroupDescription$=Ko;y.PackageGroupOriginConfiguration$=OS;y.PackageGroupOriginRestriction$=X$;y.PackageGroupOriginRestrictionMode=gZ;y.PackageGroupOriginRestrictionType=hZ;y.PackageGroupReference$=_p;y.PackageGroupSummary$=Q$;y.PackageOriginConfiguration$=bp;y.PackageOriginRestrictions$=DS;y.PackageSummary$=NS;y.PackageVersionDescription$=J$;y.PackageVersionError$=Z$;y.PackageVersionErrorCode=fZ;y.PackageVersionOrigin$=kS;y.PackageVersionOriginType=yZ;y.PackageVersionSortType=SZ;y.PackageVersionStatus=pZ;y.PackageVersionSummary$=eL;y.PublishPackageVersion$=SM;y.PublishPackageVersionCommand=ep;y.PublishPackageVersionRequest$=tL;y.PublishPackageVersionResult$=rL;y.PutDomainPermissionsPolicy$=_M;y.PutDomainPermissionsPolicyCommand=tp;y.PutDomainPermissionsPolicyRequest$=nL;y.PutDomainPermissionsPolicyResult$=oL;y.PutPackageOriginConfiguration$=bM;y.PutPackageOriginConfigurationCommand=rp;y.PutPackageOriginConfigurationRequest$=sL;y.PutPackageOriginConfigurationResult$=iL;y.PutRepositoryPermissionsPolicy$=wM;y.PutRepositoryPermissionsPolicyCommand=np;y.PutRepositoryPermissionsPolicyRequest$=aL;y.PutRepositoryPermissionsPolicyResult$=cL;y.RepositoryDescription$=Yo;y.RepositoryExternalConnectionInfo$=uL;y.RepositorySummary$=lL;y.ResourceNotFoundException=wf;y.ResourceNotFoundException$=dL;y.ResourcePolicy$=Xo;y.ResourceType=lZ;y.ServiceQuotaExceededException=Pf;y.ServiceQuotaExceededException$=fL;y.SuccessfulPackageVersionInfo$=pL;y.Tag$=mL;y.TagResource$=PM;y.TagResourceCommand=op;y.TagResourceRequest$=hL;y.TagResourceResult$=gL;y.ThrottlingException=Rf;y.ThrottlingException$=yL;y.UntagResource$=RM;y.UntagResourceCommand=sp;y.UntagResourceRequest$=EL;y.UntagResourceResult$=SL;y.UpdatePackageGroup$=CM;y.UpdatePackageGroupCommand=ip;y.UpdatePackageGroupOriginConfiguration$=AM;y.UpdatePackageGroupOriginConfigurationCommand=ap;y.UpdatePackageGroupOriginConfigurationRequest$=_L;y.UpdatePackageGroupOriginConfigurationResult$=bL;y.UpdatePackageGroupRequest$=wL;y.UpdatePackageGroupResult$=PL;y.UpdatePackageVersionsStatus$=TM;y.UpdatePackageVersionsStatusCommand=cp;y.UpdatePackageVersionsStatusRequest$=RL;y.UpdatePackageVersionsStatusResult$=CL;y.UpdateRepository$=vM;y.UpdateRepositoryCommand=up;y.UpdateRepositoryRequest$=AL;y.UpdateRepositoryResult$=TL;y.UpstreamRepository$=vL;y.UpstreamRepositoryInfo$=xL;y.ValidationException=Cf;y.ValidationException$=IL;y.ValidationExceptionReason=dZ;y.paginateListAllowedRepositoriesForGroup=xM;y.paginateListAssociatedPackages=IM;y.paginateListDomains=OM;y.paginateListPackageGroups=DM;y.paginateListPackageVersionAssets=kM;y.paginateListPackageVersions=$M;y.paginateListPackages=NM;y.paginateListRepositories=MM;y.paginateListRepositoriesInDomain=LM;y.paginateListSubPackageGroups=UM});var MS={};ot(MS,{__addDisposableResource:()=>iU,__assign:()=>Rp,__asyncDelegator:()=>JM,__asyncGenerator:()=>QM,__asyncValues:()=>ZM,__await:()=>ui,__awaiter:()=>GM,__classPrivateFieldGet:()=>nU,__classPrivateFieldIn:()=>sU,__classPrivateFieldSet:()=>oU,__createBinding:()=>Ap,__decorate:()=>HM,__disposeResources:()=>aU,__esDecorate:()=>bZ,__exportStar:()=>WM,__extends:()=>qM,__generator:()=>zM,__importDefault:()=>rU,__importStar:()=>tU,__makeTemplateObject:()=>eU,__metadata:()=>VM,__param:()=>BM,__propKey:()=>PZ,__read:()=>LS,__rest:()=>jM,__runInitializers:()=>wZ,__setFunctionName:()=>RZ,__spread:()=>KM,__spreadArray:()=>XM,__spreadArrays:()=>YM,__values:()=>Cp,default:()=>TZ});function qM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");$S(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function jM(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function HM(e,t,r,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function BM(e,t){return function(r,n){t(r,n,e)}}function bZ(e,t,r,n,o,s){function i(D){if(D!==void 0&&typeof D!="function")throw new TypeError("Function expected");return D}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),l,h=!1,g=r.length-1;g>=0;g--){var S={};for(var C in n)S[C]=C==="access"?{}:n[C];for(var C in n.access)S.access[C]=n.access[C];S.addInitializer=function(D){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(D||null))};var E=(0,r[g])(a==="accessor"?{get:d.get,set:d.set}:d[c],S);if(a==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(l=i(E.get))&&(d.get=l),(l=i(E.set))&&(d.set=l),(l=i(E.init))&&o.unshift(l)}else(l=i(E))&&(a==="field"?o.unshift(l):d[c]=l)}u&&Object.defineProperty(u,n.name,d),h=!0}function wZ(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function PZ(e){return typeof e=="symbol"?e:"".concat(e)}function RZ(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function VM(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function GM(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(d){try{u(n.next(d))}catch(l){i(l)}}function c(d){try{u(n.throw(d))}catch(l){i(l)}}function u(d){d.done?s(d.value):o(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})}function zM(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(s=u[0]&2?o.return:u[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,u[1])).done)return s;switch(o=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],o=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function WM(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ap(t,e,r)}function Cp(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function LS(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function KM(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(LS(arguments[t]));return e}function YM(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n}function XM(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function ui(e){return this instanceof ui?(this.v=e,this):new ui(e)}function QM(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,s=[];return o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o;function i(h){n[h]&&(o[h]=function(g){return new Promise(function(S,C){s.push([h,g,S,C])>1||a(h,g)})})}function a(h,g){try{c(n[h](g))}catch(S){l(s[0][3],S)}}function c(h){h.value instanceof ui?Promise.resolve(h.value.v).then(u,d):l(s[0][2],h)}function u(h){a("next",h)}function d(h){a("throw",h)}function l(h,g){h(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function JM(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,s){t[o]=e[o]?function(i){return(r=!r)?{value:ui(e[o](i)),done:!1}:s?s(i):i}:s}}function ZM(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Cp=="function"?Cp(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(a,c){i=e[s](i),o(a,c,i.done,i.value)})}}function o(s,i,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},i)}}function eU(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function tU(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Ap(t,e,r);return CZ(t,e),t}function rU(e){return e&&e.__esModule?e:{default:e}}function nU(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function oU(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function sU(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function iU(e,t,r){if(t!=null){if(typeof t!="object")throw new TypeError("Object expected.");var n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose]}if(typeof n!="function")throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function aU(e){function t(n){e.error=e.hasError?new AZ(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}function r(){for(;e.stack.length;){var n=e.stack.pop();try{var o=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(o).then(r,function(s){return t(s),r()})}catch(s){t(s)}}if(e.hasError)throw e.error}return r()}var $S,Rp,Ap,CZ,AZ,TZ,US=R(()=>{$S=function(e,t){return $S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},$S(e,t)};Rp=function(){return Rp=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Rp.apply(this,arguments)};Ap=Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};CZ=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};AZ=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};TZ={__extends:qM,__assign:Rp,__rest:jM,__decorate:HM,__param:BM,__metadata:VM,__awaiter:GM,__generator:zM,__createBinding:Ap,__exportStar:WM,__values:Cp,__read:LS,__spread:KM,__spreadArrays:YM,__spreadArray:XM,__await:ui,__asyncGenerator:QM,__asyncDelegator:JM,__asyncValues:ZM,__makeTemplateObject:eU,__importStar:tU,__importDefault:rU,__classPrivateFieldGet:nU,__classPrivateFieldSet:oU,__classPrivateFieldIn:sU,__addDisposableResource:iU,__disposeResources:aU}});var cc=N(Tp=>{"use strict";Object.defineProperty(Tp,"__esModule",{value:!0});Tp.ProviderError=void 0;var FS=class e extends Error{constructor(t,r=!0){super(t),this.tryNextLink=r,this.name="ProviderError",Object.setPrototypeOf(this,e.prototype)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}};Tp.ProviderError=FS});var cU=N(vp=>{"use strict";Object.defineProperty(vp,"__esModule",{value:!0});vp.CredentialsProviderError=void 0;var vZ=cc(),qS=class e extends vZ.ProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="CredentialsProviderError",Object.setPrototypeOf(this,e.prototype)}};vp.CredentialsProviderError=qS});var uU=N(xp=>{"use strict";Object.defineProperty(xp,"__esModule",{value:!0});xp.TokenProviderError=void 0;var xZ=cc(),jS=class e extends xZ.ProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="TokenProviderError",Object.setPrototypeOf(this,e.prototype)}};xp.TokenProviderError=jS});var lU=N(Ip=>{"use strict";Object.defineProperty(Ip,"__esModule",{value:!0});Ip.chain=void 0;var IZ=cc();function OZ(...e){return()=>{let t=Promise.reject(new IZ.ProviderError("No providers in chain"));for(let r of e)t=t.catch(n=>{if(n?.tryNextLink)return r();throw n});return t}}Ip.chain=OZ});var dU=N(Op=>{"use strict";Object.defineProperty(Op,"__esModule",{value:!0});Op.fromStatic=void 0;var DZ=e=>()=>Promise.resolve(e);Op.fromStatic=DZ});var fU=N(Dp=>{"use strict";Object.defineProperty(Dp,"__esModule",{value:!0});Dp.memoize=void 0;var NZ=(e,t,r)=>{let n,o,s,i=!1,a=async()=>{o||(o=e());try{n=await o,s=!0,i=!1}finally{o=void 0}return n};return t===void 0?async c=>((!s||c?.forceRefresh)&&(n=await a()),n):async c=>((!s||c?.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))};Dp.memoize=NZ});var pU=N(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});var li=(US(),Se(MS));li.__exportStar(cU(),eo);li.__exportStar(cc(),eo);li.__exportStar(uU(),eo);li.__exportStar(lU(),eo);li.__exportStar(dU(),eo);li.__exportStar(fU(),eo)});var mU=N(HS=>{"use strict";Object.defineProperty(HS,"__esModule",{value:!0});var kZ=(US(),Se(MS));kZ.__exportStar(pU(),HS)});var HZ={};ot(HZ,{default:()=>jZ});var hU=Y("@yarnpkg/core"),gU=Y("@yarnpkg/fslib"),BS=Y("@yarnpkg/shell");var W_=Y("@yarnpkg/core"),Dt=Y("@yarnpkg/fslib"),K_=Y("@yarnpkg/parsers"),cm=Y("@yarnpkg/plugin-npm");var XS=Y("util"),Sc=Y("path");function no(e){if(e!==e.toLowerCase()&&e!==e.toUpperCase()||(e=e.toLowerCase()),e.indexOf("-")===-1&&e.indexOf("_")===-1)return e;{let r="",n=!1,o=e.match(/^-+/);for(let s=o?o[0].length:0;s<e.length;s++){let i=e.charAt(s);n&&(n=!1,i=i.toUpperCase()),s!==0&&(i==="-"||i==="_")?n=!0:i!=="-"&&i!=="_"&&(r+=i)}return r}}function gc(e,t){let r=e.toLowerCase();t=t||"-";let n="";for(let o=0;o<e.length;o++){let s=r.charAt(o),i=e.charAt(o);s!==i&&o>0?n+=`${t}${r.charAt(o)}`:n+=i}return n}function yc(e){return e==null?!1:typeof e=="number"||/^0x[0-9a-f]+$/i.test(e)?!0:/^0[^.]/.test(e)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}function zS(e){if(Array.isArray(e))return e.map(i=>typeof i!="string"?i+"":i);e=e.trim();let t=0,r=null,n=null,o=null,s=[];for(let i=0;i<e.length;i++){if(r=n,n=e.charAt(i),n===" "&&!o){r!==" "&&t++;continue}n===o?o=null:(n==="'"||n==='"')&&!o&&(o=n),s[t]||(s[t]=""),s[t]+=n}return s}var jt;(function(e){e.BOOLEAN="boolean",e.STRING="string",e.NUMBER="number",e.ARRAY="array"})(jt||(jt={}));var Or,Ec=class{constructor(t){Or=t}parse(t,r){let n=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},r),o=zS(t),s=typeof t=="string",i=DU(Object.assign(Object.create(null),n.alias)),a=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},n.configuration),c=Object.assign(Object.create(null),n.default),u=n.configObjects||[],d=n.envPrefix,l=a["populate--"],h=l?"--":"_",g=Object.create(null),S=Object.create(null),C=n.__||Or.format,E={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},D=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,M=new RegExp("^--"+a["negation-prefix"]+"(.+)");[].concat(n.array||[]).filter(Boolean).forEach(function(P){let I=typeof P=="object"?P.key:P,F=Object.keys(P).map(function(L){return{boolean:"bools",string:"strings",number:"numbers"}[L]}).filter(Boolean).pop();F&&(E[F][I]=!0),E.arrays[I]=!0,E.keys.push(I)}),[].concat(n.boolean||[]).filter(Boolean).forEach(function(P){E.bools[P]=!0,E.keys.push(P)}),[].concat(n.string||[]).filter(Boolean).forEach(function(P){E.strings[P]=!0,E.keys.push(P)}),[].concat(n.number||[]).filter(Boolean).forEach(function(P){E.numbers[P]=!0,E.keys.push(P)}),[].concat(n.count||[]).filter(Boolean).forEach(function(P){E.counts[P]=!0,E.keys.push(P)}),[].concat(n.normalize||[]).filter(Boolean).forEach(function(P){E.normalize[P]=!0,E.keys.push(P)}),typeof n.narg=="object"&&Object.entries(n.narg).forEach(([P,I])=>{typeof I=="number"&&(E.nargs[P]=I,E.keys.push(P))}),typeof n.coerce=="object"&&Object.entries(n.coerce).forEach(([P,I])=>{typeof I=="function"&&(E.coercions[P]=I,E.keys.push(P))}),typeof n.config<"u"&&(Array.isArray(n.config)||typeof n.config=="string"?[].concat(n.config).filter(Boolean).forEach(function(P){E.configs[P]=!0}):typeof n.config=="object"&&Object.entries(n.config).forEach(([P,I])=>{(typeof I=="boolean"||typeof I=="function")&&(E.configs[P]=I)})),Lp(n.key,i,n.default,E.arrays),Object.keys(c).forEach(function(P){(E.aliases[P]||[]).forEach(function(I){c[I]=c[P]})});let q=null;Fp();let z=[],H=Object.assign(Object.create(null),{_:[]}),oe={};for(let P=0;P<o.length;P++){let I=o[P],F=I.replace(/^-{3,}/,"---"),L,v,W,B,J,Ge;if(I!=="--"&&/^-/.test(I)&&Ft(I))Pe(I);else if(F.match(/^---+(=|$)/)){Pe(I);continue}else if(I.match(/^--.+=/)||!a["short-option-groups"]&&I.match(/^-.+=/))B=I.match(/^--?([^=]+)=([\s\S]*)$/),B!==null&&Array.isArray(B)&&B.length>=3&&(ce(B[1],E.arrays)?P=G(P,B[1],o,B[2]):ce(B[1],E.nargs)!==!1?P=V(P,B[1],o,B[2]):j(B[1],B[2],!0));else if(I.match(M)&&a["boolean-negation"])B=I.match(M),B!==null&&Array.isArray(B)&&B.length>=2&&(v=B[1],j(v,ce(v,E.arrays)?[!1]:!1));else if(I.match(/^--.+/)||!a["short-option-groups"]&&I.match(/^-[^-]+/))B=I.match(/^--?(.+)/),B!==null&&Array.isArray(B)&&B.length>=2&&(v=B[1],ce(v,E.arrays)?P=G(P,v,o):ce(v,E.nargs)!==!1?P=V(P,v,o):(J=o[P+1],J!==void 0&&(!J.match(/^-/)||J.match(D))&&!ce(v,E.bools)&&!ce(v,E.counts)||/^(true|false)$/.test(J)?(j(v,J),P++):j(v,cn(v))));else if(I.match(/^-.\..+=/))B=I.match(/^-([^=]+)=([\s\S]*)$/),B!==null&&Array.isArray(B)&&B.length>=3&&j(B[1],B[2]);else if(I.match(/^-.\..+/)&&!I.match(D))J=o[P+1],B=I.match(/^-(.\..+)/),B!==null&&Array.isArray(B)&&B.length>=2&&(v=B[1],J!==void 0&&!J.match(/^-/)&&!ce(v,E.bools)&&!ce(v,E.counts)?(j(v,J),P++):j(v,cn(v)));else if(I.match(/^-[^-]+/)&&!I.match(D)){W=I.slice(1,-1).split(""),L=!1;for(let Ze=0;Ze<W.length;Ze++){if(J=I.slice(Ze+2),W[Ze+1]&&W[Ze+1]==="="){Ge=I.slice(Ze+3),v=W[Ze],ce(v,E.arrays)?P=G(P,v,o,Ge):ce(v,E.nargs)!==!1?P=V(P,v,o,Ge):j(v,Ge),L=!0;break}if(J==="-"){j(W[Ze],J);continue}if(/[A-Za-z]/.test(W[Ze])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(J)&&ce(J,E.bools)===!1){j(W[Ze],J),L=!0;break}if(W[Ze+1]&&W[Ze+1].match(/\W/)){j(W[Ze],J),L=!0;break}else j(W[Ze],cn(W[Ze]))}v=I.slice(-1)[0],!L&&v!=="-"&&(ce(v,E.arrays)?P=G(P,v,o):ce(v,E.nargs)!==!1?P=V(P,v,o):(J=o[P+1],J!==void 0&&(!/^(-|--)[^-]/.test(J)||J.match(D))&&!ce(v,E.bools)&&!ce(v,E.counts)||/^(true|false)$/.test(J)?(j(v,J),P++):j(v,cn(v))))}else if(I.match(/^-[0-9]$/)&&I.match(D)&&ce(I.slice(1),E.bools))v=I.slice(1),j(v,cn(v));else if(I==="--"){z=o.slice(P+1);break}else if(a["halt-at-non-option"]){z=o.slice(P);break}else Pe(I)}lc(H,!0),lc(H,!1),Np(H),uc(),dc(H,E.aliases,c,!0),kp(H),a["set-placeholder-key"]&&$p(H),Object.keys(E.counts).forEach(function(P){to(H,P.split("."))||j(P,0)}),l&&z.length&&(H[h]=[]),z.forEach(function(P){H[h].push(P)}),a["camel-case-expansion"]&&a["strip-dashed"]&&Object.keys(H).filter(P=>P!=="--"&&P.includes("-")).forEach(P=>{delete H[P]}),a["strip-aliased"]&&[].concat(...Object.keys(i).map(P=>i[P])).forEach(P=>{a["camel-case-expansion"]&&P.includes("-")&&delete H[P.split(".").map(I=>no(I)).join(".")],delete H[P]});function Pe(P){let I=Qo("_",P);(typeof I=="string"||typeof I=="number")&&H._.push(I)}function V(P,I,F,L){let v,W=ce(I,E.nargs);if(W=typeof W!="number"||isNaN(W)?1:W,W===0)return It(L)||(q=Error(C("Argument unexpected for: %s",I))),j(I,cn(I)),P;let B=It(L)?0:1;if(a["nargs-eats-options"])F.length-(P+1)+B<W&&(q=Error(C("Not enough arguments following: %s",I))),B=W;else{for(v=P+1;v<F.length&&(!F[v].match(/^-[^0-9]/)||F[v].match(D)||Ft(F[v]));v++)B++;B<W&&(q=Error(C("Not enough arguments following: %s",I)))}let J=Math.min(B,W);for(!It(L)&&J>0&&(j(I,L),J--),v=P+1;v<J+P+1;v++)j(I,F[v]);return P+J}function G(P,I,F,L){let v=[],W=L||F[P+1],B=ce(I,E.nargs);if(ce(I,E.bools)&&!/^(true|false)$/.test(W))v.push(!0);else if(It(W)||It(L)&&/^-/.test(W)&&!D.test(W)&&!Ft(W)){if(c[I]!==void 0){let J=c[I];v=Array.isArray(J)?J:[J]}}else{It(L)||v.push(Je(I,L,!0));for(let J=P+1;J<F.length&&!(!a["greedy-arrays"]&&v.length>0||B&&typeof B=="number"&&v.length>=B||(W=F[J],/^-/.test(W)&&!D.test(W)&&!Ft(W)));J++)P=J,v.push(Je(I,W,s))}return typeof B=="number"&&(B&&v.length<B||isNaN(B)&&v.length===0)&&(q=Error(C("Not enough arguments following: %s",I))),j(I,v),P}function j(P,I,F=s){if(/-/.test(P)&&a["camel-case-expansion"]){let W=P.split(".").map(function(B){return no(B)}).join(".");_e(P,W)}let L=Je(P,I,F),v=P.split(".");ro(H,v,L),E.aliases[P]&&E.aliases[P].forEach(function(W){let B=W.split(".");ro(H,B,L)}),v.length>1&&a["dot-notation"]&&(E.aliases[v[0]]||[]).forEach(function(W){let B=W.split("."),J=[].concat(v);J.shift(),B=B.concat(J),(E.aliases[P]||[]).includes(B.join("."))||ro(H,B,L)}),ce(P,E.normalize)&&!ce(P,E.arrays)&&[P].concat(E.aliases[P]||[]).forEach(function(B){Object.defineProperty(oe,B,{enumerable:!0,get(){return I},set(J){I=typeof J=="string"?Or.normalize(J):J}})})}function _e(P,I){E.aliases[P]&&E.aliases[P].length||(E.aliases[P]=[I],g[I]=!0),E.aliases[I]&&E.aliases[I].length||_e(I,P)}function Je(P,I,F){F&&(I=NU(I)),(ce(P,E.bools)||ce(P,E.counts))&&typeof I=="string"&&(I=I==="true");let L=Array.isArray(I)?I.map(function(v){return Qo(P,v)}):Qo(P,I);return ce(P,E.counts)&&(It(L)||typeof L=="boolean")&&(L=qp()),ce(P,E.normalize)&&ce(P,E.arrays)&&(Array.isArray(I)?L=I.map(v=>Or.normalize(v)):L=Or.normalize(I)),L}function Qo(P,I){return!a["parse-positional-numbers"]&&P==="_"||!ce(P,E.strings)&&!ce(P,E.bools)&&!Array.isArray(I)&&(yc(I)&&a["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${I}`)))||!It(I)&&ce(P,E.numbers))&&(I=Number(I)),I}function Np(P){let I=Object.create(null);dc(I,E.aliases,c),Object.keys(E.configs).forEach(function(F){let L=P[F]||I[F];if(L)try{let v=null,W=Or.resolve(Or.cwd(),L),B=E.configs[F];if(typeof B=="function"){try{v=B(W)}catch(J){v=J}if(v instanceof Error){q=v;return}}else v=Or.require(W);di(v)}catch(v){v.name==="PermissionDenied"?q=v:P[F]&&(q=Error(C("Invalid JSON config file: %s",L)))}})}function di(P,I){Object.keys(P).forEach(function(F){let L=P[F],v=I?I+"."+F:F;typeof L=="object"&&L!==null&&!Array.isArray(L)&&a["dot-notation"]?di(L,v):(!to(H,v.split("."))||ce(v,E.arrays)&&a["combine-arrays"])&&j(v,L)})}function uc(){typeof u<"u"&&u.forEach(function(P){di(P)})}function lc(P,I){if(typeof d>"u")return;let F=typeof d=="string"?d:"",L=Or.env();Object.keys(L).forEach(function(v){if(F===""||v.lastIndexOf(F,0)===0){let W=v.split("__").map(function(B,J){return J===0&&(B=B.substring(F.length)),no(B)});(I&&E.configs[W.join(".")]||!I)&&!to(P,W)&&j(W.join("."),L[v])}})}function kp(P){let I,F=new Set;Object.keys(P).forEach(function(L){if(!F.has(L)&&(I=ce(L,E.coercions),typeof I=="function"))try{let v=Qo(L,I(P[L]));[].concat(E.aliases[L]||[],L).forEach(W=>{F.add(W),P[W]=v})}catch(v){q=v}})}function $p(P){return E.keys.forEach(I=>{~I.indexOf(".")||typeof P[I]>"u"&&(P[I]=void 0)}),P}function dc(P,I,F,L=!1){Object.keys(F).forEach(function(v){to(P,v.split("."))||(ro(P,v.split("."),F[v]),L&&(S[v]=!0),(I[v]||[]).forEach(function(W){to(P,W.split("."))||ro(P,W.split("."),F[v])}))})}function to(P,I){let F=P;a["dot-notation"]||(I=[I.join(".")]),I.slice(0,-1).forEach(function(v){F=F[v]||{}});let L=I[I.length-1];return typeof F!="object"?!1:L in F}function ro(P,I,F){let L=P;a["dot-notation"]||(I=[I.join(".")]),I.slice(0,-1).forEach(function(Ge){Ge=WS(Ge),typeof L=="object"&&L[Ge]===void 0&&(L[Ge]={}),typeof L[Ge]!="object"||Array.isArray(L[Ge])?(Array.isArray(L[Ge])?L[Ge].push({}):L[Ge]=[L[Ge],{}],L=L[Ge][L[Ge].length-1]):L=L[Ge]});let v=WS(I[I.length-1]),W=ce(I.join("."),E.arrays),B=Array.isArray(F),J=a["duplicate-arguments-array"];!J&&ce(v,E.nargs)&&(J=!0,(!It(L[v])&&E.nargs[v]===1||Array.isArray(L[v])&&L[v].length===E.nargs[v])&&(L[v]=void 0)),F===qp()?L[v]=qp(L[v]):Array.isArray(L[v])?J&&W&&B?L[v]=a["flatten-duplicate-arrays"]?L[v].concat(F):(Array.isArray(L[v][0])?L[v]:[L[v]]).concat([F]):!J&&!!W==!!B?L[v]=F:L[v]=L[v].concat([F]):L[v]===void 0&&W?L[v]=B?F:[F]:J&&!(L[v]===void 0||ce(v,E.counts)||ce(v,E.bools))?L[v]=[L[v],F]:L[v]=F}function Lp(...P){P.forEach(function(I){Object.keys(I||{}).forEach(function(F){E.aliases[F]||(E.aliases[F]=[].concat(i[F]||[]),E.aliases[F].concat(F).forEach(function(L){if(/-/.test(L)&&a["camel-case-expansion"]){let v=no(L);v!==F&&E.aliases[F].indexOf(v)===-1&&(E.aliases[F].push(v),g[v]=!0)}}),E.aliases[F].concat(F).forEach(function(L){if(L.length>1&&/[A-Z]/.test(L)&&a["camel-case-expansion"]){let v=gc(L,"-");v!==F&&E.aliases[F].indexOf(v)===-1&&(E.aliases[F].push(v),g[v]=!0)}}),E.aliases[F].forEach(function(L){E.aliases[L]=[F].concat(E.aliases[F].filter(function(v){return L!==v}))}))})})}function ce(P,I){let F=[].concat(E.aliases[P]||[],P),L=Object.keys(I),v=F.find(W=>L.includes(W));return v?I[v]:!1}function fc(P){let I=Object.keys(E);return[].concat(I.map(L=>E[L])).some(function(L){return Array.isArray(L)?L.includes(P):L[P]})}function Mp(P,...I){return[].concat(...I).some(function(L){let v=P.match(L);return v&&fc(v[1])})}function Up(P){if(P.match(D)||!P.match(/^-[^-]+/))return!1;let I=!0,F,L=P.slice(1).split("");for(let v=0;v<L.length;v++){if(F=P.slice(v+2),!fc(L[v])){I=!1;break}if(L[v+1]&&L[v+1]==="="||F==="-"||/[A-Za-z]/.test(L[v])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(F)||L[v+1]&&L[v+1].match(/\W/))break}return I}function Ft(P){return a["unknown-options-as-args"]&&fi(P)}function fi(P){return P=P.replace(/^-{3,}/,"--"),P.match(D)||Up(P)?!1:!Mp(P,/^-+([^=]+?)=[\s\S]*$/,M,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}function cn(P){return!ce(P,E.bools)&&!ce(P,E.counts)&&`${P}`in c?c[P]:pc(mc(P))}function pc(P){return{[jt.BOOLEAN]:!0,[jt.STRING]:"",[jt.NUMBER]:void 0,[jt.ARRAY]:[]}[P]}function mc(P){let I=jt.BOOLEAN;return ce(P,E.strings)?I=jt.STRING:ce(P,E.numbers)?I=jt.NUMBER:ce(P,E.bools)?I=jt.BOOLEAN:ce(P,E.arrays)&&(I=jt.ARRAY),I}function It(P){return P===void 0}function Fp(){Object.keys(E.counts).find(P=>ce(P,E.arrays)?(q=Error(C("Invalid configuration: %s, opts.count excludes opts.array.",P)),!0):ce(P,E.nargs)?(q=Error(C("Invalid configuration: %s, opts.count excludes opts.narg.",P)),!0):!1)}return{aliases:Object.assign({},E.aliases),argv:Object.assign(oe,H),configuration:a,defaulted:Object.assign({},S),error:q,newAliases:Object.assign({},g)}}};function DU(e){let t=[],r=Object.create(null),n=!0;for(Object.keys(e).forEach(function(o){t.push([].concat(e[o],o))});n;){n=!1;for(let o=0;o<t.length;o++)for(let s=o+1;s<t.length;s++)if(t[o].filter(function(a){return t[s].indexOf(a)!==-1}).length){t[o]=t[o].concat(t[s]),t.splice(s,1),n=!0;break}}return t.forEach(function(o){o=o.filter(function(i,a,c){return c.indexOf(i)===a});let s=o.pop();s!==void 0&&typeof s=="string"&&(r[s]=o)}),r}function qp(e){return e!==void 0?e+1:1}function WS(e){return e==="__proto__"?"___proto___":e}function NU(e){return typeof e=="string"&&(e[0]==="'"||e[0]==='"')&&e[e.length-1]===e[0]?e.substring(1,e.length-1):e}var QS=Y("fs");var jp,Hp,Bp,KS=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12,YS=(Hp=(jp=process==null?void 0:process.versions)===null||jp===void 0?void 0:jp.node)!==null&&Hp!==void 0?Hp:(Bp=process==null?void 0:process.version)===null||Bp===void 0?void 0:Bp.slice(1);if(YS&&Number(YS.match(/^([^.]+)/)[1])<KS)throw Error(`yargs parser supports a minimum Node.js version of ${KS}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);var kU=process?process.env:{},JS=new Ec({cwd:process.cwd,env:()=>kU,format:XS.format,normalize:Sc.normalize,resolve:Sc.resolve,require:e=>{if(typeof Y<"u")return Y(e);if(e.match(/\.json$/))return JSON.parse((0,QS.readFileSync)(e,"utf8"));throw Error("only .json config files are supported in ESM")}}),pi=function(t,r){return JS.parse(t.slice(),r).argv};pi.detailed=function(e,t){return JS.parse(e.slice(),t)};pi.camelCase=no;pi.decamelize=gc;pi.looksLikeNumber=yc;var ZS=pi;var e_=Y("@yarnpkg/plugin-npm");var{FETCH_REGISTRY:_c,PUBLISH_REGISTRY:ln}=e_.npmConfigUtils.RegistryType,$U=[{positionalArgs:["add"]},{positionalArgs:["create"]},{positionalArgs:["dedupe"]},{positionalArgs:["dlx"]},{positionalArgs:["info"]},{positionalArgs:["install"]},{positionalArgs:["link"]},{positionalArgs:["npm","audit"],registryFn:()=>ln},{positionalArgs:["npm","info"]},{positionalArgs:["npm","login"],registryFn:({publish:e})=>e?ln:_c},{positionalArgs:["npm","logout"],registryFn:({publish:e})=>e?ln:_c},{positionalArgs:["npm","publish"],registryFn:()=>ln},{positionalArgs:["npm","whoami"],registryFn:({publish:e})=>e?ln:_c},{positionalArgs:["npm","tag","add"],registryFn:()=>ln},{positionalArgs:["npm","tag","list"]},{positionalArgs:["npm","tag","remove"],registryFn:()=>ln},{positionalArgs:["pack"],registryFn:({installIfNeeded:e})=>e?_c:null},{positionalArgs:["rebuild"]},{positionalArgs:["remove"]},{positionalArgs:["search"]},{positionalArgs:["set","resolution"]},{positionalArgs:["unplug"]},{positionalArgs:["up"]},{positionalArgs:["upgrade-interactive"]},{positionalArgs:["workspace"],shiftPositionalArgs:2},{positionalArgs:["workspaces","focus"]},{positionalArgs:["workspaces","foreach"],shiftPositionalArgs:2},{positionalArgs:["lerna","add"]},{positionalArgs:["lerna","bootstrap"]},{positionalArgs:["lerna","publish"],registryFn:()=>ln},{positionalArgs:["lerna","run"],shiftPositionalArgs:2}],Vp=e=>$U.find(({positionalArgs:t})=>t_(e,...t))||null;var Y_=T(D_()),co=T(z_()),Pj=".yarn-plugin-aws-codeartifact.yml",X_=Dt.npath.basename(__dirname)==="@yarnpkg"?Dt.ppath.join(Dt.npath.toPortablePath(__dirname),"../.."):Dt.ppath.join(Dt.npath.toPortablePath(__dirname),".."),Q_=(e=process.argv.slice(2))=>{let t=ZS(e),{_:r}=t;r.length||r.push("install");let n=Vp(r),{shiftPositionalArgs:o}=n||{};if(o&&(r.splice(0,o),n=Vp(r)),n===null)return null;let{registryFn:s=()=>cm.npmConfigUtils.RegistryType.FETCH_REGISTRY}=n;return s(t)},t_=(e,...t)=>{for(let r=0;r<t.length;r++)if(e[r]!==t[r])return!1;return!0},J_=e=>{let t=e.match(/^https?:\/\/(.+)-(\d+)\.d\.codeartifact\.(.+)\.amazonaws\.com\/npm\/(.+)\/?$/);if(!t)return null;let[,r,n,o]=t;return{domain:r,domainOwner:n,region:o}},Z_=async e=>{let t=await Rj(e),r=await Cj();r!==null&&t.push(r);let n=t.map(Aj((o,{cwd:s})=>{o.skipCommand&&(o.skipCommand=JSON.stringify({command:o.skipCommand,cwd:s})),o.preAuthCommand&&(o.preAuthCommand=JSON.stringify({command:o.preAuthCommand,cwd:s}))})).map(({data:o})=>o);return(0,Y_.default)({},...n)},Rj=async e=>{let t=[],r=e,n=null;for(;r!==n;){n=r;let o=await eb(n);if(o!==null&&t.push(o),r=Dt.ppath.dirname(n),process.env._YARN_PLUGIN_AWS_CODEARTIFACT_TESTING&&n===X_)break}return t},Cj=async()=>{let e=process.env._YARN_PLUGIN_AWS_CODEARTIFACT_TESTING?Dt.ppath.join(X_,"src/__tests__/integration/fixtures/home"):W_.folderUtils.getHomeFolder();return eb(e)},eb=async e=>{let t=Dt.ppath.join(e,Pj);if(Dt.xfs.existsSync(t)){let r=await Dt.xfs.readFilePromise(t,"utf8"),n=(0,K_.parseSyml)(r);return{path:t,cwd:e,data:n}}return null},am=e=>`${e}Config`,Oc=(e,t)=>(0,co.default)(e,[am(t)])||(0,co.default)(e,[am(cm.npmConfigUtils.RegistryType.FETCH_REGISTRY)])||null,tb=(e,t)=>{let r=e.replace(/\/$/,"");return(0,co.default)(t,["npmRegistries",r])||(0,co.default)(t,["npmRegistries",r.replace(/^[a-z]+:/,"")])||null},rb=(e,t,r)=>{let n=(0,co.default)(t,["npmScopes",e])||null;return n===null?Oc(t,r):(0,co.default)(n,[am(r)])||Oc(t,r)},Dc=(e,t)=>{let r=new Map;return(...n)=>{let o=t(...n);if(r.has(o))return r.get(o);let s=e(...n);return r.set(o,s),s}},Aj=e=>t=>{let r=t.data;return r.npmRegistryServerConfig&&e(r.npmRegistryServerConfig,t),r.npmPublishRegistryConfig&&e(r.npmPublishRegistryConfig,t),r.npmScopes&&Object.values(r.npmScopes).forEach(({npmRegistryServerConfig:n,npmPublishRegistryConfig:o})=>{n&&e(n,t),o&&e(o,t)}),r.npmRegistries&&Object.values(r.npmRegistries).forEach(n=>{n&&e(n,t)}),t};var yU=T(FM()),EU=T(hS()),SU=T(Sl()),_U=T(mU()),bU=async(e,t,{configuration:r,ident:n})=>{try{let o=await LZ(r);if(o===null)return;let{pluginConfig:s,registryType:i}=o;if($Z())return"Bearer dummy-token";let a=await MZ(t,n?.scope||null,i,s,UZ);return a===null?void 0:`Bearer ${a}`}catch(o){throw new Error(`An error was encountered in the AWS CodeArtifact Yarn Plugin (${o})`,{cause:o})}},$Z=()=>process.env.DEPENDABOT_JOB_ID!==void 0,LZ=Dc(async e=>{let t=Q_();if(t===null)return null;let r=FZ(e);return{pluginConfig:await Z_(r),registryType:t}},()=>"singleton"),MZ=Dc(async(e,t,r,n,o)=>{let s=J_(e);if(s===null)return null;let i=t&&rb(t,n,r)||tb(e,n)||Oc(n,r),{skipCommand:a}=i||{};if(a){let{command:c,cwd:u}=JSON.parse(a);if(!await(0,BS.execute)(c,[],{cwd:u}))return null}return o(s,i)},(e,t,r)=>JSON.stringify({registry:e,scope:t,registryType:r})),UZ=Dc(async(e,t)=>{let{domain:r,domainOwner:n,region:o}=e,{awsProfile:s,preferAwsEnvironmentCredentials:i,preAuthCommand:a}=t||{awsProfile:void 0,preferAwsEnvironmentCredentials:!1};if(a){let{command:u,cwd:d}=JSON.parse(a);if(await(0,BS.execute)(u,[],{cwd:d}))throw new Error("The `preAuthCommand` failed, see output above.")}let c;if(process.env._YARN_PLUGIN_AWS_CODEARTIFACT_TESTING)c=["~~",r,n,o,s,i,"~~"].join("~");else{let u=(0,EU.defaultProvider)({...s!==void 0?{profile:s}:{}}),d=hU.miscUtils.parseOptionalBoolean(i)?(0,_U.chain)((0,SU.fromEnv)(),u):u,l=new yU.Codeartifact({region:o,credentials:d}),h={domain:r,domainOwner:n,durationSeconds:900};c=(await l.getAuthorizationToken(h)).authorizationToken}if(!c)throw new Error("AWS CodeArtifact Authorization token returned undefined");return process.env._YARN_PLUGIN_AWS_CODEARTIFACT_DEBUG&&console.log(`_YARN_PLUGIN_AWS_CODEARTIFACT_DEBUG: Retrieved token for authorization parameters ${JSON.stringify(e)} with config ${JSON.stringify(t)}: ${c}`),c},(e,t)=>JSON.stringify({authorizationTokenParams:e,pluginRegistryConfig:t})),FZ=e=>!!e.projectCwd?.endsWith(`dlx-${process.pid}`)?gU.npath.toPortablePath(process.cwd()):e.startingCwd;var qZ={hooks:{getNpmAuthenticationHeader:bU}},jZ=qZ;return Se(HZ);})();
/*! Bundled license information:

yargs-parser/build/lib/string-utils.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/tokenize-arg-string.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/yargs-parser-types.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/yargs-parser.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/index.js:
  (**
   * @fileoverview Main entrypoint for libraries using yargs-parser in Node.js
   * CJS and ESM environments.
   *
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)
*/
return plugin;
}
};
